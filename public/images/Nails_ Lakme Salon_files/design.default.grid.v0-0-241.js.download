/*

 Lodash (Custom Build) <https://lodash.com/>
 Build: `lodash include="throttle,differenceWith,isEqual,startsWith,includes,defer,find,remove,findIndex,forEach,template,filter,debounce,isInteger,isDate"`
 Copyright JS Foundation and other contributors <https://js.foundation/>
 Released under MIT license <https://lodash.com/license>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 modernizr 3.6.0 (Custom Build) | MIT *
 https://modernizr.com/download/?-applicationcache-cssall-cssreflections-generatedcontent-indexeddb-objectfit-sessionstorage-smil-svgclippaths-videoautoplay-websqldatabase-addtest-domprefixes-hasevent-mq-prefixed-prefixes-setclasses-testallprops-testprop-cssclassprefix:mod- ! Picturefill - v2.3.1 - 2015-04-09
 http://scottjehl.github.io/picturefill
 Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT  matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license  Picturefill - Responsive Images that work today.
  Author: Scott Jehl, Filament Group, 2012 ( new proposal implemented by Shawn Jansepar )
  License: MIT/GPLv2
  Spec: http://picture.responsiveimages.org/
 jQuery JavaScript Library v3.2.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2017-03-20T18:59Z
 Sizzle CSS Selector Engine v2.3.3
 https://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-08-08
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 typeahead.js 0.11.1
 https://github.com/twitter/typeahead.js
 Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 Bowser - a browser detector
 https://github.com/ded/bowser
 MIT License | (c) Dustin Diaz 2015
 iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license  pickadate.js v3.5.6, 2015/04/20
 By Amsul, http://amsul.ca
 Hosted on http://amsul.github.io/pickadate.js
 Licensed under MIT
 Date picker for pickadate.js v3.5.6
 http://amsul.github.io/pickadate.js/date.htm
 enquire.js v2.1.6 - Awesome Media Queries in JavaScript
 Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/enquire.js
 License: MIT */
window.starterKit={version:"starterkit-0.53.12-aem",date:"2019-07-11T14:00:35.624+0000"};
!function(b,e,f){function k(a,c){return typeof a===c}function d(a){var c=E.className,b=t._config.classPrefix||"";if(G&&(c=c.baseVal),t._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+b+"no-js(\\s|$)"),"$1"+b+"js$2");t._config.enableClasses&&(c+=" "+b+a.join(" "+b),G?E.className.baseVal=c:E.className=c)}function a(c,b){if("object"==typeof c)for(var g in c)K(c,g)&&a(g,c[g]);else{c=c.toLowerCase();g=c.split(".");var h=t[g[0]];if(2==g.length&&(h=h[g[1]]),"undefined"!=typeof h)return t;b="function"==
typeof b?b():b;1==g.length?t[g[0]]=b:(!t[g[0]]||t[g[0]]instanceof Boolean||(t[g[0]]=new Boolean(t[g[0]])),t[g[0]][g[1]]=b);d([(b&&0!=b?"":"no-")+g.join("-")]);t._trigger(c,b)}return t}function m(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):G?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function l(a){return a.replace(/([a-z])-([a-z])/g,function(a,c,b){return c+b.toUpperCase()}).replace(/^-/,"")}function h(a,c,b,g){var h,
l,d,f=m("div");var p=e.body;var k=(p||(p=m(G?"svg":"body"),p.fake=!0),p);if(parseInt(b,10))for(;b--;)p=m("div"),p.id=g?g[b]:"modernizr"+(b+1),f.appendChild(p);return h=m("style"),h.type="text/css",h.id="smodernizr",(k.fake?k:f).appendChild(h),k.appendChild(f),h.styleSheet?h.styleSheet.cssText=a:h.appendChild(e.createTextNode(a)),f.id="modernizr",k.fake&&(k.style.background="",k.style.overflow="hidden",d=E.style.overflow,E.style.overflow="hidden",E.appendChild(k)),l=c(f,a),k.fake?(k.parentNode.removeChild(k),
E.style.overflow=d,E.offsetHeight):f.parentNode.removeChild(f),!!l}function c(a,c){return function(){return a.apply(c,arguments)}}function p(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()}).replace(/^ms-/,"-ms-")}function u(a,c){var g=a.length;if("CSS"in b&&"supports"in b.CSS){for(;g--;)if(b.CSS.supports(p(a[g]),c))return!0;return!1}if("CSSSupportsRule"in b){for(var l=[];g--;)l.push("("+p(a[g])+":"+c+")");return l=l.join(" or "),h("@supports ("+l+") { #modernizr { position: absolute; } }",
function(a){if("getComputedStyle"in b){a=getComputedStyle.call(b,a,null);var c=b.console;null!==a?a=a.getPropertyValue("position"):c&&c[c.error?"error":"log"].call(c,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else a=a.currentStyle&&a.currentStyle.position;return"absolute"==a})}return f}function q(a,c,b,g){function h(){q&&(delete x.style,delete x.modElem)}if(g=k(g,"undefined")?!1:g,!k(b,"undefined")){var d=u(a,b);if(!k(d,"undefined"))return d}var e,p;for(d=
["modernizr","tspan","samp"];!x.style&&d.length;){var q=!0;x.modElem=m(d.shift());x.style=x.modElem.style}var A=a.length;for(d=0;A>d;d++)if(e=a[d],p=x.style[e],!!~(""+e).indexOf("-")&&(e=l(e)),x.style[e]!==f){if(g||k(b,"undefined"))return h(),"pfx"==c?e:!0;try{x.style[e]=b}catch(ma){}if(x.style[e]!=p)return h(),"pfx"==c?e:!0}return h(),!1}function g(a,b,g,h,l){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+y.join(d+" ")+d).split(" ");if(k(b,"string")||k(b,"undefined"))var f=q(e,b,h,l);else{e=
(a+" "+J.join(d+" ")+d).split(" ");a:{a=e;for(var m in a)if(a[m]in b){b=!1===g?a[m]:(f=b[a[m]],k(f,"function")?c(f,g||b):f);break a}b=!1}f=b}return f}function A(c,b){c=c.deleteDatabase(b);c.onsuccess=function(){a("indexeddb.deletedatabase",!0)};c.onerror=function(){a("indexeddb.deletedatabase",!1)}}function F(a,c,b){return g(a,f,f,c,b)}var C=[],H=[],z={_version:"3.6.0",_config:{classPrefix:"mod-",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,c){var b=this;setTimeout(function(){c(b[a])},
0)},addTest:function(a,c,b){H.push({name:a,fn:c,options:b})},addAsyncTest:function(a){H.push({name:null,fn:a})}},t=function(){};t.prototype=z;t=new t;t.addTest("applicationcache","applicationCache"in b);t.addTest("sessionstorage",function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(da){return!1}});t.addTest("websqldatabase","openDatabase"in b);var I=z._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];z._prefixes=I;var E=
e.documentElement;t.addTest("cssall","all"in E.style);var G="svg"===E.nodeName.toLowerCase(),J=z._config.usePrefixes?["moz","o","ms","webkit"]:[];z._domPrefixes=J;var K;!function(){var a={}.hasOwnProperty;K=k(a,"undefined")||k(a.call,"undefined")?function(a,c){return c in a&&k(a.constructor.prototype[c],"undefined")}:function(c,b){return a.call(c,b)}}();z._l={};z.on=function(a,c){this._l[a]||(this._l[a]=[]);this._l[a].push(c);t.hasOwnProperty(a)&&setTimeout(function(){t._trigger(a,t[a])},0)};z._trigger=
function(a,c){if(this._l[a]){var b=this._l[a];setTimeout(function(){var a;for(a=0;a<b.length;a++)(0,b[a])(c)},0);delete this._l[a]}};t._q.push(function(){z.addTest=a});var v=function(){var a=!("onblur"in e.documentElement);return function(c,b){var g;return c?(b&&"string"!=typeof b||(b=m(b||"div")),c="on"+c,g=c in b,!g&&a&&(b.setAttribute||(b=m("div")),b.setAttribute(c,""),g="function"==typeof b[c],b[c]!==f&&(b[c]=f),b.removeAttribute(c)),g):!1}}();z.hasEvent=v;var N={}.toString;t.addTest("svgclippaths",
function(){return!!e.createElementNS&&/SVGClipPath/.test(N.call(e.createElementNS("http://www.w3.org/2000/svg","clipPath")))});t.addTest("smil",function(){return!!e.createElementNS&&/SVGAnimate/.test(N.call(e.createElementNS("http://www.w3.org/2000/svg","animate")))});t.addTest("video",function(){var a=m("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,
""),c.webm=a.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,""),c.vp9=a.canPlayType('video/webm; codecs\x3d"vp9"').replace(/^no$/,""),c.hls=a.canPlayType('application/x-mpegURL; codecs\x3d"avc1.42E01E"').replace(/^no$/,""))}catch(ca){}return c});t.addAsyncTest(function(){function c(e){l++;clearTimeout(b);e=e&&"playing"===e.type||0!==d.currentTime;return!e&&h>l?void(b=setTimeout(c,g)):(d.removeEventListener("playing",c,!1),a("videoautoplay",e),void(d.parentNode&&d.parentNode.removeChild(d)))}
var b,g=200,h=5,l=0,d=m("video"),e=d.style;if(!(t.video&&"autoplay"in d))return void a("videoautoplay",!1);e.position="absolute";e.height=0;e.width=0;try{if(t.video.ogg)d.src="data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A";
else{if(!t.video.h264)return void a("videoautoplay",!1);d.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ\x3d\x3d"}}catch(Ia){return void a("videoautoplay",
!1)}d.setAttribute("autoplay","");e.cssText="display:none";E.appendChild(d);setTimeout(function(){d.addEventListener("playing",c,!1);b=setTimeout(c,g)},0)});v=function(){var a=b.matchMedia||b.msMatchMedia;return a?function(c){return(c=a(c))&&c.matches||!1}:function(a){var c=!1;return h("@media "+a+" { #modernizr { position: absolute; } }",function(a){c="absolute"==(b.getComputedStyle?b.getComputedStyle(a,null):a.currentStyle).position}),c}}();z.mq=v;(z.testStyles=h)('#modernizr{font:0/0 a}#modernizr:after{content:":)";visibility:hidden;font:7px/1 a}',
function(a){t.addTest("generatedcontent",6<=a.offsetHeight)});var y=z._config.usePrefixes?["Moz","O","ms","Webkit"]:[];z._cssomPrefixes=y;var D=function(a){var c,g=I.length,h=b.CSSRule;if("undefined"==typeof h)return f;if(!a)return!1;if(a=a.replace(/^@/,""),c=a.replace(/-/g,"_").toUpperCase()+"_RULE",c in h)return"@"+a;for(var d=0;g>d;d++){var l=I[d];if(l.toUpperCase()+"_"+c in h)return"@-"+l.toLowerCase()+"-"+a}return!1};z.atRule=D;var w={elem:m("modernizr")};t._q.push(function(){delete w.elem});
var x={style:w.elem.style};t._q.unshift(function(){delete x.style});z.testProp=function(a,c,b){return q([a],f,c,b)};z.testAllProps=g;var B=z.prefixed=function(a,c,b){return 0===a.indexOf("@")?D(a):(-1!=a.indexOf("-")&&(a=l(a)),c?g(a,c,b):g(a,"pfx"))};t.addAsyncTest(function(){try{var c=B("indexedDB",b)}catch(Z){}if(c){var g="modernizr-"+Math.random(),h=c.open(g);h.onerror=function(){h.error&&"InvalidStateError"===h.error.name?a("indexeddb",!1):(a("indexeddb",!0),A(c,g))};h.onsuccess=function(){a("indexeddb",
!0);A(c,g)}}else a("indexeddb",!1)});t.addTest("objectfit",!!B("objectFit"),{aliases:["object-fit"]});z.testAllProps=F;t.addTest("cssreflections",F("boxReflect","above",!0));(function(){var a,c,b,g,h;for(h in H)if(H.hasOwnProperty(h)){if(a=[],c=H[h],c.name&&(a.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(b=0;b<c.options.aliases.length;b++)a.push(c.options.aliases[b].toLowerCase());b=k(c.fn,"function")?c.fn():c.fn;for(g=0;g<a.length;g++){var d=a[g];d=d.split(".");
1===d.length?t[d[0]]=b:(!t[d[0]]||t[d[0]]instanceof Boolean||(t[d[0]]=new Boolean(t[d[0]])),t[d[0]][d[1]]=b);C.push((b?"":"no-")+d.join("-"))}}})();d(C);delete z.addTest;delete z.addAsyncTest;for(v=0;v<t._q.length;v++)t._q[v]();b.Modernizr=t}(window,document);(function(b){b.className=b.className.replace(/\bno-js\b/g,"js mod-js")})(document.documentElement);
window.matchMedia||(window.matchMedia=function(){var b=window.styleMedia||window.media;if(!b){var e=document.createElement("style"),f=document.getElementsByTagName("script")[0],k=null;e.type="text/css";e.id="matchmediajs-test";f.parentNode.insertBefore(e,f);k="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle;b={matchMedium:function(b){b="@media "+b+"{ #matchmediajs-test { width: 1px; } }";e.styleSheet?e.styleSheet.cssText=b:e.textContent=b;return"1px"===k.width}}}return function(d){return{matches:b.matchMedium(d||
"all"),media:d||"all"}}}());
(function(b,e,f){function k(a){"object"===typeof module&&"object"===typeof module.exports?module.exports=a:"function"===typeof define&&define.amd&&define("picturefill",function(){return a});"object"===typeof b&&(b.picturefill=a)}function d(b){var h=b||{};b=h.elements||a.getAllElements();for(var c=0,d=b.length;c<d;c++){var l=b[c];var e=l.parentNode;if("IMG"===l.nodeName.toUpperCase()&&(l[a.ns]||(l[a.ns]={}),h.reevaluate||!l[a.ns].evaluated)){if(e&&"PICTURE"===e.nodeName.toUpperCase()){a.removeVideoShim(e);var g=
a.getMatch(l,e);if(!1===g)continue}else g=void 0;(e&&"PICTURE"===e.nodeName.toUpperCase()||!a.sizesSupported&&l.srcset&&m.test(l.srcset))&&a.dodgeSrcset(l);g?(e=a.processSourceSet(g),a.applyBestCandidate(e,l)):(e=a.processSourceSet(l),(void 0===l.srcset||l[a.ns].srcset)&&a.applyBestCandidate(e,l));l[a.ns].evaluated=!0}}}if(b.HTMLPictureElement)k(function(){});else{e.createElement("picture");var a=b.picturefill||{},m=/\s+\+?\d+(e\d+)?w/;a.ns="picturefill";a.srcsetSupported="srcset"in f;a.sizesSupported=
"sizes"in f;a.curSrcSupported="currentSrc"in f;a.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")};a.makeUrl=function(){var a=e.createElement("a");return function(b){a.href=b;return a.href}}();a.restrictsMixedContent=function(){return"https:"===b.location.protocol};a.matchesMedia=function(a){return b.matchMedia&&b.matchMedia(a).matches};a.getDpr=function(){return b.devicePixelRatio||1};a.getWidthFromLength=function(b){if(!b||!1!==-1<b.indexOf("%")||!(0<parseFloat(b)||-1<b.indexOf("calc(")))return!1;
b=b.replace("vw","%");a.lengthEl||(a.lengthEl=e.createElement("div"),a.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",a.lengthEl.className="helper-from-picturefill-js");a.lengthEl.style.width="0px";try{a.lengthEl.style.width=b}catch(h){}e.body.appendChild(a.lengthEl);b=a.lengthEl.offsetWidth;0>=b&&(b=!1);e.body.removeChild(a.lengthEl);return b};a.detectTypeSupport=function(e,h){var c=new b.Image;c.onerror=function(){a.types[e]=
!1;d()};c.onload=function(){a.types[e]=1===c.width;d()};c.src=h;return"pending"};a.types=a.types||{};a.initTypeDetects=function(){a.types["image/jpeg"]=!0;a.types["image/gif"]=!0;a.types["image/png"]=!0;a.types["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");a.types["image/webp"]=a.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA\x3d")};a.verifyTypeSupport=function(b){b=b.getAttribute("type");
if(null===b||""===b)return!0;var h=a.types[b];return"string"===typeof h&&"pending"!==h?(a.types[b]=a.detectTypeSupport(b,h),"pending"):"function"===typeof h?(h(),"pending"):h};a.parseSize=function(a){a=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:a&&a[1],length:a&&a[2]}};a.findWidthFromSourceSize=function(d){d=a.trim(d).split(/\s*,\s*/);for(var h,c=0,l=d.length;c<l;c++){var f=a.parseSize(d[c]),m=f.length;f=f.media;if(m&&(!f||a.matchesMedia(f))&&(h=a.getWidthFromLength(m)))break}return h||Math.max(b.innerWidth||
0,e.documentElement.clientWidth)};a.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c=a.search(/\s/g),d=null;if(-1!==c){var e=a.slice(0,c);if(","===e.slice(-1)||""===e)e=e.replace(/,+$/,""),d="";a=a.slice(c+1);null===d&&(c=a.indexOf(","),-1!==c?(d=a.slice(0,c),a=a.slice(c+1)):(d=a,a=""))}else e=a,a="";(e||d)&&b.push({url:e,descriptor:d})}return b};a.parseDescriptor=function(b,h){h=h||"100vw";var c=b&&b.replace(/(^\s+|\s+$)/g,"");b=a.findWidthFromSourceSize(h);if(c)for(h=
c.split(" "),c=h.length-1;0<=c;c--){var d=h[c],e=d&&d.slice(d.length-1);if("h"!==e&&"w"!==e||a.sizesSupported)"x"===e&&(f=(f=d&&parseFloat(d,10))&&!isNaN(f)?f:1);else var f=parseFloat(parseInt(d,10)/b)}return f||1};a.getCandidatesFromSourceSet=function(b,h){b=a.parseSrcset(b);for(var c=[],d=0,e=b.length;d<e;d++){var f=b[d];c.push({url:f.url,resolution:a.parseDescriptor(f.descriptor,h)})}return c};a.dodgeSrcset=function(b){b.srcset&&(b[a.ns].srcset=b.srcset,b.srcset="",b.setAttribute("data-pfsrcset",
b[a.ns].srcset))};a.processSourceSet=function(b){var h=b.getAttribute("srcset"),c=b.getAttribute("sizes"),d=[];"IMG"===b.nodeName.toUpperCase()&&b[a.ns]&&b[a.ns].srcset&&(h=b[a.ns].srcset);h&&(d=a.getCandidatesFromSourceSet(h,c));return d};a.backfaceVisibilityFix=function(a){a=a.style||{};var b=a.zoom;"webkitBackfaceVisibility"in a&&(a.zoom=".999",a.zoom=b)};a.setIntrinsicSize=function(){var d={},h=function(a,b,d){b&&a.setAttribute("width",parseInt(b/d,10))};return function(c,f){if(c[a.ns]&&!b.pfStopIntrinsicSize&&
(void 0===c[a.ns].dims&&(c[a.ns].dims=c.getAttribute("width")||c.getAttribute("height")),!c[a.ns].dims))if(f.url in d)h(c,d[f.url],f.resolution);else{var m=e.createElement("img");m.onload=function(){d[f.url]=m.width;if(!d[f.url])try{e.body.appendChild(m),d[f.url]=m.width||m.offsetWidth,e.body.removeChild(m)}catch(q){}c.src===f.url&&h(c,d[f.url],f.resolution);c=null;m=m.onload=null};m.src=f.url}}}();a.applyBestCandidate=function(b,d){b.sort(a.ascendingSort);var c=b.length;var h=b[c-1];for(var e=0;e<
c;e++){var f=b[e];if(f.resolution>=a.getDpr()){h=f;break}}h&&(h.url=a.makeUrl(h.url),d.src!==h.url&&(a.restrictsMixedContent()&&"http:"===h.url.substr(0,5).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+h.url):(d.src=h.url,a.curSrcSupported||(d.currentSrc=d.src),a.backfaceVisibilityFix(d))),a.setIntrinsicSize(d,h))};a.ascendingSort=function(a,b){return a.resolution-b.resolution};a.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){b=
b[0];for(var c=b.getElementsByTagName("source");c.length;)a.insertBefore(c[0],b);b.parentNode.removeChild(b)}};a.getAllElements=function(){for(var b=[],d=e.getElementsByTagName("img"),c=0,f=d.length;c<f;c++){var m=d[c];("PICTURE"===m.parentNode.nodeName.toUpperCase()||null!==m.getAttribute("srcset")||m[a.ns]&&null!==m[a.ns].srcset)&&b.push(m)}return b};a.getMatch=function(b,d){d=d.childNodes;for(var c,h=0,e=d.length;h<e;h++){var f=d[h];if(1===f.nodeType){if(f===b)break;if("SOURCE"===f.nodeName.toUpperCase()){null!==
f.getAttribute("src")&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var g=f.getAttribute("media");if(f.getAttribute("srcset")&&(!g||a.matchesMedia(g)))if(g=a.verifyTypeSupport(f),!0===g){c=f;break}else if("pending"===g)return!1}}}return c};(function(){function f(){clearTimeout(c);c=setTimeout(m,60)}a.initTypeDetects();d();var h=setInterval(function(){d();/^loaded|^i|^c/.test(e.readyState)&&clearInterval(h)},250),c,m=function(){d({reevaluate:!0})};
b.addEventListener?b.addEventListener("resize",f,!1):b.attachEvent&&b.attachEvent("onresize",f)})();d._=a;k(d)}})(window,window.document,new window.Image);
(function(b,e){"object"===typeof module&&"object"===typeof module.exports?module.exports=b.document?e(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return e(b)}:e(b)})("undefined"!==typeof window?window:this,function(b,e){function f(a,b){b=b||L;var c=b.createElement("script");c.text=a;b.head.appendChild(c).parentNode.removeChild(c)}function k(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"===
typeof b&&0<b&&b-1 in a}function d(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function a(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,r){return!!b.call(a,r,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"!==typeof b)return n.grep(a,function(a){return-1<pa.call(b,a)!==c});if(gb.test(b))return n.filter(b,a,c);b=n.filter(b,a);return n.grep(a,function(a){return-1<pa.call(b,a)!==c&&1===a.nodeType})}function m(a,b){for(;(a=a[b])&&1!==a.nodeType;);
return a}function l(a){var b={};n.each(a.match(na)||[],function(a,c){b[c]=!0});return b}function h(a){return a}function c(a){throw a;}function p(a,b,c,g){var r;try{a&&n.isFunction(r=a.promise)?r.call(a).done(b).fail(c):a&&n.isFunction(r=a.then)?r.call(a,b,c):b.apply(void 0,[a].slice(g))}catch(Ka){c.apply(void 0,[Ka])}}function u(){L.removeEventListener("DOMContentLoaded",u);b.removeEventListener("load",u);n.ready()}function q(){this.expando=n.expando+q.uid++}function g(a,b,c){if(void 0===c&&1===a.nodeType)if(c=
"data-"+b.replace(La,"-$\x26").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{var r=c;c="true"===r?!0:"false"===r?!1:"null"===r?null:r===+r+""?+r:hb.test(r)?JSON.parse(r):r}catch(Kc){}ea.set(a,b,c)}else c=void 0;return c}function A(a,b,c,g){var r=1,d=20,h=g?function(){return g.cur()}:function(){return n.css(a,b,"")},e=h(),f=c&&c[3]||(n.cssNumber[b]?"":"px"),m=(n.cssNumber[b]||"px"!==f&&+e)&&Fa.exec(n.css(a,b));if(m&&m[3]!==f){f=f||m[3];c=c||[];m=+e||1;do r=r||".5",m/=r,n.style(a,b,m+f);
while(r!==(r=h()/e)&&1!==r&&--d)}if(c){m=+m||+e||0;var l=c[1]?m+(c[1]+1)*c[2]:+c[2];g&&(g.unit=f,g.start=m,g.end=l)}return l}function F(a,b){for(var c,r,g=[],d=0,h=a.length;d<h;d++)if(r=a[d],r.style)if(c=r.style.display,b){if("none"===c&&(g[d]=Q.get(r,"display")||null,g[d]||(r.style.display="")),""===r.style.display&&Ma(r)){c=d;var e=r.ownerDocument;r=r.nodeName;var f=fa[r];f||(e=e.body.appendChild(e.createElement(r)),f=n.css(e,"display"),e.parentNode.removeChild(e),"none"===f&&(f="block"),fa[r]=
f);e=f;g[c]=e}}else"none"!==c&&(g[d]="none",Q.set(r,"display",c));for(d=0;d<h;d++)null!=g[d]&&(a[d].style.display=g[d]);return a}function C(a,b){var c="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&d(a,b)?n.merge([a],c):c}function H(a,b){for(var c=0,r=a.length;c<r;c++)Q.set(a[c],"globalEval",!b||Q.get(b[c],"globalEval"))}function z(a,b,c,g,d){for(var r,h,e,f=b.createDocumentFragment(),
m=[],l=0,k=a.length;l<k;l++)if((r=a[l])||0===r)if("object"===n.type(r))n.merge(m,r.nodeType?[r]:r);else if(Kb.test(r)){h=h||f.appendChild(b.createElement("div"));e=(sb.exec(r)||["",""])[1].toLowerCase();e=aa[e]||aa._default;h.innerHTML=e[1]+n.htmlPrefilter(r)+e[2];for(e=e[0];e--;)h=h.lastChild;n.merge(m,h.childNodes);h=f.firstChild;h.textContent=""}else m.push(b.createTextNode(r));f.textContent="";for(l=0;r=m[l++];)if(g&&-1<n.inArray(r,g))d&&d.push(r);else if(a=n.contains(r.ownerDocument,r),h=C(f.appendChild(r),
"script"),a&&H(h),c)for(e=0;r=h[e++];)tb.test(r.type||"")&&c.push(r);return f}function t(){return!0}function I(){return!1}function E(){try{return L.activeElement}catch(r){}}function G(a,b,c,g,d,h){var r;if("object"===typeof b){"string"!==typeof c&&(g=g||c,c=void 0);for(r in b)G(a,r,c,g,b[r],h);return a}null==g&&null==d?(d=c,g=c=void 0):null==d&&("string"===typeof c?(d=g,g=void 0):(d=g,g=c,c=void 0));if(!1===d)d=I;else if(!d)return a;if(1===h){var e=d;d=function(a){n().off(a);return e.apply(this,arguments)};
d.guid=e.guid||(e.guid=n.guid++)}return a.each(function(){n.event.add(this,b,d,g,c)})}function J(a,b){return d(a,"table")&&d(11!==b.nodeType?b:b.firstChild,"tr")?n("\x3etbody",a)[0]||a:a}function K(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function v(a){var b=Lb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function N(a,b){var c,g;if(1===b.nodeType){if(Q.hasData(a)){var r=Q.access(a);var d=Q.set(b,r);if(r=r.events)for(g in delete d.handle,d.events={},r)for(d=0,
c=r[g].length;d<c;d++)n.event.add(b,g,r[g][d])}ea.hasData(a)&&(a=ea.access(a),a=n.extend({},a),ea.set(b,a))}}function y(a,b,c,g){b=la.apply([],b);var r,d=0,h=a.length,e=h-1,m=b[0],l=n.isFunction(m);if(l||1<h&&"string"===typeof m&&!U.checkClone&&Sa.test(m))return a.each(function(r){var d=a.eq(r);l&&(b[0]=m.call(this,r,d.html()));y(d,b,c,g)});if(h){var k=z(b,a[0].ownerDocument,!1,a,g);var p=k.firstChild;1===k.childNodes.length&&(k=p);if(p||g){p=n.map(C(k,"script"),K);for(r=p.length;d<h;d++){var q=k;
d!==e&&(q=n.clone(q,!0,!0),r&&n.merge(p,C(q,"script")));c.call(a[d],q,d)}if(r)for(k=p[p.length-1].ownerDocument,n.map(p,v),d=0;d<r;d++)q=p[d],tb.test(q.type||"")&&!Q.access(q,"globalEval")&&n.contains(k,q)&&(q.src?n._evalUrl&&n._evalUrl(q.src):f(q.textContent.replace(Nb,""),k))}}return a}function D(a,b,c){for(var g=b?n.filter(b,a):a,r=0;null!=(b=g[r]);r++)c||1!==b.nodeType||n.cleanData(C(b)),b.parentNode&&(c&&n.contains(b.ownerDocument,b)&&H(C(b,"script")),b.parentNode.removeChild(b));return a}function w(a,
b,c){var g=a.style;if(c=c||Ta(a)){var r=c.getPropertyValue(b)||c[b];""!==r||n.contains(a.ownerDocument,a)||(r=n.style(a,b));if(!U.pixelMarginRight()&&Ua.test(r)&&Va.test(b)){a=g.width;b=g.minWidth;var d=g.maxWidth;g.minWidth=g.maxWidth=g.width=r;r=c.width;g.width=a;g.minWidth=b;g.maxWidth=d}}return void 0!==r?r+"":r}function x(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function B(a){var b=n.cssProps[a];if(!b){b=n.cssProps;a:{var c=a;if(!(c in
Ob)){for(var g=c[0].toUpperCase()+c.slice(1),r=ub.length;r--;)if(c=ub[r]+g,c in Ob)break a;c=void 0}}b=b[a]=c||a}return b}function da(a,b,c){return(a=Fa.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function Ea(a,b,c,g,d){var r=0;for(b=c===(g?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(r+=n.css(a,c+xa[b],!0,d)),g?("content"===c&&(r-=n.css(a,"padding"+xa[b],!0,d)),"margin"!==c&&(r-=n.css(a,"border"+xa[b]+"Width",!0,d))):(r+=n.css(a,"padding"+xa[b],!0,d),"padding"!==c&&(r+=n.css(a,
"border"+xa[b]+"Width",!0,d)));return r}function ca(a,b,c){var g=Ta(a),d=w(a,b,g),r="border-box"===n.css(a,"boxSizing",!1,g);if(Ua.test(d))return d;var h=r&&(U.boxSizingReliable()||d===a.style[b]);"auto"===d&&(d=a["offset"+b[0].toUpperCase()+b.slice(1)]);d=parseFloat(d)||0;return d+Ea(a,b,c||(r?"border":"content"),h,g)+"px"}function Z(a,b,c,g,d){return new Z.prototype.init(a,b,c,g,d)}function wa(){kb&&(!1===L.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(wa):b.setTimeout(wa,n.fx.interval),
n.fx.tick())}function W(){b.setTimeout(function(){Na=void 0});return Na=n.now()}function oa(a,b){var c=0,g={height:a};for(b=b?1:0;4>c;c+=2-b){var d=xa[c];g["margin"+d]=g["padding"+d]=a}b&&(g.opacity=g.width=a);return g}function Ia(a,b,c){for(var g,d=(ja.tweeners[b]||[]).concat(ja.tweeners["*"]),r=0,h=d.length;r<h;r++)if(g=d[r].call(c,b,a))return g}function sa(a,b){var c,g;for(c in a){var d=n.camelCase(c);var r=b[d];var h=a[c];Array.isArray(h)&&(r=h[1],h=a[c]=h[0]);c!==d&&(a[d]=h,delete a[c]);if((g=
n.cssHooks[d])&&"expand"in g)for(c in h=g.expand(h),delete a[d],h)c in a||(a[c]=h[c],b[c]=r);else b[d]=r}}function ja(a,b,c){var g,d=0,r=ja.prefilters.length,h=n.Deferred().always(function(){delete e.elem}),e=function(){if(g)return!1;var b=Na||W();b=Math.max(0,f.startTime+f.duration-b);for(var c=1-(b/f.duration||0),d=0,r=f.tweens.length;d<r;d++)f.tweens[d].run(c);h.notifyWith(a,[f,c,b]);if(1>c&&r)return b;r||h.notifyWith(a,[f,1,0]);h.resolveWith(a,[f]);return!1},f=h.promise({elem:a,props:n.extend({},
b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Na||W(),duration:c.duration,tweens:[],createTween:function(b,c){b=n.Tween(a,f.opts,b,c,f.opts.specialEasing[b]||f.opts.easing);f.tweens.push(b);return b},stop:function(b){var c=0,d=b?f.tweens.length:0;if(g)return this;for(g=!0;c<d;c++)f.tweens[c].run(1);b?(h.notifyWith(a,[f,1,0]),h.resolveWith(a,[f,b])):h.rejectWith(a,[f,b]);return this}});c=f.props;for(sa(c,f.opts.specialEasing);d<
r;d++)if(b=ja.prefilters[d].call(f,a,c,f.opts))return n.isFunction(b.stop)&&(n._queueHooks(f.elem,f.opts.queue).stop=n.proxy(b.stop,b)),b;n.map(c,Ia,f);n.isFunction(f.opts.start)&&f.opts.start.call(a,f);f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always);n.fx.timer(n.extend(e,{elem:a,anim:f,queue:f.opts.queue}));return f}function ma(a){return(a.match(na)||[]).join(" ")}function ua(a){return a.getAttribute&&a.getAttribute("class")||""}function Wa(a,
b,c,g){var d;if(Array.isArray(b))n.each(b,function(b,d){c||nc.test(a)?g(a,d):Wa(a+"["+("object"===typeof d&&null!=d?b:"")+"]",d,c,g)});else if(c||"object"!==n.type(b))g(a,b);else for(d in b)Wa(a+"["+d+"]",b[d],c,g)}function Xa(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var g=0,d=b.toLowerCase().match(na)||[];if(n.isFunction(c))for(;b=d[g++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function lb(a,b,c,g){function d(f){var e;r[f]=!0;n.each(a[f]||
[],function(a,f){a=f(b,c,g);if("string"===typeof a&&!h&&!r[a])return b.dataTypes.unshift(a),d(a),!1;if(h)return!(e=a)});return e}var r={},h=a===mb;return d(b.dataTypes[0])||!r["*"]&&d("*")}function ba(a,b){var c,g,d=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((d[c]?a:g||(g={}))[c]=b[c]);g&&n.extend(!0,a,g);return a}var ta=[],L=b.document,R=Object.getPrototypeOf,P=ta.slice,la=ta.concat,ya=ta.push,pa=ta.indexOf,ra={},Pb=ra.toString,nb=ra.hasOwnProperty,vb=nb.toString,Qb=vb.call(Object),
U={},n=function(a,b){return new n.fn.init(a,b)},oc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ya=/^-ms-/,ob=/-([a-z])/g,pc=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:"3.2.1",constructor:n,length:0,toArray:function(){return P.call(this)},get:function(a){return null==a?P.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=n.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,
c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(P.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ya,sort:ta.sort,splice:ta.splice};n.extend=n.fn.extend=function(){var a,b,c,g=arguments[0]||{},d=1,h=arguments.length,f=!1;"boolean"===typeof g&&(f=g,g=arguments[d]||{},d++);"object"===
typeof g||n.isFunction(g)||(g={});d===h&&(g=this,d--);for(;d<h;d++)if(null!=(a=arguments[d]))for(b in a){var e=g[b];var m=a[b];g!==m&&(f&&m&&(n.isPlainObject(m)||(c=Array.isArray(m)))?(c?(c=!1,e=e&&Array.isArray(e)?e:[]):e=e&&n.isPlainObject(e)?e:{},g[b]=n.extend(f,e,m)):void 0!==m&&(g[b]=m))}return g};n.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isWindow:function(a){return null!=
a&&a===a.window},isNumeric:function(a){var b=n.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){if(!a||"[object Object]"!==Pb.call(a))return!1;a=R(a);if(!a)return!0;a=nb.call(a,"constructor")&&a.constructor;return"function"===typeof a&&vb.call(a)===Qb},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?ra[Pb.call(a)]||"object":typeof a},globalEval:function(a){f(a)},
camelCase:function(a){return a.replace(Ya,"ms-").replace(ob,pc)},each:function(a,b){var c,g=0;if(k(a))for(c=a.length;g<c&&!1!==b.call(a[g],g,a[g]);g++);else for(g in a)if(!1===b.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(oc,"")},makeArray:function(a,b){b=b||[];null!=a&&(k(Object(a))?n.merge(b,"string"===typeof a?[a]:a):ya.call(b,a));return b},inArray:function(a,b,c){return null==b?-1:pa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,g=0,d=a.length;g<
c;g++)a[d++]=b[g];a.length=d;return a},grep:function(a,b,c){for(var g=[],d=0,h=a.length,e=!c;d<h;d++)c=!b(a[d],d),c!==e&&g.push(a[d]);return g},map:function(a,b,c){var g,d=0,h=[];if(k(a))for(g=a.length;d<g;d++){var e=b(a[d],d,c);null!=e&&h.push(e)}else for(d in a)e=b(a[d],d,c),null!=e&&h.push(e);return la.apply([],h)},guid:1,proxy:function(a,b){if("string"===typeof b){var c=a[b];b=a;a=c}if(n.isFunction(a)){var g=P.call(arguments,2);c=function(){return a.apply(b||this,g.concat(P.call(arguments)))};
c.guid=a.guid=a.guid||n.guid++;return c}},now:Date.now,support:U});"function"===typeof Symbol&&(n.fn[Symbol.iterator]=ta[Symbol.iterator]);n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ra["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,g){var d,h,e,f,m=b&&b.ownerDocument,r=b?b.nodeType:9;c=c||[];if("string"!==typeof a||!a||1!==r&&9!==r&&11!==r)return c;if(!g&&((b?b.ownerDocument||b:G)!==P&&Ja(b),b=b||P,I)){if(11!==r&&
(f=ea.exec(a)))if(d=f[1])if(9===r)if(h=b.getElementById(d)){if(h.id===d)return c.push(h),c}else return c;else{if(m&&(h=m.getElementById(d))&&x(b,h)&&h.id===d)return c.push(h),c}else{if(f[2])return Q.apply(c,b.getElementsByTagName(a)),c;if((d=f[3])&&Y.getElementsByClassName&&b.getElementsByClassName)return Q.apply(c,b.getElementsByClassName(d)),c}if(!(!Y.qsa||K[a+" "]||v&&v.test(a))){if(1!==r){m=b;var l=a}else if("object"!==b.nodeName.toLowerCase()){(e=b.getAttribute("id"))?e=e.replace(fa,ia):b.setAttribute("id",
e=y);h=Sb(a);for(d=h.length;d--;)h[d]="#"+e+" "+q(h[d]);l=h.join(",");m=ha.test(a)&&k(b.parentNode)||b}if(l)try{return Q.apply(c,m.querySelectorAll(l)),c}catch(rd){}finally{e===y&&b.removeAttribute("id")}}}return Zc(a.replace(T,"$1"),b,c,g)}function c(){function a(c,g){b.push(c+" ")>S.cacheLength&&delete a[b.shift()];return a[c+" "]=g}var b=[];return a}function g(a){a[y]=!0;return a}function d(a){var b=P.createElement("fieldset");try{return!!a(b)}catch(pd){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}
function h(a,b){a=a.split("|");for(var c=a.length;c--;)S.attrHandle[a[c]]=b}function e(a,b){var c=b&&a,g=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(g)return g;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function m(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function r(a){return function(b){return"form"in b?b.parentNode&&
!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&na(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function l(a){return g(function(b){b=+b;return g(function(c,g){for(var d,h=a([],c.length,b),e=h.length;e--;)c[d=h[e]]&&(c[d]=!(g[d]=c[d]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function q(a){for(var b=0,c=a.length,g="";b<c;b++)g+=a[b].value;return g}function u(a,b,
c){var g=b.dir,d=b.next,h=d||g,e=c&&"parentNode"===h,f=D++;return b.first?function(b,c,d){for(;b=b[g];)if(1===b.nodeType||e)return a(b,c,d);return!1}:function(b,c,m){var r,l=[la,f];if(m)for(;b=b[g];){if((1===b.nodeType||e)&&a(b,c,m))return!0}else for(;b=b[g];)if(1===b.nodeType||e){var k=b[y]||(b[y]={});k=k[b.uniqueID]||(k[b.uniqueID]={});if(d&&d===b.nodeName.toLowerCase())b=b[g]||b;else{if((r=k[h])&&r[0]===la&&r[1]===f)return l[2]=r[2];k[h]=l;if(l[2]=a(b,c,m))return!0}}return!1}}function A(a){return 1<
a.length?function(b,c,g){for(var d=a.length;d--;)if(!a[d](b,c,g))return!1;return!0}:a[0]}function F(a,b,c,g,d){for(var h,e=[],f=0,m=a.length,r=null!=b;f<m;f++)if(h=a[f])if(!c||c(h,g,d))e.push(h),r&&b.push(f);return e}function L(a,c,d,h,e,f){h&&!h[y]&&(h=L(h));e&&!e[y]&&(e=L(e,f));return g(function(g,f,m,r){var l,k=[],p=[],q=f.length,u;if(!(u=g)){u=c||"*";for(var O=m.nodeType?[m]:m,A=[],L=0,Ra=O.length;L<Ra;L++)b(u,O[L],A);u=A}u=!a||!g&&c?u:F(u,k,a,m,r);O=d?e||(g?a:q||h)?[]:f:u;d&&d(u,O,m,r);if(h){var n=
F(O,p);h(n,[],m,r);for(m=n.length;m--;)if(l=n[m])O[p[m]]=!(u[p[m]]=l)}if(g){if(e||a){if(e){n=[];for(m=O.length;m--;)(l=O[m])&&n.push(u[m]=l);e(null,O=[],n,r)}for(m=O.length;m--;)(l=O[m])&&-1<(n=e?pa(g,l):k[m])&&(g[n]=!(f[n]=l))}}else O=F(O===f?O.splice(q,O.length):O),e?e(null,f,O,r):Q.apply(f,O)})}function n(a){var b,c,g=a.length,d=S.relative[a[0].type];var h=d||S.relative[" "];for(var e=d?1:0,f=u(function(a){return a===b},h,!0),m=u(function(a){return-1<pa(b,a)},h,!0),r=[function(a,c,g){a=!d&&(g||
c!==R)||((b=c).nodeType?f(a,c,g):m(a,c,g));b=null;return a}];e<g;e++)if(h=S.relative[a[e].type])r=[u(A(r),h)];else{h=S.filter[a[e].type].apply(null,a[e].matches);if(h[y]){for(c=++e;c<g&&!S.relative[a[c].type];c++);return L(1<e&&A(r),1<e&&q(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(T,"$1"),h,e<c&&n(a.slice(e,c)),c<g&&n(a=a.slice(c)),c<g&&q(a))}r.push(h)}return A(r)}function C(a,c){var d=0<c.length,h=0<a.length,e=function(g,e,f,m,r){var l,k,p=0,q="0",u=g&&[],O=[],A=R,L=g||h&&
S.find.TAG("*",r),Ra=la+=null==A?1:Math.random()||.1,n=L.length;for(r&&(R=e===P||e||r);q!==n&&null!=(l=L[q]);q++){if(h&&l){var C=0;e||l.ownerDocument===P||(Ja(l),f=!I);for(;k=a[C++];)if(k(l,e||P,f)){m.push(l);break}r&&(la=Ra)}d&&((l=!k&&l)&&p--,g&&u.push(l))}p+=q;if(d&&q!==p){for(C=0;k=c[C++];)k(u,O,e,f);if(g){if(0<p)for(;q--;)u[q]||O[q]||(O[q]=M.call(m));O=F(O)}Q.apply(m,O);r&&!g&&0<O.length&&1<p+c.length&&b.uniqueSort(m)}r&&(la=Ra,R=A);return u};return d?g(e):e}var H,R,t,z,P,w,I,v,N,E,x,y="sizzle"+
1*new Date,G=a.document,la=0,D=0,J=c(),B=c(),K=c(),ya=function(a,b){a===b&&(z=!0);return 0},wa={}.hasOwnProperty,W=[],M=W.pop,oa=W.push,Q=W.push,da=W.slice,pa=function(a,b){for(var c=0,g=a.length;c<g;c++)if(a[c]===b)return c;return-1},Z=/[\x20\t\r\n\f]+/g,T=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,U=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,V=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ia=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ja=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ba=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ra={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},sa=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,aa=
/^[^{]+\{\s*\[native \w/,ea=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ha=/[+~]/,X=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ca=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},fa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ia=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ka=function(){Ja()},na=u(function(a){return!0===a.disabled&&("form"in
a||"label"in a)},{dir:"parentNode",next:"legend"});try{Q.apply(W=da.call(G.childNodes),G.childNodes),W[G.childNodes.length].nodeType}catch(od){Q={apply:W.length?function(a,b){oa.apply(a,da.call(b))}:function(a,b){for(var c=a.length,g=0;a[c++]=b[g++];);a.length=c-1}}}var Y=b.support={};var O=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var Ja=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:G;if(a===P||9!==a.nodeType||!a.documentElement)return P;
P=a;w=P.documentElement;I=!O(P);G!==P&&(b=P.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",ka,!1):b.attachEvent&&b.attachEvent("onunload",ka));Y.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});Y.getElementsByTagName=d(function(a){a.appendChild(P.createComment(""));return!a.getElementsByTagName("*").length});Y.getElementsByClassName=aa.test(P.getElementsByClassName);Y.getById=d(function(a){w.appendChild(a).id=y;return!P.getElementsByName||!P.getElementsByName(y).length});
Y.getById?(S.filter.ID=function(a){var b=a.replace(X,ca);return function(a){return a.getAttribute("id")===b}},S.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&I)return(a=b.getElementById(a))?[a]:[]}):(S.filter.ID=function(a){var b=a.replace(X,ca);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},S.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&I){var c,g=b.getElementById(a);if(g){if((c=g.getAttributeNode("id"))&&
c.value===a)return[g];var d=b.getElementsByName(a);for(b=0;g=d[b++];)if((c=g.getAttributeNode("id"))&&c.value===a)return[g]}return[]}});S.find.TAG=Y.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(Y.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],g=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[g++];)1===a.nodeType&&c.push(a);return c}return b};S.find.CLASS=Y.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&
I)return b.getElementsByClassName(a)};N=[];v=[];if(Y.qsa=aa.test(P.querySelectorAll))d(function(a){w.appendChild(a).innerHTML="\x3ca id\x3d'"+y+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+y+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&v.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+y+"-]").length||v.push("~\x3d");a.querySelectorAll(":checked").length||v.push(":checked");a.querySelectorAll("a#"+y+"+*").length||v.push(".#.+[+~]")}),d(function(a){a.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var b=P.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
2!==a.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled");w.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled");a.querySelectorAll("*,:x");v.push(",.*:")});(Y.matchesSelector=aa.test(E=w.matches||w.webkitMatchesSelector||w.mozMatchesSelector||w.oMatchesSelector||w.msMatchesSelector))&&d(function(a){Y.disconnectedMatch=E.call(a,"*");E.call(a,"[s!\x3d'']:x");N.push("!\x3d",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
v=v.length&&new RegExp(v.join("|"));N=N.length&&new RegExp(N.join("|"));x=(b=aa.test(w.compareDocumentPosition))||aa.test(w.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ya=b?function(a,b){if(a===b)return z=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!Y.sortDetached&&b.compareDocumentPosition(a)===c?a===P||a.ownerDocument===G&&x(G,a)?-1:b===P||b.ownerDocument===G&&x(G,b)?1:t?pa(t,a)-pa(t,b):0:c&4?-1:1}:function(a,b){if(a===b)return z=!0,0;var c=0,g=a.parentNode,d=b.parentNode,h=[a],f=[b];if(!g||!d)return a===P?-1:b===P?1:g?-1:d?1:t?pa(t,a)-pa(t,b):0;if(g===d)return e(a,b);for(;a=a.parentNode;)h.unshift(a);for(a=b;a=a.parentNode;)f.unshift(a);
for(;h[c]===f[c];)c++;return c?e(h[c],f[c]):h[c]===G?-1:f[c]===G?1:0};return P};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==P&&Ja(a);c=c.replace(Ia,"\x3d'$1']");if(!(!Y.matchesSelector||!I||K[c+" "]||N&&N.test(c)||v&&v.test(c)))try{var g=E.call(a,c);if(g||Y.disconnectedMatch||a.document&&11!==a.document.nodeType)return g}catch(qd){}return 0<b(c,P,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==P&&Ja(a);return x(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==P&&Ja(a);var c=S.attrHandle[b.toLowerCase()];c=c&&wa.call(S.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==c?c:Y.attributes||!I?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.escape=function(a){return(a+"").replace(fa,ia)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],g=0,d=0;z=!Y.detectDuplicates;t=!Y.sortStable&&a.slice(0);a.sort(ya);if(z){for(;b=a[d++];)b===
a[d]&&(g=c.push(d));for(;g--;)a.splice(c[g],1)}t=null;return a};var $a=b.getText=function(a){var b="",c=0;var g=a.nodeType;if(!g)for(;g=a[c++];)b+=$a(g);else if(1===g||9===g||11===g){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=$a(a)}else if(3===g||4===g)return a.nodeValue;return b};var S=b.selectors={cacheLength:50,createPseudo:g,match:ra,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(X,ca);a[3]=(a[3]||a[4]||a[5]||"").replace(X,ca);"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ra.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&
ja.test(c)&&(b=Sb(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(X,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=J[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),J(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&
a.getAttribute("class")||"")}))},ATTR:function(a,c,g){return function(d){d=b.attr(d,a);if(null==d)return"!\x3d"===c;if(!c)return!0;d+="";return"\x3d"===c?d===g:"!\x3d"===c?d!==g:"^\x3d"===c?g&&0===d.indexOf(g):"*\x3d"===c?g&&-1<d.indexOf(g):"$\x3d"===c?g&&d.slice(-g.length)===g:"~\x3d"===c?-1<(" "+d.replace(Z," ")+" ").indexOf(g):"|\x3d"===c?d===g||d.slice(0,g.length+1)===g+"-":!1}},CHILD:function(a,b,c,g,d){var h="nth"!==a.slice(0,3),e="last"!==a.slice(-4),f="of-type"===b;return 1===g&&0===d?function(a){return!!a.parentNode}:
function(b,c,m){var r,l;c=h!==e?"nextSibling":"previousSibling";var k=b.parentNode,p=f&&b.nodeName.toLowerCase();m=!m&&!f;var q=!1;if(k){if(h){for(;c;){for(r=b;r=r[c];)if(f?r.nodeName.toLowerCase()===p:1===r.nodeType)return!1;var u=c="only"===a&&!u&&"nextSibling"}return!0}u=[e?k.firstChild:k.lastChild];if(e&&m){r=k;var O=r[y]||(r[y]={});O=O[r.uniqueID]||(O[r.uniqueID]={});q=O[a]||[];q=(l=q[0]===la&&q[1])&&q[2];for(r=l&&k.childNodes[l];r=++l&&r&&r[c]||(q=l=0)||u.pop();)if(1===r.nodeType&&++q&&r===
b){O[a]=[la,l,q];break}}else if(m&&(r=b,O=r[y]||(r[y]={}),O=O[r.uniqueID]||(O[r.uniqueID]={}),q=O[a]||[],q=l=q[0]===la&&q[1]),!1===q)for(;(r=++l&&r&&r[c]||(q=l=0)||u.pop())&&((f?r.nodeName.toLowerCase()!==p:1!==r.nodeType)||!++q||(m&&(O=r[y]||(r[y]={}),O=O[r.uniqueID]||(O[r.uniqueID]={}),O[a]=[la,q]),r!==b)););q-=d;return q===g||0===q%g&&0<=q/g}}},PSEUDO:function(a,c){var d=S.pseudos[a]||S.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(d[y])return d(c);if(1<d.length){var h=[a,a,
"",c];return S.setFilters.hasOwnProperty(a.toLowerCase())?g(function(a,b){for(var g,h=d(a,c),e=h.length;e--;)g=pa(a,h[e]),a[g]=!(b[g]=h[e])}):function(a){return d(a,0,h)}}return d}},pseudos:{not:g(function(a){var b=[],c=[],d=zc(a.replace(T,"$1"));return d[y]?g(function(a,b,c,g){g=d(a,null,g,[]);for(var h=a.length;h--;)if(c=g[h])a[h]=!(b[h]=c)}):function(a,g,h){b[0]=a;d(b,null,h,c);b[0]=null;return!c.pop()}}),has:g(function(a){return function(c){return 0<b(a,c).length}}),contains:g(function(a){a=a.replace(X,
ca);return function(b){return-1<(b.textContent||b.innerText||$a(b)).indexOf(a)}}),lang:g(function(a){ba.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(X,ca).toLowerCase();return function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===w},focus:function(a){return a===
P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!S.pseudos.empty(a)},header:function(a){return ma.test(a.nodeName)},input:function(a){return sa.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,c){return[0>c?c+b:c]}),even:l(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:l(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:l(function(a,b,c){for(b=
0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:l(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};S.pseudos.nth=S.pseudos.eq;for(H in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[H]=f(H);for(H in{submit:!0,reset:!0})S.pseudos[H]=m(H);p.prototype=S.filters=S.pseudos;S.setFilters=new p;var Sb=b.tokenize=function(a,c){var g,d,h,e,f;if(e=B[a+" "])return c?0:e.slice(0);e=a;var r=[];for(f=S.preFilter;e;){if(!m||(g=U.exec(e)))g&&(e=e.slice(g[0].length)||e),r.push(d=[]);var m=!1;if(g=
V.exec(e))m=g.shift(),d.push({value:m,type:g[0].replace(T," ")}),e=e.slice(m.length);for(h in S.filter)!(g=ra[h].exec(e))||f[h]&&!(g=f[h](g))||(m=g.shift(),d.push({value:m,type:h,matches:g}),e=e.slice(m.length));if(!m)break}return c?e.length:e?b.error(a):B(a,r).slice(0)};var zc=b.compile=function(a,b){var c,g=[],d=[],h=K[a+" "];if(!h){b||(b=Sb(a));for(c=b.length;c--;)h=n(b[c]),h[y]?g.push(h):d.push(h);h=K(a,C(d,g));h.selector=a}return h};var Zc=b.select=function(a,b,c,g){var d,h,e,f="function"===
typeof a&&a,r=!g&&Sb(a=f.selector||a);c=c||[];if(1===r.length){var m=r[0]=r[0].slice(0);if(2<m.length&&"ID"===(h=m[0]).type&&9===b.nodeType&&I&&S.relative[m[1].type]){b=(S.find.ID(h.matches[0].replace(X,ca),b)||[])[0];if(!b)return c;f&&(b=b.parentNode);a=a.slice(m.shift().value.length)}for(d=ra.needsContext.test(a)?0:m.length;d--;){h=m[d];if(S.relative[e=h.type])break;if(e=S.find[e])if(g=e(h.matches[0].replace(X,ca),ha.test(m[0].type)&&k(b.parentNode)||b)){m.splice(d,1);a=g.length&&q(m);if(!a)return Q.apply(c,
g),c;break}}}(f||zc(a,r))(g,b,!I,c,!b||ha.test(a)&&k(b.parentNode)||b);return c};Y.sortStable=y.split("").sort(ya).join("")===y;Y.detectDuplicates=!!z;Ja();Y.sortDetached=d(function(a){return a.compareDocumentPosition(P.createElement("fieldset"))&1});d(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});Y.attributes&&d(function(a){a.innerHTML=
"\x3cinput/\x3e";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||h("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var g;if(!c)return!0===a[b]?b.toLowerCase():(g=a.getAttributeNode(b))&&g.specified?g.value:null});return b}(b);
n.find=ka;n.expr=ka.selectors;n.expr[":"]=n.expr.pseudos;n.uniqueSort=n.unique=ka.uniqueSort;n.text=ka.getText;n.isXMLDoc=ka.isXML;n.contains=ka.contains;n.escapeSelector=ka.escape;var Oa=function(a,b,c){for(var g=[],d=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&n(a).is(c))break;g.push(a)}return g},Yb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Zb=n.expr.match.needsContext,$b=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
gb=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var g=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===g.nodeType?n.find.matchesSelector(g,a)?[g]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))};n.fn.extend({find:function(a){var b,c=this.length,g=this;if("string"!==typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<c;b++)if(n.contains(g[b],this))return!0}));var d=this.pushStack([]);for(b=0;b<c;b++)n.find(a,g[b],d);return 1<c?n.uniqueSort(d):d},filter:function(b){return this.pushStack(a(this,
b||[],!1))},not:function(b){return this.pushStack(a(this,b||[],!0))},is:function(b){return!!a(this,"string"===typeof b&&Zb.test(b)?n(b):b||[],!1).length}});var ac=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.fn.init=function(a,b,c){if(!a)return this;c=c||Cb;if("string"===typeof a){var g="\x3c"===a[0]&&"\x3e"===a[a.length-1]&&3<=a.length?[null,a,null]:ac.exec(a);if(!g||!g[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(g[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(g[1],
b&&b.nodeType?b.ownerDocument||b:L,!0)),$b.test(g[1])&&n.isPlainObject(b))for(g in b)if(n.isFunction(this[g]))this[g](b[g]);else this.attr(g,b[g])}else if(a=L.getElementById(g[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):n.makeArray(a,this)}).prototype=n.fn;var Cb=n(L);var Db=/^(?:parents|prev(?:Until|All))/,bc={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;
return this.filter(function(){for(var a=0;a<c;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){var c,g=0,d=this.length,h=[],e="string"!==typeof a&&n(a);if(!Zb.test(a))for(;g<d;g++)for(c=this[g];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(e?-1<e.index(c):1===c.nodeType&&n.find.matchesSelector(c,a))){h.push(c);break}return this.pushStack(1<h.length?n.uniqueSort(h):h)},index:function(a){return a?"string"===typeof a?pa.call(n(a),this[0]):pa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Oa(a,"parentNode")},parentsUntil:function(a,b,c){return Oa(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return Oa(a,
"nextSibling")},prevAll:function(a){return Oa(a,"previousSibling")},nextUntil:function(a,b,c){return Oa(a,"nextSibling",c)},prevUntil:function(a,b,c){return Oa(a,"previousSibling",c)},siblings:function(a){return Yb((a.parentNode||{}).firstChild,a)},children:function(a){return Yb(a.firstChild)},contents:function(a){if(d(a,"iframe"))return a.contentDocument;d(a,"template")&&(a=a.content||a);return n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,g){var d=n.map(this,b,c);"Until"!==a.slice(-5)&&
(g=c);g&&"string"===typeof g&&(d=n.filter(g,d));1<this.length&&(bc[a]||n.uniqueSort(d),Db.test(a)&&d.reverse());return this.pushStack(d)}});var na=/[^\x20\t\r\n\f]+/g;n.Callbacks=function(a){a="string"===typeof a?l(a):n.extend({},a);var b,c,g,d,h=[],e=[],f=-1,m=function(){d=d||a.once;for(g=b=!0;e.length;f=-1)for(c=e.shift();++f<h.length;)!1===h[f].apply(c[0],c[1])&&a.stopOnFalse&&(f=h.length,c=!1);a.memory||(c=!1);b=!1;d&&(h=c?[]:"")},r={add:function(){h&&(c&&!b&&(f=h.length-1,e.push(c)),function mc(b){n.each(b,
function(b,c){n.isFunction(c)?a.unique&&r.has(c)||h.push(c):c&&c.length&&"string"!==n.type(c)&&mc(c)})}(arguments),c&&!b&&m());return this},remove:function(){n.each(arguments,function(a,b){for(var c;-1<(c=n.inArray(b,h,c));)h.splice(c,1),c<=f&&f--});return this},has:function(a){return a?-1<n.inArray(a,h):0<h.length},empty:function(){h&&(h=[]);return this},disable:function(){d=e=[];h=c="";return this},disabled:function(){return!h},lock:function(){d=e=[];c||b||(h=c="");return this},locked:function(){return!!d},
fireWith:function(a,c){d||(c=c||[],c=[a,c.slice?c.slice():c],e.push(c),b||m());return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!g}};return r};n.extend({Deferred:function(a){var g=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},
always:function(){f.done(arguments).fail(arguments);return this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return n.Deferred(function(b){n.each(g,function(c,g){var d=n.isFunction(a[g[4]])&&a[g[4]];f[g[1]](function(){var a=d&&d.apply(this,arguments);if(a&&n.isFunction(a.promise))a.promise().progress(b.notify).done(b.resolve).fail(b.reject);else b[g[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(a,d,e){function f(a,g,d,e){return function(){var l=
this,r=arguments,k=function(){if(!(a<m)){var b=d.apply(l,r);if(b===g.promise())throw new TypeError("Thenable self-resolution");var k=b&&("object"===typeof b||"function"===typeof b)&&b.then;n.isFunction(k)?e?k.call(b,f(m,g,h,e),f(m,g,c,e)):(m++,k.call(b,f(m,g,h,e),f(m,g,c,e),f(m,g,h,g.notifyWith))):(d!==h&&(l=void 0,r=[b]),(e||g.resolveWith)(l,r))}},p=e?k:function(){try{k()}catch(yb){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(yb,p.stackTrace),a+1>=m&&(d!==c&&(l=void 0,r=[yb]),g.rejectWith(l,
r))}};a?p():(n.Deferred.getStackHook&&(p.stackTrace=n.Deferred.getStackHook()),b.setTimeout(p))}}var m=0;return n.Deferred(function(b){g[0][3].add(f(0,b,n.isFunction(e)?e:h,b.notifyWith));g[1][3].add(f(0,b,n.isFunction(a)?a:h));g[2][3].add(f(0,b,n.isFunction(d)?d:c))}).promise()},promise:function(a){return null!=a?n.extend(a,e):e}},f={};n.each(g,function(a,b){var c=b[2],h=b[5];e[b[1]]=c.add;h&&c.add(function(){d=h},g[3-a][2].disable,g[0][2].lock);c.add(b[3].fire);f[b[0]]=function(){f[b[0]+"With"](this===
f?void 0:this,arguments);return this};f[b[0]+"With"]=c.fireWith});e.promise(f);a&&a.call(f,f);return f},when:function(a){var b=arguments.length,c=b,g=Array(c),d=P.call(arguments),h=n.Deferred(),e=function(a){return function(c){g[a]=this;d[a]=1<arguments.length?P.call(arguments):c;--b||h.resolveWith(g,d)}};if(1>=b&&(p(a,h.done(e(c)).resolve,h.reject,!b),"pending"===h.state()||n.isFunction(d[c]&&d[c].then)))return h.then();for(;c--;)p(d[c],e(c),h.reject);return h.promise()}});var ab=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
n.Deferred.exceptionHook=function(a,c){b.console&&b.console.warn&&a&&ab.test(a.name)&&b.console.warn("jQuery.Deferred exception: "+a.message,a.stack,c)};n.readyException=function(a){b.setTimeout(function(){throw a;})};var Aa=n.Deferred();n.fn.ready=function(a){Aa.then(a).catch(function(a){n.readyException(a)});return this};n.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&0<--n.readyWait||Aa.resolveWith(L,[n]))}});n.ready.then=Aa.then;"complete"===
L.readyState||"loading"!==L.readyState&&!L.documentElement.doScroll?b.setTimeout(n.ready):(L.addEventListener("DOMContentLoaded",u),b.addEventListener("load",u));var va=function(a,b,c,g,d,h,e){var f=0,m=a.length,l=null==c;if("object"===n.type(c))for(f in d=!0,c)va(a,b,f,c[f],!0,h,e);else if(void 0!==g&&(d=!0,n.isFunction(g)||(e=!0),l&&(e?(b.call(a,g),b=null):(l=b,b=function(a,b,c){return l.call(n(a),c)})),b))for(;f<m;f++)b(a[f],c,e?g:g.call(a[f],f,b(a[f],c)));return d?a:l?b.call(a):m?b(a[0],c):h},
Pa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1;q.prototype={cache:function(a){var b=a[this.expando];b||(b={},Pa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,c){var g;a=this.cache(a);if("string"===typeof b)a[n.camelCase(b)]=c;else for(g in b)a[n.camelCase(g)]=b[g];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][n.camelCase(b)]},access:function(a,
b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return this.get(a,b);this.set(a,b,c);return void 0!==c?c:b},remove:function(a,b){var c,g=a[this.expando];if(void 0!==g){if(void 0!==b)for(Array.isArray(b)?b=b.map(n.camelCase):(b=n.camelCase(b),b=b in g?[b]:b.match(na)||[]),c=b.length;c--;)delete g[b[c]];if(void 0===b||n.isEmptyObject(g))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!n.isEmptyObject(a)}};var Q=new q,ea=new q,
hb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,La=/[A-Z]/g;n.extend({hasData:function(a){return ea.hasData(a)||Q.hasData(a)},data:function(a,b,c){return ea.access(a,b,c)},removeData:function(a,b){ea.remove(a,b)},_data:function(a,b,c){return Q.access(a,b,c)},_removeData:function(a,b){Q.remove(a,b)}});n.fn.extend({data:function(a,b){var c,d=this[0],h=d&&d.attributes;if(void 0===a){if(this.length){var e=ea.get(d);if(1===d.nodeType&&!Q.get(d,"hasDataAttrs")){for(c=h.length;c--;)if(h[c]){var f=h[c].name;0===f.indexOf("data-")&&
(f=n.camelCase(f.slice(5)),g(d,f,e[f]))}Q.set(d,"hasDataAttrs",!0)}}return e}return"object"===typeof a?this.each(function(){ea.set(this,a)}):va(this,function(b){if(d&&void 0===b){var c=ea.get(d,a);if(void 0!==c)return c;c=g(d,a);if(void 0!==c)return c}else this.each(function(){ea.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ea.remove(this,a)})}});n.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var g=Q.get(a,b);c&&(!g||Array.isArray(c)?
g=Q.access(a,b,n.makeArray(c)):g.push(c));return g||[]}},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),g=c.length,d=c.shift(),h=n._queueHooks(a,b),e=function(){n.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),g--);d&&("fx"===b&&c.unshift("inprogress"),delete h.stop,d.call(a,e,h));!g&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Q.get(a,c)||Q.access(a,c,{empty:n.Callbacks("once memory").add(function(){Q.remove(a,[b+"queue",c])})})}});n.fn.extend({queue:function(a,b){var c=
2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,g=1,d=n.Deferred(),h=this,e=this.length,f=function(){--g||d.resolveWith(h,[h])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(c=
Q.get(h[e],a+"queueHooks"))&&c.empty&&(g++,c.empty.add(f));f();return d.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fa=new RegExp("^(?:([+-])\x3d|)("+Ba+")([a-z%]*)$","i"),xa=["Top","Right","Bottom","Left"],Ma=function(a,b){a=b||a;return"none"===a.style.display||""===a.style.display&&n.contains(a.ownerDocument,a)&&"none"===n.css(a,"display")},bb=function(a,b,c,g){var d,h={};for(d in b)h[d]=a.style[d],a.style[d]=b[d];c=c.apply(a,g||[]);for(d in b)a.style[d]=h[d];return c},fa=
{};n.fn.extend({show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ma(this)?n(this).show():n(this).hide()})}});var X=/^(?:checkbox|radio)$/i,sb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,tb=/^$|\/(?:java|ecma)script/i,aa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;var Kb=/<|&#?\w+;/;(function(){var a=L.createDocumentFragment().appendChild(L.createElement("div")),b=L.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);U.checkClone=
a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";U.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();var Ga=L.documentElement,qb=/^key/,cb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Eb=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(a,b,c,g,d){var h,e,f,m,l;if(f=Q.get(a)){if(c.handler){var k=c;c=k.handler;d=k.selector}d&&n.find.matchesSelector(Ga,d);c.guid||(c.guid=n.guid++);(e=f.events)||(e=f.events={});(h=f.handle)||(h=f.handle=
function(b){return"undefined"!==typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0});b=(b||"").match(na)||[""];for(f=b.length;f--;){var p=Eb.exec(b[f])||[];var q=m=p[1];var r=(p[2]||"").split(".").sort();q&&(p=n.event.special[q]||{},q=(d?p.delegateType:p.bindType)||q,p=n.event.special[q]||{},m=n.extend({type:q,origType:m,data:g,handler:c,guid:c.guid,selector:d,needsContext:d&&n.expr.match.needsContext.test(d),namespace:r.join(".")},k),(l=e[q])||(l=e[q]=[],l.delegateCount=
0,p.setup&&!1!==p.setup.call(a,g,r,h)||a.addEventListener&&a.addEventListener(q,h)),p.add&&(p.add.call(a,m),m.handler.guid||(m.handler.guid=c.guid)),d?l.splice(l.delegateCount++,0,m):l.push(m),n.event.global[q]=!0)}}},remove:function(a,b,c,g,d){var h,e,f,m,l,k=Q.hasData(a)&&Q.get(a);if(k&&(f=k.events)){b=(b||"").match(na)||[""];for(m=b.length;m--;){var p=Eb.exec(b[m])||[];var q=l=p[1];var r=(p[2]||"").split(".").sort();if(q){var u=n.event.special[q]||{};q=(g?u.delegateType:u.bindType)||q;var A=f[q]||
[];p=p[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=h=A.length;h--;){var F=A[h];!d&&l!==F.origType||c&&c.guid!==F.guid||p&&!p.test(F.namespace)||g&&g!==F.selector&&("**"!==g||!F.selector)||(A.splice(h,1),F.selector&&A.delegateCount--,u.remove&&u.remove.call(a,F))}e&&!A.length&&(u.teardown&&!1!==u.teardown.call(a,r,k.handle)||n.removeEvent(a,q,k.handle),delete f[q])}else for(q in f)n.event.remove(a,q+b[m],c,g,!0)}n.isEmptyObject(f)&&Q.remove(a,"handle events")}},dispatch:function(a){var b=
n.event.fix(a),c,g,d,h=Array(arguments.length);var e=(Q.get(this,"events")||{})[b.type]||[];var f=n.event.special[b.type]||{};h[0]=b;for(c=1;c<arguments.length;c++)h[c]=arguments[c];b.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,b)){var m=n.event.handlers.call(this,b,e);for(c=0;(d=m[c++])&&!b.isPropagationStopped();)for(b.currentTarget=d.elem,e=0;(g=d.handlers[e++])&&!b.isImmediatePropagationStopped();)if(!b.rnamespace||b.rnamespace.test(g.namespace))b.handleObj=g,b.data=g.data,
g=((n.event.special[g.origType]||{}).handle||g.handler).apply(d.elem,h),void 0!==g&&!1===(b.result=g)&&(b.preventDefault(),b.stopPropagation());f.postDispatch&&f.postDispatch.call(this,b);return b.result}},handlers:function(a,b){var c,g=[],d=b.delegateCount,h=a.target;if(d&&h.nodeType&&!("click"===a.type&&1<=a.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==a.type||!0!==h.disabled)){var e=[];var f={};for(c=0;c<d;c++){var m=b[c];var l=m.selector+" ";void 0===f[l]&&(f[l]=m.needsContext?
-1<n(l,this).index(h):n.find(l,this,null,[h]).length);f[l]&&e.push(m)}e.length&&g.push({elem:h,handlers:e})}d<b.length&&g.push({elem:this,handlers:b.slice(d)});return g},addProp:function(a,b){Object.defineProperty(n.Event.prototype,a,{enumerable:!0,configurable:!0,get:n.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},
fix:function(a){return a[n.expando]?a:new n.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&d(this,"input"))return this.click(),!1},_default:function(a){return d(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&
(a.originalEvent.returnValue=a.result)}}}};n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};n.Event=function(a,b){if(!(this instanceof n.Event))return new n.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?t:I,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;
b&&n.extend(this,b);this.timeStamp=a&&a.timeStamp||n.now();this[n.expando]=!0};n.Event.prototype={constructor:n.Event,isDefaultPrevented:I,isPropagationStopped:I,isImmediatePropagationStopped:I,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;
this.isImmediatePropagationStopped=t;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&
qb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&cb.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},n.event.addProp);n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,g=a.handleObj;if(!c||c!==this&&!n.contains(this,c)){a.type=g.origType;var d=g.handler.apply(this,arguments);a.type=b}return d}}});n.fn.extend({on:function(a,
b,c,g){return G(this,a,b,c,g)},one:function(a,b,c,g){return G(this,a,b,c,g,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var g=a.handleObj;n(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler);return this}if("object"===typeof a){for(g in a)this.off(g,b,a[g]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=I);return this.each(function(){n.event.remove(this,a,c,b)})}});var cc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
Ca=/<script|<style|<link/i,Sa=/checked\s*(?:[^=]|=\s*.checked.)/i,Lb=/^true\/(.*)/,Nb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(cc,"\x3c$1\x3e\x3c/$2\x3e")},clone:function(a,b,c){var g,d=a.cloneNode(!0),h=n.contains(a.ownerDocument,a);if(!(U.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){var e=C(d);var f=C(a);var m=0;for(g=f.length;m<g;m++){var l=f[m],k=e[m],p=k.nodeName.toLowerCase();if("input"===p&&X.test(l.type))k.checked=
l.checked;else if("input"===p||"textarea"===p)k.defaultValue=l.defaultValue}}if(b)if(c)for(f=f||C(a),e=e||C(d),m=0,g=f.length;m<g;m++)N(f[m],e[m]);else N(a,d);e=C(d,"script");0<e.length&&H(e,!h&&C(a,"script"));return d},cleanData:function(a){for(var b,c,g,d=n.event.special,h=0;void 0!==(c=a[h]);h++)if(Pa(c)){if(b=c[Q.expando]){if(b.events)for(g in b.events)d[g]?n.event.remove(c,g):n.removeEvent(c,g,b.handle);c[Q.expando]=void 0}c[ea.expando]&&(c[ea.expando]=void 0)}}});n.fn.extend({detach:function(a){return D(this,
a,!0)},remove:function(a){return D(this,a)},text:function(a){return va(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return y(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,a).appendChild(a)})},prepend:function(){return y(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=
J(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return y(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return y(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(C(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return n.clone(this,a,b)})},
html:function(a){return va(this,function(a){var b=this[0]||{},c=0,g=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Ca.test(a)&&!aa[(sb.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;c<g;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(C(b,!1)),b.innerHTML=a);b=0}catch(Ka){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return y(this,arguments,function(b){var c=this.parentNode;0>n.inArray(this,a)&&(n.cleanData(C(this)),
c&&c.replaceChild(b,this))},a)}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c=[],g=n(a),d=g.length-1,h=0;h<=d;h++)a=h===d?this:this.clone(!0),n(g[h])[b](a),ya.apply(c,a.get());return this.pushStack(c)}});var Va=/^margin/,Ua=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),Ta=function(a){var c=a.ownerDocument.defaultView;c&&c.opener||(c=b);return c.getComputedStyle(a)};(function(){function a(){if(f){f.style.cssText=
"box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";f.innerHTML="";Ga.appendChild(e);var a=b.getComputedStyle(f);c="1%"!==a.top;h="2px"===a.marginLeft;g="4px"===a.width;f.style.marginRight="50%";d="4px"===a.marginRight;Ga.removeChild(e);f=null}}var c,g,d,h,e=L.createElement("div"),f=L.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle="content-box"===f.style.backgroundClip,
e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(f),n.extend(U,{pixelPosition:function(){a();return c},boxSizingReliable:function(){a();return g},pixelMarginRight:function(){a();return d},reliableMarginLeft:function(){a();return h}}))})();var Fb=/^(none|table(?!-c[ea]).+)/,Gb=/^--/,M={position:"absolute",visibility:"hidden",display:"block"},db={letterSpacing:"0",fontWeight:"400"},ub=["Webkit","Moz","ms"],Ob=L.createElement("div").style;
n.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=w(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,h=n.camelCase(b),e=Gb.test(b),f=a.style;e||(b=B(h));var m=n.cssHooks[b]||n.cssHooks[h];if(void 0!==c){var l=typeof c;"string"===
l&&(d=Fa.exec(c))&&d[1]&&(c=A(a,b,d),l="number");null!=c&&c===c&&("number"===l&&(c+=d&&d[3]||(n.cssNumber[h]?"":"px")),U.clearCloneStyle||""!==c||0!==b.indexOf("background")||(f[b]="inherit"),m&&"set"in m&&void 0===(c=m.set(a,c,g))||(e?f.setProperty(b,c):f[b]=c))}else return m&&"get"in m&&void 0!==(d=m.get(a,!1,g))?d:f[b]}},css:function(a,b,c,g){var d;var h=n.camelCase(b);Gb.test(b)||(b=B(h));(h=n.cssHooks[b]||n.cssHooks[h])&&"get"in h&&(d=h.get(a,!0,c));void 0===d&&(d=w(a,b,g));"normal"===d&&b in
db&&(d=db[b]);return""===c||c?(a=parseFloat(d),!0===c||isFinite(a)?a||0:d):d}});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,g){if(c)return!Fb.test(n.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?ca(a,b,g):bb(a,M,function(){return ca(a,b,g)})},set:function(a,c,g){var d,h=g&&Ta(a);(g=g&&Ea(a,b,g,"border-box"===n.css(a,"boxSizing",!1,h),h))&&(d=Fa.exec(c))&&"px"!==(d[3]||"px")&&(a.style[b]=c,c=n.css(a,b));return da(a,c,g)}}});n.cssHooks.marginLeft=
x(U.reliableMarginLeft,function(a,b){if(b)return(parseFloat(w(a,"marginLeft"))||a.getBoundingClientRect().left-bb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var g=0,d={};for(c="string"===typeof c?c.split(" "):[c];4>g;g++)d[a+xa[g]+b]=c[g]||c[g-2]||c[0];return d}};Va.test(a)||(n.cssHooks[a+b].set=da)});n.fn.extend({css:function(a,b){return va(this,function(a,b,c){var g,d=
{},h=0;if(Array.isArray(b)){c=Ta(a);for(g=b.length;h<g;h++)d[b[h]]=n.css(a,b[h],!1,c);return d}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)}});n.Tween=Z;Z.prototype={constructor:Z,init:function(a,b,c,g,d,h){this.elem=a;this.prop=c;this.easing=d||n.easing._default;this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=h||(n.cssNumber[c]?"":"px")},cur:function(){var a=Z.propHooks[this.prop];return a&&a.get?a.get(this):Z.propHooks._default.get(this)},run:function(a){var b,
c=Z.propHooks[this.prop];this.pos=this.options.duration?b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):Z.propHooks._default.set(this);return this}};Z.prototype.init.prototype=Z.prototype;Z.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=n.css(a.elem,a.prop,
""))&&"auto"!==a?a:0},set:function(a){if(n.fx.step[a.prop])n.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}};Z.propHooks.scrollTop=Z.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};n.fx=Z.prototype.init;n.fx.step={};var Na,kb,
dc=/^(?:toggle|show|hide)$/,Ac=/queueHooks$/;n.Animation=n.extend(ja,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);A(c.elem,a,Fa.exec(b),c);return c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(na);for(var c,g=0,d=a.length;g<d;g++)c=a[g],ja.tweeners[c]=ja.tweeners[c]||[],ja.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var g;var d="width"in b||"height"in b;var h=this,e={},f=a.style,m=a.nodeType&&Ma(a),l=Q.get(a,"fxshow");if(!c.queue){var k=n._queueHooks(a,"fx");
if(null==k.unqueued){k.unqueued=0;var p=k.empty.fire;k.empty.fire=function(){k.unqueued||p()}}k.unqueued++;h.always(function(){h.always(function(){k.unqueued--;n.queue(a,"fx").length||k.empty.fire()})})}for(g in b){var q=b[g];if(dc.test(q)){delete b[g];var u=u||"toggle"===q;if(q===(m?"hide":"show"))if("show"===q&&l&&void 0!==l[g])m=!0;else continue;e[g]=l&&l[g]||n.style(a,g)}}if((b=!n.isEmptyObject(b))||!n.isEmptyObject(e)){if(d&&1===a.nodeType){c.overflow=[f.overflow,f.overflowX,f.overflowY];var A=
l&&l.display;null==A&&(A=Q.get(a,"display"));d=n.css(a,"display");"none"===d&&(A?d=A:(F([a],!0),A=a.style.display||A,d=n.css(a,"display"),F([a])));("inline"===d||"inline-block"===d&&null!=A)&&"none"===n.css(a,"float")&&(b||(h.done(function(){f.display=A}),null==A&&(d=f.display,A="none"===d?"":d)),f.display="inline-block")}c.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=c.overflow[0];f.overflowX=c.overflow[1];f.overflowY=c.overflow[2]}));b=!1;for(g in e)b||(l?"hidden"in l&&(m=l.hidden):
l=Q.access(a,"fxshow",{display:A}),u&&(l.hidden=!m),m&&F([a],!0),h.done(function(){m||F([a]);Q.remove(a,"fxshow");for(g in e)n.style(a,g,e[g])})),b=Ia(m?l[g]:0,g,h),g in l||(l[g]=b.start,m&&(b.end=b.start,b.start=0))}}],prefilter:function(a,b){b?ja.prefilters.unshift(a):ja.prefilters.push(a)}});n.speed=function(a,b,c){var g=a&&"object"===typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};n.fx.off?g.duration=0:"number"!==typeof g.duration&&
(g.duration=g.duration in n.fx.speeds?n.fx.speeds[g.duration]:n.fx.speeds._default);if(null==g.queue||!0===g.queue)g.queue="fx";g.old=g.complete;g.complete=function(){n.isFunction(g.old)&&g.old.call(this);g.queue&&n.dequeue(this,g.queue)};return g};n.fn.extend({fadeTo:function(a,b,c,g){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,g)},animate:function(a,b,c,g){var d=n.isEmptyObject(a),h=n.speed(b,c,g);b=function(){var b=ja(this,n.extend({},a),h);(d||Q.get(this,"finish"))&&
b.stop(!0)};b.finish=b;return d||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var g=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",h=n.timers,e=Q.get(this);if(d)e[d]&&e[d].stop&&g(e[d]);else for(d in e)e[d]&&e[d].stop&&Ac.test(d)&&g(e[d]);for(d=h.length;d--;)h[d].elem!==this||null!=a&&h[d].queue!==a||(h[d].anim.stop(c),b=!1,h.splice(d,1));
!b&&c||n.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=Q.get(this),c=b[a+"queue"];var g=b[a+"queueHooks"];var d=n.timers,h=c?c.length:0;b.finish=!0;n.queue(this,a,[]);g&&g.stop&&g.stop.call(this,!0);for(g=d.length;g--;)d[g].elem===this&&d[g].queue===a&&(d[g].anim.stop(!0),d.splice(g,1));for(g=0;g<h;g++)c[g]&&c[g].finish&&c[g].finish.call(this);delete b.finish})}});n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,g,d){return null==
a||"boolean"===typeof a?c.apply(this,arguments):this.animate(oa(b,!0),a,g,d)}});n.each({slideDown:oa("show"),slideUp:oa("hide"),slideToggle:oa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,g){return this.animate(b,a,c,g)}});n.timers=[];n.fx.tick=function(){var a=0,b=n.timers;for(Na=n.now();a<b.length;a++){var c=b[a];c()||b[a]!==c||b.splice(a--,1)}b.length||n.fx.stop();Na=void 0};n.fx.timer=function(a){n.timers.push(a);
n.fx.start()};n.fx.interval=13;n.fx.start=function(){kb||(kb=!0,wa())};n.fx.stop=function(){kb=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fn.delay=function(a,c){a=n.fx?n.fx.speeds[a]||a:a;return this.queue(c||"fx",function(c,g){var d=b.setTimeout(c,a);g.stop=function(){b.clearTimeout(d)}})};(function(){var a=L.createElement("input"),b=L.createElement("select").appendChild(L.createElement("option"));a.type="checkbox";U.checkOn=""!==a.value;U.optSelected=b.selected;a=L.createElement("input");
a.value="t";a.type="radio";U.radioValue="t"===a.value})();var Qa=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return va(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}});n.extend({attr:function(a,b,c){var g,d,h=a.nodeType;if(3!==h&&8!==h&&2!==h){if("undefined"===typeof a.getAttribute)return n.prop(a,b,c);1===h&&n.isXMLDoc(a)||(d=n.attrHooks[b.toLowerCase()]||(n.expr.match.bool.test(b)?Bc:void 0));if(void 0!==c){if(null===c){n.removeAttr(a,
b);return}if(d&&"set"in d&&void 0!==(g=d.set(a,c,b)))return g;a.setAttribute(b,c+"");return c}if(d&&"get"in d&&null!==(g=d.get(a,b)))return g;g=n.find.attr(a,b);return null==g?void 0:g}},attrHooks:{type:{set:function(a,b){if(!U.radioValue&&"radio"===b&&d(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},removeAttr:function(a,b){var c=0,g=b&&b.match(na);if(g&&1===a.nodeType)for(;b=g[c++];)a.removeAttribute(b)}});var Bc={set:function(a,b,c){!1===b?n.removeAttr(a,c):a.setAttribute(c,
c);return c}};n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Qa[b]||n.find.attr;Qa[b]=function(a,b,g){var d=b.toLowerCase();if(!g){var h=Qa[d];Qa[d]=e;var e=null!=c(a,b,g)?d:null;Qa[d]=h}return e}});var Cc=/^(?:input|select|textarea|button)$/i,Dc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return va(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}});n.extend({prop:function(a,b,c){var g,d=a.nodeType;if(3!==
d&&8!==d&&2!==d){if(1!==d||!n.isXMLDoc(a)){b=n.propFix[b]||b;var h=n.propHooks[b]}return void 0!==c?h&&"set"in h&&void 0!==(g=h.set(a,c,b))?g:a[b]=c:h&&"get"in h&&null!==(g=h.get(a,b))?g:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):Cc.test(a.nodeName)||Dc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});U.optSelected||(n.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;
return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){n.propFix[this.toLowerCase()]=this});n.fn.extend({addClass:function(a){var b,c,g,d,h,e=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,ua(this)))});if("string"===typeof a&&a)for(b=a.match(na)||[];c=this[e++];){var f=ua(c);if(g=
1===c.nodeType&&" "+ma(f)+" "){for(h=0;d=b[h++];)0>g.indexOf(" "+d+" ")&&(g+=d+" ");g=ma(g);f!==g&&c.setAttribute("class",g)}}return this},removeClass:function(a){var b,c,g,d,h,e=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,ua(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(na)||[];c=this[e++];){var f=ua(c);if(g=1===c.nodeType&&" "+ma(f)+" "){for(h=0;d=b[h++];)for(;-1<g.indexOf(" "+d+" ");)g=g.replace(" "+d+
" "," ");g=ma(g);f!==g&&c.setAttribute("class",g)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,ua(this),b),b)}):this.each(function(){var b,g;if("string"===c){var d=0;var h=n(this);for(g=a.match(na)||[];b=g[d++];)h.hasClass(b)?h.removeClass(b):h.addClass(b)}else if(void 0===a||"boolean"===c)(b=ua(this))&&Q.set(this,"__className__",b),this.setAttribute&&
this.setAttribute("class",b||!1===a?"":Q.get(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+ma(ua(b))+" ").indexOf(a))return!0;return!1}});var Ec=/\r/g;n.fn.extend({val:function(a){var b,c,g=this[0];if(arguments.length){var d=n.isFunction(a);return this.each(function(c){1===this.nodeType&&(c=d?a.call(this,c,n(this).val()):a,null==c?c="":"number"===typeof c?c+="":Array.isArray(c)&&(c=n.map(c,function(a){return null==a?"":a+""})),
b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})}if(g){if((b=n.valHooks[g.type]||n.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(g,"value")))return c;c=g.value;return"string"===typeof c?c.replace(Ec,""):null==c?"":c}}});n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:ma(n.text(a))}},select:{get:function(a){var b=a.options,c=a.selectedIndex,g="select-one"===
a.type,h=g?null:[],e=g?c+1:b.length;for(a=0>c?e:g?c:0;a<e;a++){var f=b[a];if(!(!f.selected&&a!==c||f.disabled||f.parentNode.disabled&&d(f.parentNode,"optgroup"))){f=n(f).val();if(g)return f;h.push(f)}}return h},set:function(a,b){for(var c,g=a.options,d=n.makeArray(b),h=g.length;h--;)if(b=g[h],b.selected=-1<n.inArray(n.valHooks.option.get(b),d))c=!0;c||(a.selectedIndex=-1);return d}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=
-1<n.inArray(n(a).val(),b)}};U.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ec=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(a,c,g,d){var h,e,f=[g||L],m=nb.call(a,"type")?a.type:a;var l=nb.call(a,"namespace")?a.namespace.split("."):[];var k=h=g=g||L;if(3!==g.nodeType&&8!==g.nodeType&&!ec.test(m+n.event.triggered)){-1<m.indexOf(".")&&(l=m.split("."),m=l.shift(),l.sort());var p=0>m.indexOf(":")&&"on"+m;a=a[n.expando]?a:
new n.Event(m,"object"===typeof a&&a);a.isTrigger=d?2:3;a.namespace=l.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=g);c=null==c?[a]:n.makeArray(c,[a]);l=n.event.special[m]||{};if(d||!l.trigger||!1!==l.trigger.apply(g,c)){if(!d&&!l.noBubble&&!n.isWindow(g)){var q=l.delegateType||m;ec.test(q+m)||(k=k.parentNode);for(;k;k=k.parentNode)f.push(k),h=k;h===(g.ownerDocument||L)&&f.push(h.defaultView||h.parentWindow||b)}for(h=
0;(k=f[h++])&&!a.isPropagationStopped();)a.type=1<h?q:l.bindType||m,(e=(Q.get(k,"events")||{})[a.type]&&Q.get(k,"handle"))&&e.apply(k,c),(e=p&&k[p])&&e.apply&&Pa(k)&&(a.result=e.apply(k,c),!1===a.result&&a.preventDefault());a.type=m;d||a.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),c)||!Pa(g)||!p||!n.isFunction(g[m])||n.isWindow(g)||((h=g[p])&&(g[p]=null),n.event.triggered=m,g[m](),n.event.triggered=void 0,h&&(g[p]=h));return a.result}}},simulate:function(a,b,c){a=n.extend(new n.Event,
c,{type:a,isSimulated:!0});n.event.trigger(a,null,b)}});n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return n.event.trigger(a,b,c,!0)}});n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return 0<arguments.length?this.on(b,
null,a,c):this.trigger(b)}});n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});U.focusin="onfocusin"in b;U.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var g=this.ownerDocument||this,d=Q.access(g,b);d||g.addEventListener(a,c,!0);Q.access(g,b,(d||0)+1)},teardown:function(){var g=this.ownerDocument||this,d=Q.access(g,b)-1;d?Q.access(g,b,d):(g.removeEventListener(a,
c,!0),Q.remove(g,b))}}});var eb=b.location,fc=n.now(),Hb=/\?/;n.parseXML=function(a){if(!a||"string"!==typeof a)return null;try{var c=(new b.DOMParser).parseFromString(a,"text/xml")}catch(kc){c=void 0}c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+a);return c};var nc=/\[\]$/,gc=/\r?\n/g,Fc=/^(?:submit|button|image|reset|file)$/i,Gc=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,g=[],d=function(a,b){b=n.isFunction(b)?b():b;g[g.length]=encodeURIComponent(a)+
"\x3d"+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){d(this.name,this.value)});else for(c in a)Wa(c,a[c],b,d);return g.join("\x26")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Gc.test(this.nodeName)&&!Fc.test(a)&&(this.checked||
!X.test(a))}).map(function(a,b){a=n(this).val();return null==a?null:Array.isArray(a)?n.map(a,function(a){return{name:b.name,value:a.replace(gc,"\r\n")}}):{name:b.name,value:a.replace(gc,"\r\n")}}).get()}});var rb=/%20/g,Hc=/#.*$/,Ic=/([?&])_=[^&]*/,V=/^(.*?):[ \t]*([^\r\n]*)$/mg,T=/^(?:GET|HEAD)$/,Jc=/^\/\//,hc={},mb={},ic="*/".concat("*"),ia=L.createElement("a");ia.href=eb.href;n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:eb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(eb.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":ic,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?
ba(ba(a,n.ajaxSettings),b):ba(n.ajaxSettings,a)},ajaxPrefilter:Xa(hc),ajaxTransport:Xa(mb),ajax:function(a,c){function g(a,c,g,e){var l=c;if(!z){z=!0;f&&b.clearTimeout(f);d=void 0;h=e||"";R.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(g){var L=k;for(var C=R,r,H,P,w,I=L.contents,v=L.dataTypes;"*"===v[0];)v.shift(),void 0===r&&(r=L.mimeType||C.getResponseHeader("Content-Type"));if(r)for(H in I)if(I[H]&&I[H].test(r)){v.unshift(H);break}if(v[0]in g)P=v[0];else{for(H in g){if(!v[0]||L.converters[H+" "+
v[0]]){P=H;break}w||(w=H)}P=P||w}P?(P!==v[0]&&v.unshift(P),L=g[P]):L=void 0}a:{g=k;r=L;H=R;P=e;var y;C={};I=g.dataTypes.slice();if(I[1])for(E in g.converters)C[E.toLowerCase()]=g.converters[E];for(w=I.shift();w;){g.responseFields[w]&&(H[g.responseFields[w]]=r);!N&&P&&g.dataFilter&&(r=g.dataFilter(r,g.dataType));var N=w;if(w=I.shift())if("*"===w)w=N;else if("*"!==N&&N!==w){var E=C[N+" "+w]||C["* "+w];if(!E)for(y in C)if(L=y.split(" "),L[1]===w&&(E=C[N+" "+L[0]]||C["* "+L[0]])){!0===E?E=C[y]:!0!==C[y]&&
(w=L[0],I.unshift(L[1]));break}if(!0!==E)if(E&&g.throws)r=E(r);else try{r=E(r)}catch(wc){L={state:"parsererror",error:E?wc:"No conversion from "+N+" to "+w};break a}}}L={state:"success",data:r}}if(e)if(k.ifModified&&((l=R.getResponseHeader("Last-Modified"))&&(n.lastModified[t]=l),(l=R.getResponseHeader("etag"))&&(n.etag[t]=l)),204===a||"HEAD"===k.type)l="nocontent";else if(304===a)l="notmodified";else{l=L.state;var G=L.data;var x=L.error;e=!x}else if(x=l,a||!l)l="error",0>a&&(a=0);R.status=a;R.statusText=
(c||l)+"";e?u.resolveWith(p,[G,l,R]):u.rejectWith(p,[R,l,x]);R.statusCode(F);F=void 0;m&&q.trigger(e?"ajaxSuccess":"ajaxError",[R,k,e?G:x]);A.fireWith(p,[R,l]);m&&(q.trigger("ajaxComplete",[R,k]),--n.active||n.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=void 0);c=c||{};var d,h,e,f,m,l,k=n.ajaxSetup({},c),p=k.context||k,q=k.context&&(p.nodeType||p.jquery)?n(p):n.event,u=n.Deferred(),A=n.Callbacks("once memory"),F=k.statusCode||{},C={},r={},H="canceled",R={readyState:0,getResponseHeader:function(a){var b;
if(z){if(!e)for(e={};b=V.exec(h);)e[b[1].toLowerCase()]=b[2];b=e[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return z?h:null},setRequestHeader:function(a,b){null==z&&(a=r[a.toLowerCase()]=r[a.toLowerCase()]||a,C[a]=b);return this},overrideMimeType:function(a){null==z&&(k.mimeType=a);return this},statusCode:function(a){var b;if(a)if(z)R.always(a[R.status]);else for(b in a)F[b]=[F[b],a[b]];return this},abort:function(a){a=a||H;d&&d.abort(a);g(0,a);return this}};u.promise(R);
k.url=((a||k.url||eb.href)+"").replace(Jc,eb.protocol+"//");k.type=c.method||c.type||k.method||k.type;k.dataTypes=(k.dataType||"*").toLowerCase().match(na)||[""];if(null==k.crossDomain){a=L.createElement("a");try{a.href=k.url,a.href=a.href,k.crossDomain=ia.protocol+"//"+ia.host!==a.protocol+"//"+a.host}catch(pb){k.crossDomain=!0}}k.data&&k.processData&&"string"!==typeof k.data&&(k.data=n.param(k.data,k.traditional));lb(hc,k,c,R);if(z)return R;(m=n.event&&k.global)&&0===n.active++&&n.event.trigger("ajaxStart");
k.type=k.type.toUpperCase();k.hasContent=!T.test(k.type);var t=k.url.replace(Hc,"");k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(rb,"+")):(a=k.url.slice(t.length),k.data&&(t+=(Hb.test(t)?"\x26":"?")+k.data,delete k.data),!1===k.cache&&(t=t.replace(Ic,"$1"),a=(Hb.test(t)?"\x26":"?")+"_\x3d"+fc++ +a),k.url=t+a);k.ifModified&&(n.lastModified[t]&&R.setRequestHeader("If-Modified-Since",n.lastModified[t]),n.etag[t]&&R.setRequestHeader("If-None-Match",
n.etag[t]));(k.data&&k.hasContent&&!1!==k.contentType||c.contentType)&&R.setRequestHeader("Content-Type",k.contentType);R.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+ic+"; q\x3d0.01":""):k.accepts["*"]);for(l in k.headers)R.setRequestHeader(l,k.headers[l]);if(k.beforeSend&&(!1===k.beforeSend.call(p,R,k)||z))return R.abort();H="abort";A.add(k.complete);R.done(k.success);R.fail(k.error);if(d=lb(mb,k,c,R)){R.readyState=1;m&&
q.trigger("ajaxSend",[R,k]);if(z)return R;k.async&&0<k.timeout&&(f=b.setTimeout(function(){R.abort("timeout")},k.timeout));try{var z=!1;d.send(C,g)}catch(pb){if(z)throw pb;g(-1,pb)}}else g(-1,"No Transport");return R},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}});n.each(["get","post"],function(a,b){n[b]=function(a,c,g,d){n.isFunction(c)&&(d=d||g,g=c,c=void 0);return n.ajax(n.extend({url:a,type:b,dataType:d,data:c,success:g},n.isPlainObject(a)&&
a))}});n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};n.fn.extend({wrapAll:function(a){this[0]&&(n.isFunction(a)&&(a=a.call(this[0])),a=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){n(this).replaceWith(this.childNodes)});return this}});n.expr.pseudos.hidden=function(a){return!n.expr.pseudos.visible(a)};n.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};n.ajaxSettings.xhr=
function(){try{return new b.XMLHttpRequest}catch(r){}};var Ib={0:200,1223:204},Ha=n.ajaxSettings.xhr();U.cors=!!Ha&&"withCredentials"in Ha;U.ajax=Ha=!!Ha;n.ajaxTransport(function(a){var c,g;if(U.cors||Ha&&!a.crossDomain)return{send:function(d,h){var e,f=a.xhr();f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");
for(e in d)f.setRequestHeader(e,d[e]);c=function(a){return function(){c&&(c=g=f.onload=f.onerror=f.onabort=f.onreadystatechange=null,"abort"===a?f.abort():"error"===a?"number"!==typeof f.status?h(0,"error"):h(f.status,f.statusText):h(Ib[f.status]||f.status,f.statusText,"text"!==(f.responseType||"text")||"string"!==typeof f.responseText?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}};f.onload=c();g=f.onerror=c("error");void 0!==f.onabort?f.onabort=g:f.onreadystatechange=function(){4===
f.readyState&&b.setTimeout(function(){c&&g()})};c=c("abort");try{f.send(a.hasContent&&a.data||null)}catch(ib){if(c)throw ib;}},abort:function(){c&&c()}}});n.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){n.globalEval(a);return a}}});n.ajaxPrefilter("script",function(a){void 0===
a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(g,d){b=n("\x3cscript\x3e").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&d("error"===a.type?404:200,a.type)});L.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],fb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+fc++;this[a]=!0;return a}});n.ajaxPrefilter("json jsonp",
function(a,c,g){var d,h=!1!==a.jsonp&&(fb.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&fb.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0]){var e=a.jsonpCallback=n.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;h?a[h]=a[h].replace(fb,"$1"+e):!1!==a.jsonp&&(a.url+=(Hb.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+e);a.converters["script json"]=function(){d||n.error(e+" was not called");return d[0]};a.dataTypes[0]="json";
var f=b[e];b[e]=function(){d=arguments};g.always(function(){void 0===f?n(b).removeProp(e):b[e]=f;a[e]&&(a.jsonpCallback=c.jsonpCallback,Jb.push(e));d&&n.isFunction(f)&&f(d[0]);d=f=void 0});return"script"}});U.createHTMLDocument=function(){var a=L.implementation.createHTMLDocument("").body;a.innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e";return 2===a.childNodes.length}();n.parseHTML=function(a,b,c){if("string"!==typeof a)return[];"boolean"===typeof b&&(c=b,b=!1);if(!b)if(U.createHTMLDocument){b=
L.implementation.createHTMLDocument("");var g=b.createElement("base");g.href=L.location.href;b.head.appendChild(g)}else b=L;g=$b.exec(a);c=!c&&[];if(g)return[b.createElement(g[1])];g=z([a],b,c);c&&c.length&&n(c).remove();return n.merge([],g.childNodes)};n.fn.load=function(a,b,c){var g,d,h=this,e=a.indexOf(" ");if(-1<e){var f=ma(a.slice(e));a=a.slice(0,e)}n.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(g="POST");0<h.length&&n.ajax({url:a,type:g||"GET",dataType:"html",data:b}).done(function(a){d=
arguments;h.html(f?n("\x3cdiv\x3e").append(n.parseHTML(a)).find(f):a)}).always(c&&function(a,b){h.each(function(){c.apply(this,d||[a.responseText,b,a])})});return this};n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,a)}});n.expr.pseudos.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};n.offset={setOffset:function(a,b,c){var g=n.css(a,"position"),d=n(a),h={};"static"===g&&(a.style.position=
"relative");var e=d.offset();var f=n.css(a,"top");var m=n.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(f+m).indexOf("auto")?(m=d.position(),f=m.top,m=m.left):(f=parseFloat(f)||0,m=parseFloat(m)||0);n.isFunction(b)&&(b=b.call(a,c,n.extend({},e)));null!=b.top&&(h.top=b.top-e.top+f);null!=b.left&&(h.left=b.left-e.left+m);"using"in b?b.using.call(a,h):d.css(h)}};n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b;if(b=
this[0]){if(!b.getClientRects().length)return{top:0,left:0};var c=b.getBoundingClientRect();var g=b.ownerDocument;b=g.documentElement;g=g.defaultView;return{top:c.top+g.pageYOffset-b.clientTop,left:c.left+g.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a=this[0],b={top:0,left:0};if("fixed"===n.css(a,"position"))var c=a.getBoundingClientRect();else{var g=this.offsetParent();c=this.offset();d(g[0],"html")||(b=g.offset());b={top:b.top+n.css(g[0],"borderTopWidth",!0),left:b.left+n.css(g[0],
"borderLeftWidth",!0)}}return{top:c.top-b.top-n.css(a,"marginTop",!0),left:c.left-b.left-n.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ga})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(g){return va(this,function(a,g,d){if(n.isWindow(a))var h=a;else 9===a.nodeType&&(h=a.defaultView);if(void 0===d)return h?h[b]:
a[g];h?h.scrollTo(c?h.pageXOffset:d,c?d:h.pageYOffset):a[g]=d},a,g,arguments.length)}});n.each(["top","left"],function(a,b){n.cssHooks[b]=x(U.pixelPosition,function(a,c){if(c)return c=w(a,b),Ua.test(c)?n(a).position()[b]+"px":c})});n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,g){n.fn[g]=function(d,h){var e=arguments.length&&(c||"boolean"!==typeof d),f=c||(!0===d||!0===h?"margin":"border");return va(this,function(b,c,d){return n.isWindow(b)?
0===g.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?n.css(b,c,f):n.style(b,c,d,f)},b,e?d:void 0,e)}})});n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,g){return this.on(b,a,c,g)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)}});n.holdReady=function(a){a?n.readyWait++:n.ready(!0)};n.isArray=Array.isArray;n.parseJSON=JSON.parse;n.nodeName=d;"function"===typeof define&&define.amd&&define("jquery",[],function(){return n});var Da=b.jQuery,jc=b.$;n.noConflict=function(a){b.$===n&&(b.$=jc);a&&b.jQuery===n&&(b.jQuery=Da);return n};e||(b.jQuery=b.$=n);return n});
(function(b,e){"$:nomunge";var f=b.jQuery||b.Cowboy||(b.Cowboy={}),k;f.throttle=k=function(b,a,m,l){function d(){function d(){k=+new Date;m.apply(g,p)}function h(){c=e}var g=this,f=+new Date-k,p=arguments;l&&!c&&d();c&&clearTimeout(c);l===e&&f>b?d():!0!==a&&(c=setTimeout(l?h:d,l===e?b-f:b))}var c,k=0;"boolean"!==typeof a&&(l=m,m=a,a=e);f.guid&&(d.guid=m.guid=m.guid||f.guid++);return d};f.debounce=function(b,a,f){return f===e?k(b,a,!1):k(b,f,!1!==a)}})(this);
(function(b,e){"function"===typeof define&&define.amd?define("bloodhound",["jquery"],function(f){return b.Bloodhound=e(f)}):"object"===typeof exports?module.exports=e(require("jquery")):b.Bloodhound=e(jQuery)})(this,function(b){var e=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$\x26")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:b.isArray,isFunction:b.isFunction,isObject:b.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(a){return a instanceof b},toStr:function(a){return e.isUndefined(a)||null===a?"":a+""},bind:b.proxy,each:function(a,c){b.each(a,function(a,b){return c(b,a)})},map:b.map,filter:b.grep,every:function(a,c){var d=
!0;if(!a)return d;b.each(a,function(b,h){if(!(d=c.call(null,h,b,a)))return!1});return!!d},some:function(a,c){var d=!1;if(!a)return d;b.each(a,function(b,h){if(d=c.call(null,h,b,a))return!1});return!!d},mixin:b.extend,identity:function(a){return a},clone:function(a){return b.extend(!0,{},a)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(a){function c(){return String(a)}return b.isFunction(a)?a:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var g,
d;return function(){var h=this,e=arguments;var f=c&&!g;clearTimeout(g);g=setTimeout(function(){g=null;c||(d=a.apply(h,e))},b);f&&(d=a.apply(h,e));return d}},throttle:function(a,b){var c,g,d,h;var e=0;var f=function(){e=new Date;d=null;h=a.apply(c,g)};return function(){var m=new Date,l=b-(m-e);c=this;g=arguments;0>=l?(clearTimeout(d),d=null,e=m,h=a.apply(c,g)):d||(d=setTimeout(f,l));return h}},stringify:function(a){return e.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),f=function(){function a(a){return(a=
e.toStr(a))?a.split(/\s+/):[]}function b(a){return(a=e.toStr(a))?a.split(/\W+/):[]}function c(a){return function(b){b=e.isArray(b)?b:[].slice.call(arguments,0);return function(c){var g=[];e.each(b,function(b){g=g.concat(a(e.toStr(c[b])))});return g}}}return{nonword:b,whitespace:a,obj:{nonword:c(b),whitespace:c(a)}}}(),k=function(){function a(a){this.maxSize=e.isNumber(a)?a:100;this.reset();0>=this.maxSize&&(this.set=this.get=b.noop)}function c(){this.head=this.tail=null}function d(a,b){this.key=a;
this.val=b;this.prev=this.next=null}e.mixin(a.prototype,{set:function(a,b){var c=this.list.tail;this.size>=this.maxSize&&(this.list.remove(c),delete this.hash[c.key],this.size--);(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){if(a=this.hash[a])return this.list.moveToFront(a),a.val},reset:function(){this.size=0;this.hash={};this.list=new c}});e.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=
a);this.head=a;this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next;a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a);this.add(a)}});return a}(),d=function(){function a(a,b){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix));this.ls=b||d;!this.ls&&this._noop()}function c(a){return JSON.stringify(e.isUndefined(a)?null:a)}try{var d=window.localStorage;d.setItem("~~~",
"!");d.removeItem("~~~")}catch(g){d=null}e.mixin(a.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(F){"QuotaExceededError"===F.name&&(this.clear(),this._noop())}},get:function(a){this.isExpired(a)&&this.remove(a);return b.parseJSON(this.ls.getItem(this._prefix(a)))},set:function(a,b,d){e.isNumber(d)?this._safeSet(this._ttlKey(a),
c((new Date).getTime()+d)):this.ls.removeItem(this._ttlKey(a));return this._safeSet(this._prefix(a),c(b))},remove:function(a){this.ls.removeItem(this._ttlKey(a));this.ls.removeItem(this._prefix(a));return this},clear:function(){var a=this.keyMatcher;var b,c,h=[],e=d.length;for(b=0;b<e;b++)(c=d.key(b)).match(a)&&h.push(c.replace(a,""));for(a=h.length;a--;)this.remove(h[a]);return this},isExpired:function(a){a=b.parseJSON(this.ls.getItem(this._ttlKey(a)));return e.isNumber(a)&&(new Date).getTime()>
a?!0:!1}});return a}(),a=function(){function a(a){a=a||{};this.cancelled=!1;this.lastReq=null;this._send=a.transport;this._get=a.limiter?a.limiter(this._get):this._get;this._cache=!1===a.cache?new k(0):h}var c=0,d={},g=6,h=new k(10);a.setMaxPendingRequests=function(a){g=a};a.resetCache=function(){h.reset()};e.mixin(a.prototype,{_fingerprint:function(a){a=a||{};return a.url+a.type+b.param(a.data||{})},_get:function(a,b){function h(a){b(null,a);m._cache.set(k,a)}function e(){b(!0)}function f(){c--;
delete d[k];m.onDeckRequestArgs&&(m._get.apply(m,m.onDeckRequestArgs),m.onDeckRequestArgs=null)}var m=this,l;var k=this._fingerprint(a);this.cancelled||k!==this.lastReq||((l=d[k])?l.done(h).fail(e):c<g?(c++,d[k]=this._send(a).done(h).fail(e).always(f)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(a,c){var g;c=c||b.noop;a=e.isString(a)?{url:a}:a||{};var d=this._fingerprint(a);this.cancelled=!1;this.lastReq=d;(g=this._cache.get(d))?c(null,g):this._get(a,c)},cancel:function(){this.cancelled=
!0}});return a}(),m=window.SearchIndex=function(){function a(a){a=a||{};a.datumTokenizer&&a.queryTokenizer||b.error("datumTokenizer and queryTokenizer are both required");this.identify=a.identify||e.stringify;this.datumTokenizer=a.datumTokenizer;this.queryTokenizer=a.queryTokenizer;this.reset()}function c(a){a=e.filter(a,function(a){return!!a});return a=e.map(a,function(a){return a.toLowerCase()})}function d(a){for(var b={},c=[],g=0,d=a.length;g<d;g++)b[a[g]]||(b[a[g]]=!0,c.push(a[g]));return c}e.mixin(a.prototype,
{bootstrap:function(a){this.datums=a.datums;this.trie=a.trie},add:function(a){var b=this;a=e.isArray(a)?a:[a];e.each(a,function(a){var g;b.datums[g=b.identify(a)]=a;a=c(b.datumTokenizer(a));e.each(a,function(a){var c;var d=b.trie;for(a=a.split("");c=a.shift();)d=d.c[c]||(d.c[c]={i:[],c:{}}),d.i.push(g)})})},get:function(a){var b=this;return e.map(a,function(a){return b.datums[a]})},search:function(a){var b=this,g;a=c(this.queryTokenizer(a));e.each(a,function(a){var c;if(g&&0===g.length)return!1;var d=
b.trie;for(a=a.split("");d&&(c=a.shift());)d=d.c[c];if(d&&0===a.length){c=d.i.slice(0);if(g){d=g;var h=a=0,e=[];d=d.sort();c=c.sort();for(var f=d.length,m=c.length;a<f&&h<m;)d[a]<c[h]?a++:(d[a]>c[h]||(e.push(d[a]),a++),h++);d=e}else d=c;g=d}else return g=[],!1});return g?e.map(d(g),function(a){return b.datums[a]}):[]},all:function(){var a=[],b;for(b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={};this.trie={i:[],c:{}}},serialize:function(){return{datums:this.datums,
trie:this.trie}}});return a}(),l=function(){function a(a){this.url=a.url;this.ttl=a.ttl;this.cache=a.cache;this.prepare=a.prepare;this.transform=a.transform;this.transport=a.transport;this.thumbprint=a.thumbprint;this.storage=new d(a.cacheKey)}e.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set("data",a,this.ttl),this.storage.set("protocol",location.protocol,this.ttl),this.storage.set("thumbprint",this.thumbprint,
this.ttl))},fromCache:function(){if(!this.cache)return null;var a=this.storage.get("data");var b=this.storage.get("protocol");b=this.storage.get("thumbprint")!==this.thumbprint||b!==location.protocol;return a&&!b?a:null},fromNetwork:function(a){var b=this;if(a){var c=this.prepare(this._settings());this.transport(c).fail(function(){a(!0)}).done(function(c){a(null,b.transform(c))})}},clear:function(){this.storage.clear();return this}});return a}(),h=function(){function b(b){this.url=b.url;this.prepare=
b.prepare;this.transform=b.transform;this.transport=new a({cache:b.cache,limiter:b.limiter,transport:b.transport})}e.mixin(b.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(a,b){var c=this;if(b)return a=this.prepare(a||"",this._settings()),this.transport.get(a,function(a,g){a?b([]):b(c.transform(g))})},cancelLastRequest:function(){this.transport.cancel()}});return b}(),c=function(){function a(a){if(!a)return null;var c={url:null,ttl:864E5,cache:!0,cacheKey:null,
thumbprint:"",prepare:e.identity,transform:e.identity,transport:null};a=e.isString(a)?{url:a}:a;a=e.mixin(c,a);!a.url&&b.error("prefetch requires url to be set");a.transform=a.filter||a.transform;a.cacheKey=a.cacheKey||a.url;a.thumbprint="0.11.1"+a.thumbprint;a.transport=a.transport?h(a.transport):b.ajax;return a}function c(a){if(a){var c={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null};a=e.isString(a)?
{url:a}:a;a=e.mixin(c,a);!a.url&&b.error("remote requires url to be set");a.transform=a.filter||a.transform;a.prepare=d(a);a.limiter=g(a);a.transport=a.transport?h(a.transport):b.ajax;delete a.replace;delete a.wildcard;delete a.rateLimitBy;delete a.rateLimitWait;return a}}function d(a){function b(a,b){b.url=h(b.url,a);return b}function c(a,b){b.url=b.url.replace(e,encodeURIComponent(a));return b}function g(a,b){return b}var d=a.prepare;var h=a.replace;var e=a.wildcard;return d?d:d=h?b:a.wildcard?
c:g}function g(a){function b(a){return function(b){return e.debounce(b,a)}}function c(a){return function(b){return e.throttle(b,a)}}var g=a.limiter;var d=a.rateLimitBy;a=a.rateLimitWait;g||(g=/^throttle$/i.test(d)?c(a):b(a));return g}function h(a){return function(c){var g=b.Deferred();a(c,function(a){e.defer(function(){g.resolve(a)})},function(a){e.defer(function(){g.reject(a)})});return g}}return function(g){g=e.mixin({initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,
sorter:null,local:[],prefetch:null,remote:null},g||{});!g.datumTokenizer&&b.error("datumTokenizer is required");!g.queryTokenizer&&b.error("queryTokenizer is required");var d=g.sorter;g.sorter=d?function(a){return a.sort(d)}:e.identity;g.local=e.isFunction(g.local)?g.local():g.local;g.prefetch=a(g.prefetch);g.remote=c(g.remote);return g}}();return function(){function d(a){a=c(a);this.sorter=a.sorter;this.identify=a.identify;this.sufficient=a.sufficient;this.local=a.local;this.remote=a.remote?new h(a.remote):
null;this.prefetch=a.prefetch?new l(a.prefetch):null;this.index=new m({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer});!1!==a.initialize&&this.initialize()}var k=window&&window.Bloodhound;d.noConflict=function(){window&&(window.Bloodhound=k);return d};d.tokenizers=f;e.mixin(d.prototype,{__ttAdapter:function(){function a(a,b,g){return c.search(a,b,g)}function b(a,b){return c.search(a,b)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function a(a,
b){if(a)return h.reject();c.add(b);c.prefetch.store(c.index.serialize());h.resolve()}var c=this,d;var h=b.Deferred();this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),h.resolve()):this.prefetch.fromNetwork(a):h.resolve();return h.promise()},_initialize:function(){var a=this;this.clear();(this.initPromise=this._loadPrefetch()).done(function(){a.add(a.local)});return this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a);
return this},get:function(a){a=e.isArray(a)?a:[].slice.call(arguments);return this.index.get(a)},search:function(a,b,c){function g(a){var b=[];e.each(a,function(a){!e.some(h,function(b){return d.identify(a)===d.identify(b)})&&b.push(a)});c&&c(b)}var d=this;var h=this.sorter(this.index.search(a));b(this.remote?h.slice():h);this.remote&&h.length<this.sufficient?this.remote.get(a,g):this.remote&&this.remote.cancelLastRequest();return this},all:function(){return this.index.all()},clear:function(){this.index.reset();
return this},clearPrefetchCache:function(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function(){a.resetCache();return this},ttAdapter:function(){return this.__ttAdapter()}});return d}()});
(function(b,e){"function"===typeof define&&define.amd?define("typeahead.js",["jquery"],function(b){return e(b)}):"object"===typeof exports?module.exports=e(require("jquery")):e(jQuery)})(this,function(b){var e=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26")},
isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:b.isArray,isFunction:b.isFunction,isObject:b.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(a){return a instanceof b},toStr:function(a){return e.isUndefined(a)||null===a?"":a+""},bind:b.proxy,each:function(a,c){b.each(a,function(a,b){return c(b,a)})},map:b.map,filter:b.grep,every:function(a,c){var g=!0;if(!a)return g;
b.each(a,function(b,d){if(!(g=c.call(null,d,b,a)))return!1});return!!g},some:function(a,c){var g=!1;if(!a)return g;b.each(a,function(b,d){if(g=c.call(null,d,b,a))return!1});return!!g},mixin:b.extend,identity:function(a){return a},clone:function(a){return b.extend(!0,{},a)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(a){function c(){return String(a)}return b.isFunction(a)?a:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var g,d;return function(){var h=
this,e=arguments;var f=c&&!g;clearTimeout(g);g=setTimeout(function(){g=null;c||(d=a.apply(h,e))},b);f&&(d=a.apply(h,e));return d}},throttle:function(a,b){var c,d,h,e;var f=0;var m=function(){f=new Date;h=null;e=a.apply(c,d)};return function(){var g=new Date,l=b-(g-f);c=this;d=arguments;0>=l?(clearTimeout(h),h=null,f=g,e=a.apply(c,d)):h||(h=setTimeout(m,l));return e}},stringify:function(a){return e.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),f=function(){function a(a){var b={};e.each(a,
function(a,c){b[c]="."+a});return b}function b(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};e.isMsie()&&e.mixin(a.input,
{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});return a}var c={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(g){g=e.mixin({},c,g);var d={css:b(),classes:g,html:{wrapper:'\x3cspan class\x3d"'+g.wrapper+'"\x3e\x3c/span\x3e',menu:'\x3cdiv class\x3d"'+
g.menu+'"\x3e\x3c/div\x3e'},selectors:a(g)};return{css:d.css,html:d.html,classes:d.classes,selectors:d.selectors,mixin:function(a){e.mixin(a,d)}}}}(),k=function(){function a(a){a&&a.el||b.error("EventBus initialized without el");this.$el=b(a.el)}var c={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};e.mixin(a.prototype,{_trigger:function(a,c){a=b.Event("typeahead:"+a);(c=c||[]).unshift(a);this.$el.trigger.apply(this.$el,c);return a},before:function(a){var b=
[].slice.call(arguments,1);return this._trigger("before"+a,b).isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1));(b=c[a])&&this._trigger(b,[].slice.call(arguments,1))}});return a}(),d=function(){function a(a,b,g,h){if(!g)return this;b=b.split(d);g=h?c(g,h):g;for(this._callbacks=this._callbacks||{};h=b.shift();)this._callbacks[h]=this._callbacks[h]||{sync:[],async:[]},this._callbacks[h][a].push(g);return this}function b(a,b,c){return function(){for(var g,d=
0,h=a.length;!g&&d<h;d+=1)g=!1===a[d].apply(b,c);return!g}}function c(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var d=/\s+/,h=function(){return window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}();return{onSync:function(b,c,g){return a.call(this,"sync",b,c,g)},onAsync:function(b,c,g){return a.call(this,"async",b,c,g)},off:function(a){var b;if(!this._callbacks)return this;for(a=a.split(d);b=a.shift();)delete this._callbacks[b];
return this},trigger:function(a){var c,g,e;if(!this._callbacks)return this;a=a.split(d);for(e=[].slice.call(arguments,1);(c=a.shift())&&(g=this._callbacks[c]);){var f=b(g.sync,this,[c].concat(e));var m=b(g.async,this,[c].concat(e));f()&&h(m)}return this}}}(),a=function(a){function b(a,b,c){for(var g=[],d=0,h=a.length;d<h;d++)g.push(e.escapeRegExChars(a[d]));a=c?"\\b("+g.join("|")+")\\b":"("+g.join("|")+")";return b?new RegExp(a):new RegExp(a,"i")}var c={node:null,pattern:null,tagName:"strong",className:null,
wordsOnly:!1,caseSensitive:!1};return function(g){function d(a,b){for(var c,g=0;g<a.childNodes.length;g++)c=a.childNodes[g],3===c.nodeType?g+=b(c)?1:0:d(c,b)}g=e.mixin({},c,g);if(g.node&&g.pattern){g.pattern=e.isArray(g.pattern)?g.pattern:[g.pattern];var h=b(g.pattern,g.caseSensitive,g.wordsOnly);d(g.node,function(b){var c;if(c=h.exec(b.data)){var d=a.createElement(g.tagName);g.className&&(d.className=g.className);var e=b.splitText(c.index);e.splitText(c[0].length);d.appendChild(e.cloneNode(!0));
b.parentNode.replaceChild(d,e)}return!!c})}}}(window.document),m=function(){function a(a,c){a=a||{};a.input||b.error("input is missing");c.mixin(this);this.$hint=b(a.hint);this.$input=b(a.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;a=this.$input;this.$overflowHelper=b('\x3cpre aria-hidden\x3d"true"\x3e\x3c/pre\x3e').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:a.css("font-family"),fontSize:a.css("font-size"),fontStyle:a.css("font-style"),
fontVariant:a.css("font-variant"),fontWeight:a.css("font-weight"),wordSpacing:a.css("word-spacing"),letterSpacing:a.css("letter-spacing"),textIndent:a.css("text-indent"),textRendering:a.css("text-rendering"),textTransform:a.css("text-transform")}).insertAfter(a);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}var c={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};a.normalizeQuery=function(a){return e.toStr(a).replace(/^\s*/g,
"").replace(/\s{2,}/g," ")};e.mixin(a.prototype,d,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(a){var b=c[a.which||a.keyCode];this._managePreventDefault(b,a);b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(a,b){switch(a){case "up":case "down":a=
!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:a=!1}a&&b.preventDefault()},_shouldTrigger:function(a,b){switch(a){case "tab":a=!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:a=!0}return a},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(b,c){var d=this.query;var g=(d=a.normalizeQuery(b)===a.normalizeQuery(d))?this.query.length!==
b.length:!1;this.query=b;c||d?!c&&g&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var a=this;var b=e.bind(this._onBlur,this);var d=e.bind(this._onFocus,this);var h=e.bind(this._onKeydown,this);var f=e.bind(this._onInput,this);this.$input.on("blur.tt",b).on("focus.tt",d).on("keydown.tt",h);if(!e.isMsie()||9<e.isMsie())this.$input.on("input.tt",f);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(b){c[b.which||b.keyCode]||
e.defer(e.bind(a._onInput,a,b))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a);this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a);this.clearHintIfInvalid();this._checkLanguageDirection()},
resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a=this.getInputValue();var b=this.getHint();b=a!==b&&0===b.indexOf(a);""!==a&&b&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=
a},isCursorAtEnd:function(){var a=this.$input.val().length;var b=this.$input[0].selectionStart;return e.isNumber(b)?b===a:document.selection?(b=document.selection.createRange(),b.moveStart("character",-a),a===b.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=b("\x3cdiv\x3e")}});return a}(),l=function(){function c(a,c){a=a||{};a.templates=a.templates||{};a.templates.notFound=a.templates.notFound||
a.templates.empty;a.source||b.error("missing source");a.node||b.error("missing node");a.name&&!/^[_a-zA-Z0-9-]+$/.test(a.name)&&b.error("invalid dataset name: "+a.name);c.mixin(this);this.highlight=!!a.highlight;this.name=a.name||f();this.limit=a.limit||5;this.displayFn=h(a.display||a.displayKey);this.templates=g(a.templates,this.displayFn);this.source=a.source.__ttAdapter?a.source.__ttAdapter():a.source;this.async=e.isUndefined(a.async)?2<this.source.length:!!a.async;this._resetLastSuggestion();
this.$el=b(a.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function h(a){function b(b){return b[a]}a=a||e.stringify;return e.isFunction(a)?a:b}function g(a,c){function d(a){return b("\x3cdiv\x3e").text(c(a))}return{notFound:a.notFound&&e.templatify(a.notFound),pending:a.pending&&e.templatify(a.pending),header:a.header&&e.templatify(a.header),footer:a.footer&&e.templatify(a.footer),suggestion:a.suggestion||d}}var f=e.getIdGenerator();c.extractData=function(a){a=
b(a);return a.data("tt-selectable-object")?{val:a.data("tt-selectable-display")||"",obj:a.data("tt-selectable-object")||null}:null};e.mixin(c.prototype,d,{_overwrite:function(a,b){b=b||[];b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty();this.trigger("rendered",this.name,b,!1)},_append:function(a,b){b=b||[];b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?
this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a);this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c=this._getSuggestionsFragment(a,b);this.$lastSuggestion=c.children().last();this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){a=this._getSuggestionsFragment(a,b);b=a.children().last();this.$lastSuggestion.after(a);this.$lastSuggestion=b},_renderPending:function(a){var b=
this.templates.pending;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(c,d){var g=this;var h=document.createDocumentFragment();e.each(d,function(a){var d=g._injectQuery(c,a);a=b(g.templates.suggestion(d)).data("tt-selectable-object",a).data("tt-selectable-display",
g.displayFn(a)).addClass(g.classes.suggestion+" "+g.classes.selectable);h.appendChild(a[0])});this.highlight&&a({className:this.classes.highlight,node:h,pattern:c});return b(h)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=b()},_injectQuery:function(a,
b){return e.isObject(b)?e.mixin({_query:a},b):b},update:function(a){function c(b){h||(h=!0,b=(b||[]).slice(0,d.limit),e=b.length,d._overwrite(a,b),e<d.limit&&d.async&&d.trigger("asyncRequested",a))}var d=this,g=!1,h=!1,e=0;this.cancel();this.cancel=function(){g=!0;d.cancel=b.noop;d.async&&d.trigger("asyncCanceled",a)};this.source(a,c,function(c){c=c||[];!g&&e<d.limit&&(d.cancel=b.noop,e+=c.length,d._append(a,c.slice(0,d.limit-e)),d.async&&d.trigger("asyncReceived",a))});!h&&c([])},cancel:b.noop,clear:function(){this._empty();
this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=b("\x3cdiv\x3e")}});return c}(),h=function(){function a(a,c){var d=this;a=a||{};a.node||b.error("node is required");c.mixin(this);this.$node=b(a.node);this.query=null;this.datasets=e.map(a.datasets,function(a){var g=d.$node.find(a.node).first();a.node=g.length?g:b("\x3cdiv\x3e").appendTo(d.$node);return new l(a,c)})}e.mixin(a.prototype,d,{_onSelectableClick:function(a){this.trigger("selectableClicked",
b(a.currentTarget))},_onRendered:function(a,b,c,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",b,c,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(a){return a.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},
_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b=a.position().top;a=b+a.outerHeight(!0);var c=this.$node.scrollTop();var d=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>b?this.$node.scrollTop(c+b):d<a&&this.$node.scrollTop(c+(a-d))},bind:function(){var a=this;var b=e.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,b);
e.each(this.datasets,function(b){b.onSync("asyncRequested",a._propagate,a).onSync("asyncCanceled",a._propagate,a).onSync("asyncReceived",a._propagate,a).onSync("rendered",a._onRendered,a).onSync("cleared",a._onCleared,a)});return this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b=
this.getActiveSelectable();var c=this._getSelectables();a=((b?c.index(b):-1)+a+1)%(c.length+1)-1;a=-1>a?c.length-1:a;return-1===a?null:c.eq(a)},setCursor:function(a){this._removeCursor();if(a=a&&a.first())a.addClass(this.classes.cursor),this._ensureVisible(a)},getSelectableData:function(a){return a&&a.length?l.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();
return a.length?a:null},update:function(a){function b(b){b.update(a)}var c=a!==this.query;c&&(this.query=a,e.each(this.datasets,b));return c},empty:function(){e.each(this.datasets,function(a){a.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=b("\x3cdiv\x3e");e.each(this.datasets,function(a){a.destroy()})}});return a}(),c=function(){function a(){h.apply(this,[].slice.call(arguments,0))}var b=h.prototype;e.mixin(a.prototype,h.prototype,
{open:function(){!this._allDatasetsEmpty()&&this._show();return b.open.apply(this,[].slice.call(arguments,0))},close:function(){this._hide();return b.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return b._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return b._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){this.$node.css("ltr"===
a?this.css.ltr:this.css.rtl);return b.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}});return a}(),p=function(){function a(a,d){a=a||{};a.input||b.error("missing input");a.menu||b.error("missing menu");a.eventBus||b.error("missing event bus");d.mixin(this);this.eventBus=a.eventBus;this.minLength=e.isNumber(a.minLength)?a.minLength:1;this.input=a.input;this.menu=a.menu;this.enabled=!0;this.active=
!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);a=c(this,"activate","open","_onFocused");d=c(this,"deactivate","_onBlurred");
var g=c(this,"isActive","isOpen","_onEnterKeyed");var h=c(this,"isActive","isOpen","_onTabKeyed");var f=c(this,"isActive","_onEscKeyed");var m=c(this,"isActive","open","_onUpKeyed");var l=c(this,"isActive","open","_onDownKeyed");var k=c(this,"isActive","isOpen","_onLeftKeyed");var p=c(this,"isActive","isOpen","_onRightKeyed");var q=c(this,"_openIfActive","_onQueryChanged");var u=c(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",a,this).onSync("blurred",d,this).onSync("enterKeyed",
g,this).onSync("tabKeyed",h,this).onSync("escKeyed",f,this).onSync("upKeyed",m,this).onSync("downKeyed",l,this).onSync("leftKeyed",k,this).onSync("rightKeyed",p,this).onSync("queryChanged",q,this).onSync("whitespaceChanged",u,this).onSync("langDirChanged",this._onLangDirChanged,this)}function c(a){var b=[].slice.call(arguments,1);return function(){var c=[].slice.call(arguments);e.each(b,function(b){return a[b].apply(a,c)})}}e.mixin(a.prototype,{_hacks:function(){var a=this.input.$input||b("\x3cdiv\x3e");
var c=this.menu.$node||b("\x3cdiv\x3e");a.on("blur.tt",function(b){var d=document.activeElement;var g=c.is(d);d=0<c.has(d).length;e.isMsie()&&(g||d)&&(b.preventDefault(),b.stopImmediatePropagation(),e.defer(function(){a.focus()}))});c.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,d){this._updateHint();this.eventBus.trigger("render",c,d,b)},_onAsyncRequested:function(a,
b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},
_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},
_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){a=e.isString(a)?a:this.input.getQuery()||"";return a.length>=this.minLength},_updateHint:function(){var a=this.menu.getTopSelectable();var b=this.menu.getSelectableData(a);a=this.input.getInputValue();
if(!b||e.isBlankString(a)||this.input.hasOverflow())this.input.clearHint();else{var c=m.normalizeQuery(a);c=e.escapeRegExChars(c);c=new RegExp("^(?:"+c+")(.+$)","i");(b=c.exec(b.val))&&this.input.setHint(a+b[1])}},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){if(this.isActive())return!0;if(!this.isEnabled()||this.eventBus.before("active"))return!1;this.active=!0;this.eventBus.trigger("active");
return!0},deactivate:function(){if(this.isActive()){if(this.eventBus.before("idle"))return!1;this.active=!1;this.close();this.eventBus.trigger("idle")}return!0},isOpen:function(){return this.menu.isOpen()},open:function(){this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open"));return this.isOpen()},close:function(){this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close"));
return!this.isOpen()},setVal:function(a){this.input.setQuery(e.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){return(a=this.menu.getSelectableData(a))&&!this.eventBus.before("select",a.obj)?(this.input.setQuery(a.val,!0),this.eventBus.trigger("select",a.obj),this.close(),!0):!1},autocomplete:function(a){var b=this.input.getQuery();return(a=this.menu.getSelectableData(a))&&b!==a.val&&!this.eventBus.before("autocomplete",a.obj)?(this.input.setQuery(a.val),this.eventBus.trigger("autocomplete",
a.obj),!0):!1},moveCursor:function(a){var b;var c=this.input.getQuery();a=this.menu.selectableRelativeToCursor(a);var d=(b=this.menu.getSelectableData(a))?b.obj:null;return this._minLengthMet()&&this.menu.update(c)||this.eventBus.before("cursorchange",d)?!1:(this.menu.setCursor(a),b?this.input.setInputValue(b.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",d),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}});return a}();(function(){function a(a,
c){a.each(function(){var a=b(this),d;(d=a.data(z.typeahead))&&c(d,a)})}function d(a,b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function g(a,b){a.data(z.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")});a.addClass(b.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&
a.attr("dir","auto")}catch(G){}return a}function l(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function F(a){var b=a.data(z.www);var c=a.parent().filter(b.selectors.wrapper);e.each(a.data(z.attrs),
function(b,c){e.isUndefined(b)?a.removeAttr(c):a.attr(c,b)});a.removeData(z.typeahead).removeData(z.www).removeData(z.attr).removeClass(b.classes.input);c.length&&(a.detach().insertAfter(c),c.remove())}function C(a){a=e.isJQuery(a)||e.isElement(a)?b(a).first():[];return a.length?a:null}var H=b.fn.typeahead;var z={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};var t={initialize:function(a,l){l=e.isArray(l)?l:[].slice.call(arguments,1);a=a||{};var q=f(a.classNames);return this.each(function(){e.each(l,
function(b){b.highlight=!!a.highlight});var f=b(this);var u=b(q.html.wrapper);var A=C(a.hint);var F=C(a.menu);var t=!1!==a.hint&&!A;var H=!1!==a.menu&&!F;t&&(A=d(f,q));H&&(F=b(q.html.menu).css(q.css.menu));A&&A.val("");f=g(f,q);if(t||H)u.css(q.css.wrapper),f.css(t?q.css.input:q.css.inputWithNoHint),f.wrap(u).parent().prepend(t?A:null).append(H?F:null);t=H?c:h;u=new k({el:f});A=new m({hint:A,input:f},q);F=new t({node:F,datasets:l},q);F=new p({input:A,menu:F,eventBus:u,minLength:a.minLength},q);f.data(z.www,
q);f.data(z.typeahead,F)})},isEnabled:function(){var b;a(this.first(),function(a){b=a.isEnabled()});return b},enable:function(){a(this,function(a){a.enable()});return this},disable:function(){a(this,function(a){a.disable()});return this},isActive:function(){var b;a(this.first(),function(a){b=a.isActive()});return b},activate:function(){a(this,function(a){a.activate()});return this},deactivate:function(){a(this,function(a){a.deactivate()});return this},isOpen:function(){var b;a(this.first(),function(a){b=
a.isOpen()});return b},open:function(){a(this,function(a){a.open()});return this},close:function(){a(this,function(a){a.close()});return this},select:function(c){var d=!1,g=b(c);a(this.first(),function(a){d=a.select(g)});return d},autocomplete:function(c){var d=!1,g=b(c);a(this.first(),function(a){d=a.autocomplete(g)});return d},moveCursor:function(b){var c=!1;a(this.first(),function(a){c=a.moveCursor(b)});return c},val:function(b){var c;if(arguments.length)return a(this,function(a){a.setVal(b)}),
this;a(this.first(),function(a){c=a.getVal()});return c},destroy:function(){a(this,function(a,b){F(b);a.destroy()});return this}};b.fn.typeahead=function(a){return t[a]?t[a].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)};b.fn.typeahead.noConflict=function(){b.fn.typeahead=H;return this}})()});
var CryptoJS=CryptoJS||function(b,e){var f={},k=f.lib={},d=function(){},a=k.Base={extend:function(a){d.prototype=this;var b=new d;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
m=k.WordArray=a.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=e?b:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var g=0;g<a;g++)b[d+g>>>2]|=(c[g>>>2]>>>24-g%4*8&255)<<24-(d+g)%4*8;else if(65535<c.length)for(g=0;g<a;g+=4)b[d+g>>>2]=c[g>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-
c%4*8;a.length=b.ceil(c/4)},clone:function(){var b=a.clone.call(this);b.words=this.words.slice(0);return b},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*b.random()|0);return new m.init(c,a)}}),l=f.enc={},h=l.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var g=b[d>>>2]>>>24-d%4*8&255;c.push((g>>>4).toString(16));c.push((g&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new m.init(c,b/2)}},c=l.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new m.init(c,b)}},p=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(c.stringify(a)))}catch(A){throw Error("Malformed UTF-8 data");}},parse:function(a){return c.parse(unescape(encodeURIComponent(a)))}},
u=k.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new m.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=p.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,g=c.sigBytes,h=this.blockSize,e=g/(4*h);e=a?b.ceil(e):b.max((e|0)-this._minBufferSize,0);a=e*h;g=b.min(4*a,g);if(a){for(var f=0;f<a;f+=h)this._doProcessBlock(d,f);f=d.splice(0,a);c.sigBytes-=g}return new m.init(f,g)},clone:function(){var b=a.clone.call(this);
b._data=this._data.clone();return b},_minBufferSize:0});k.Hasher=u.extend({cfg:a.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new q.HMAC.init(a,
c)).finalize(b)}}});var q=f.algo={};return f}(Math);
(function(b){function e(a,b,c,d,h,e,f){a=a+(b&c|~b&d)+h+f;return(a<<e|a>>>32-e)+b}function f(a,b,c,d,h,e,f){a=a+(b&d|c&~d)+h+f;return(a<<e|a>>>32-e)+b}function k(a,b,c,d,h,e,f){a=a+(b^c^d)+h+f;return(a<<e|a>>>32-e)+b}function d(a,b,c,d,h,e,f){a=a+(c^(b|~d))+h+f;return(a<<e|a>>>32-e)+b}var a=CryptoJS,m=a.lib,l=m.WordArray,h=m.Hasher;m=a.algo;for(var c=[],p=0;64>p;p++)c[p]=4294967296*b.abs(b.sin(p+1))|0;m=m.MD5=h.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,b){for(var g=0;16>g;g++){var h=b+g,m=a[h];a[h]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}g=this._hash.words;h=a[b+0];m=a[b+1];var l=a[b+2],p=a[b+3],u=a[b+4],q=a[b+5],I=a[b+6],E=a[b+7],G=a[b+8],J=a[b+9],K=a[b+10],v=a[b+11],N=a[b+12],y=a[b+13],D=a[b+14];a=a[b+15];b=g[0];var w=g[1],x=g[2],B=g[3];b=e(b,w,x,B,h,7,c[0]);B=e(B,b,w,x,m,12,c[1]);x=e(x,B,b,w,l,17,c[2]);w=e(w,x,B,b,p,22,c[3]);b=e(b,w,x,B,u,7,c[4]);B=e(B,b,w,x,q,12,c[5]);x=e(x,B,b,w,I,17,c[6]);w=e(w,x,B,b,E,22,
c[7]);b=e(b,w,x,B,G,7,c[8]);B=e(B,b,w,x,J,12,c[9]);x=e(x,B,b,w,K,17,c[10]);w=e(w,x,B,b,v,22,c[11]);b=e(b,w,x,B,N,7,c[12]);B=e(B,b,w,x,y,12,c[13]);x=e(x,B,b,w,D,17,c[14]);w=e(w,x,B,b,a,22,c[15]);b=f(b,w,x,B,m,5,c[16]);B=f(B,b,w,x,I,9,c[17]);x=f(x,B,b,w,v,14,c[18]);w=f(w,x,B,b,h,20,c[19]);b=f(b,w,x,B,q,5,c[20]);B=f(B,b,w,x,K,9,c[21]);x=f(x,B,b,w,a,14,c[22]);w=f(w,x,B,b,u,20,c[23]);b=f(b,w,x,B,J,5,c[24]);B=f(B,b,w,x,D,9,c[25]);x=f(x,B,b,w,p,14,c[26]);w=f(w,x,B,b,G,20,c[27]);b=f(b,w,x,B,y,5,c[28]);B=
f(B,b,w,x,l,9,c[29]);x=f(x,B,b,w,E,14,c[30]);w=f(w,x,B,b,N,20,c[31]);b=k(b,w,x,B,q,4,c[32]);B=k(B,b,w,x,G,11,c[33]);x=k(x,B,b,w,v,16,c[34]);w=k(w,x,B,b,D,23,c[35]);b=k(b,w,x,B,m,4,c[36]);B=k(B,b,w,x,u,11,c[37]);x=k(x,B,b,w,E,16,c[38]);w=k(w,x,B,b,K,23,c[39]);b=k(b,w,x,B,y,4,c[40]);B=k(B,b,w,x,h,11,c[41]);x=k(x,B,b,w,p,16,c[42]);w=k(w,x,B,b,I,23,c[43]);b=k(b,w,x,B,J,4,c[44]);B=k(B,b,w,x,N,11,c[45]);x=k(x,B,b,w,a,16,c[46]);w=k(w,x,B,b,l,23,c[47]);b=d(b,w,x,B,h,6,c[48]);B=d(B,b,w,x,E,10,c[49]);x=d(x,
B,b,w,D,15,c[50]);w=d(w,x,B,b,q,21,c[51]);b=d(b,w,x,B,N,6,c[52]);B=d(B,b,w,x,p,10,c[53]);x=d(x,B,b,w,K,15,c[54]);w=d(w,x,B,b,m,21,c[55]);b=d(b,w,x,B,G,6,c[56]);B=d(B,b,w,x,a,10,c[57]);x=d(x,B,b,w,I,15,c[58]);w=d(w,x,B,b,y,21,c[59]);b=d(b,w,x,B,u,6,c[60]);B=d(B,b,w,x,v,10,c[61]);x=d(x,B,b,w,l,15,c[62]);w=d(w,x,B,b,J,21,c[63]);g[0]=g[0]+b|0;g[1]=g[1]+w|0;g[2]=g[2]+x|0;g[3]=g[3]+B|0},_doFinalize:function(){var a=this._data,c=a.words,d=8*this._nDataBytes,h=8*a.sigBytes;c[h>>>5]|=128<<24-h%32;var e=b.floor(d/
4294967296);c[(h+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;c[(h+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;a.sigBytes=4*(c.length+1);this._process();a=this._hash;c=a.words;for(d=0;4>d;d++)h=c[d],c[d]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;return a},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a}});a.MD5=h._createHelper(m);a.HmacMD5=h._createHmacHelper(m)})(Math);
!function(b,e,f){"undefined"!=typeof module&&module.exports?module.exports=f():"function"==typeof define&&define.amd?define(e,f):b[e]=f()}(this,"bowser",function(){function b(a){function b(b){return(b=a.match(b))&&1<b.length&&b[1]||""}function d(b){return(b=a.match(b))&&1<b.length&&b[2]||""}function h(a){switch(a){case "NT":return"NT";case "XP":return"XP";case "NT 5.0":return"2000";case "NT 5.1":return"XP";case "NT 5.2":return"2003";case "NT 6.0":return"Vista";case "NT 6.1":return"7";case "NT 6.2":return"8";
case "NT 6.3":return"8.1";case "NT 10.0":return"10"}}var c=b(/(ipod|iphone|ipad)/i).toLowerCase(),e=!/like android/i.test(a)&&/android/i.test(a),f=/nexus\s*[0-6]\s*/i.test(a),k=!f&&/nexus\s*[0-9]+/i.test(a),g=/CrOS/.test(a),A=/silk/i.test(a),F=/sailfish/i.test(a),C=/tizen/i.test(a),H=/(web|hpw)os/i.test(a),z=/windows phone/i.test(a);/SamsungBrowser/i.test(a);var t=!z&&/windows/i.test(a),I=!c&&!A&&/macintosh/i.test(a),E=!e&&!F&&!C&&!H&&/linux/i.test(a),G=b(/edge\/(\d+(\.\d+)?)/i),J=b(/version\/(\d+(\.\d+)?)/i),
K=/tablet/i.test(a)&&!/tablet pc/i.test(a),v=!K&&/[^-]mobi/i.test(a),N=/xbox/i.test(a);/opera/i.test(a)?g={name:"Opera",opera:!0,version:J||b(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(a)?g={name:"Opera",opera:!0,version:b(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||J}:/SamsungBrowser/i.test(a)?g={name:"Samsung Internet for Android",samsungBrowser:!0,version:J||b(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(a)?g={name:"Opera Coast",coast:!0,version:J||b(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:
/yabrowser/i.test(a)?g={name:"Yandex Browser",yandexbrowser:!0,version:J||b(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(a)?g={name:"UC Browser",ucbrowser:!0,version:b(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(a)?g={name:"Maxthon",maxthon:!0,version:b(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(a)?g={name:"Epiphany",epiphany:!0,version:b(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(a)?g={name:"Puffin",puffin:!0,version:b(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:
/sleipnir/i.test(a)?g={name:"Sleipnir",sleipnir:!0,version:b(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(a)?g={name:"K-Meleon",kMeleon:!0,version:b(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:z?(g={name:"Windows Phone",windowsphone:!0},G?(g.msedge=!0,g.version=G):(g.msie=!0,g.version=b(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(a)?g={name:"Internet Explorer",msie:!0,version:b(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:g?g={name:"Chrome",chromeos:!0,chromeBook:!0,chrome:!0,version:b(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:
/chrome.+? edge/i.test(a)?g={name:"Microsoft Edge",msedge:!0,version:G}:/vivaldi/i.test(a)?g={name:"Vivaldi",vivaldi:!0,version:b(/vivaldi\/(\d+(\.\d+)?)/i)||J}:F?g={name:"Sailfish",sailfish:!0,version:b(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?g={name:"SeaMonkey",seamonkey:!0,version:b(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(a)?(g={name:"Firefox",firefox:!0,version:b(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&
(g.firefoxos=!0)):A?g={name:"Amazon Silk",silk:!0,version:b(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(a)?g={name:"PhantomJS",phantom:!0,version:b(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(a)?g={name:"SlimerJS",slimer:!0,version:b(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?g={name:"BlackBerry",blackberry:!0,version:J||b(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:H?(g={name:"WebOS",webos:!0,version:J||b(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&
(g.touchpad=!0)):/bada/i.test(a)?g={name:"Bada",bada:!0,version:b(/dolfin\/(\d+(\.\d+)?)/i)}:C?g={name:"Tizen",tizen:!0,version:b(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||J}:/qupzilla/i.test(a)?g={name:"QupZilla",qupzilla:!0,version:b(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||J}:/chromium/i.test(a)?g={name:"Chromium",chromium:!0,version:b(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||J}:/chrome|crios|crmo/i.test(a)?g={name:"Chrome",chrome:!0,version:b(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?g={name:"Android",
version:J}:/safari|applewebkit/i.test(a)?(g={name:"Safari",safari:!0},J&&(g.version=J)):c?(g={name:"iphone"==c?"iPhone":"ipad"==c?"iPad":"iPod"},J&&(g.version=J)):g=/googlebot/i.test(a)?{name:"Googlebot",googlebot:!0,version:b(/googlebot\/(\d+(\.\d+))/i)||J}:{name:b(/^(.*)\/(.*) /),version:d(/^(.*)\/(.*) /)};!g.msedge&&/(apple)?webkit/i.test(a)?(/(apple)?webkit\/537\.36/i.test(a)?(g.name=g.name||"Blink",g.blink=!0):(g.name=g.name||"Webkit",g.webkit=!0),!g.version&&J&&(g.version=J)):!g.opera&&/gecko\//i.test(a)&&
(g.name=g.name||"Gecko",g.gecko=!0,g.version=g.version||b(/gecko\/(\d+(\.\d+)?)/i));g.windowsphone||g.msedge||!e&&!g.silk?g.windowsphone||g.msedge||!c?I?g.mac=!0:N?g.xbox=!0:t?g.windows=!0:E&&(g.linux=!0):(g[c]=!0,g.ios=!0):g.android=!0;t="";g.windows?t=h(b(/Windows ((NT|XP)( \d\d?.\d)?)/i)):g.windowsphone?t=b(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):g.mac?(t=b(/Mac OS X (\d+([_\.\s]\d+)*)/i),t=t.replace(/[_\s]/g,".")):c?(t=b(/os (\d+([_\s]\d+)*) like mac os x/i),t=t.replace(/[_\s]/g,".")):e?t=b(/android[ \/-](\d+(\.\d+)*)/i):
g.webos?t=b(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):g.blackberry?t=b(/rim\stablet\sos\s(\d+(\.\d+)*)/i):g.bada?t=b(/bada\/(\d+(\.\d+)*)/i):g.tizen&&(t=b(/tizen[\/\s](\d+(\.\d+)*)/i));t&&(g.osversion=t);t=!g.windows&&t.split(".")[0];if(K||k||"ipad"==c||e&&(3==t||4<=t&&!v)||g.silk)g.tablet=!0;else if(v||"iphone"==c||"ipod"==c||e||f||g.blackberry||g.webos||g.bada)g.mobile=!0;g.msedge||g.msie&&10<=g.version||g.yandexbrowser&&15<=g.version||g.vivaldi&&1<=g.version||g.chrome&&20<=g.version||g.samsungBrowser&&
4<=g.version||g.firefox&&20<=g.version||g.safari&&6<=g.version||g.opera&&10<=g.version||g.ios&&g.osversion&&6<=g.osversion.split(".")[0]||g.blackberry&&10.1<=g.version||g.chromium&&20<=g.version?g.a=!0:g.msie&&10>g.version||g.chrome&&20>g.version||g.firefox&&20>g.version||g.safari&&6>g.version||g.opera&&10>g.version||g.ios&&g.osversion&&6>g.osversion.split(".")[0]||g.chromium&&20>g.version?g.c=!0:g.x=!0;return g}function e(a,b){var d=[],h;if(Array.prototype.map)return Array.prototype.map.call(a,b);
for(h=0;h<a.length;h++)d.push(b(a[h]));return d}function f(a){var b=Math.max(a[0].split(".").length,a[1].split(".").length);for(a=e(a,function(a){var d=b-a.split(".").length;a+=Array(d+1).join(".0");return e(a.split("."),function(a){return Array(20-a.length).join("0")+a}).reverse()});0<=--b;){if(a[0][b]>a[1][b])return 1;if(a[0][b]===a[1][b]){if(0===b)return 0}else return-1}}function k(a,e,l){var h=d;"string"===typeof e&&(l=e,e=void 0);void 0===e&&(e=!1);l&&(h=b(l));l=""+h.version;for(var c in a)if(a.hasOwnProperty(c)&&
h[c]){if("string"!==typeof a[c])throw Error("Browser version in the minVersion map should be a string: "+c+": "+String(a));return 0>f([l,a[c]])}return e}var d=b("undefined"!==typeof navigator?navigator.userAgent||"":"");d.test=function(a){for(var b=0;b<a.length;++b){var e=a[b];if("string"===typeof e&&e in d)return!0}return!1};d.isUnsupportedBrowser=k;d.compareVersions=f;d.check=function(a,b,d){return!k(a,b,d)};d._detect=b;return d});
(function(b,e,f){function k(a,c){this.wrapper="string"==typeof a?e.querySelector(a):a;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!l.hasPointer,disableTouch:l.hasPointer||!l.hasTouch,disableMouse:l.hasPointer||l.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},
HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"===typeof b.onmousedown};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"";this.options.useTransition=l.hasTransition&&this.options.useTransition;this.options.useTransform=l.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&
this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:
this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative");"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=
this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function d(a,b,d){var c=e.createElement("div"),h=e.createElement("div");!0===d&&(c.style.cssText="position:absolute;z-index:9999",h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px");h.className="iScrollIndicator";"h"==a?(!0===d&&(c.style.cssText+=
";height:7px;left:2px;right:2px;bottom:0",h.style.height="100%"),c.className="iScrollHorizontalScrollbar"):(!0===d&&(c.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",h.style.width="100%"),c.className="iScrollVerticalScrollbar");c.style.cssText+=";overflow:hidden";b||(c.style.pointerEvents="none");c.appendChild(h);return c}function a(a,c){this.wrapper="string"==typeof c.el?e.querySelector(c.el):c.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=
this.indicator.style;this.scroller=a;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var d in c)this.options[d]=c[d];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(b,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(b,
l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(b,"mouseup",this)));if(this.options.fade){this.wrapperStyle[l.style.transform]=this.scroller.translateZ;var h=l.style.transitionDuration;if(h){this.wrapperStyle[h]=l.isBadAndroid?"0.0001ms":"0ms";var f=this;l.isBadAndroid&&m(function(){"0.0001ms"===f.wrapperStyle[h]&&(f.wrapperStyle[h]="0s")});this.wrapperStyle.opacity="0"}}}var m=b.requestAnimationFrame||b.webkitRequestAnimationFrame||
b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1E3/60)},l=function(){function a(a){return!1===m?!1:""===m?a:m+a.charAt(0).toUpperCase()+a.substr(1)}var c={},d=e.createElement("div").style,m=function(){for(var a=["t","webkitT","MozT","msT","OT"],b,c=0,h=a.length;c<h;c++)if(b=a[c]+"ransform",b in d)return a[c].substr(0,a[c].length-1);return!1}();c.getTime=Date.now||function(){return(new Date).getTime()};c.extend=function(a,b){for(var c in b)a[c]=
b[c]};c.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)};c.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)};c.prefixPointerEvent=function(a){return b.MSPointerEvent?"MSPointer"+a.charAt(7).toUpperCase()+a.substr(8):a};c.momentum=function(a,b,c,d,h,e){b=a-b;c=f.abs(b)/c;e=void 0===e?6E-4:e;var g=a+c*c/(2*e)*(0>b?-1:1);e=c/e;g<d?(g=h?d-h/2.5*(c/8):d,b=f.abs(g-a),e=b/c):0<g&&(g=h?h/2.5*(c/8):0,b=f.abs(a)+g,e=b/c);return{destination:f.round(g),duration:e}};var l=a("transform");c.extend(c,
{hasTransform:!1!==l,hasPerspective:a("perspective")in d,hasTouch:"ontouchstart"in b,hasPointer:!(!b.PointerEvent&&!b.MSPointerEvent),hasTransition:a("transition")in d});c.isBadAndroid=function(){var a=b.navigator.appVersion;return/Android/.test(a)&&!/Chrome\/\d/.test(a)?(a=a.match(/Safari\/(\d+.\d)/))&&"object"===typeof a&&2<=a.length?535.19>parseFloat(a[1]):!0:!1}();c.extend(c.style={},{transform:l,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),
transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin"),touchAction:a("touchAction")});c.hasClass=function(a,b){return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)};c.addClass=function(a,b){if(!c.hasClass(a,b)){var d=a.className.split(" ");d.push(b);a.className=d.join(" ")}};c.removeClass=function(a,b){c.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)","g")," "))};c.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=
a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}};c.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1};c.extend(c.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});c.extend(c.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return f.sqrt(1-
--a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return--a*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:.4*f.pow(2,-10*a)*f.sin(2*(a-.055)*f.PI/.22)+1}}});c.tap=function(a,b){var c=e.createEvent("Event");c.initEvent(b,!0,!0);c.pageX=a.pageX;c.pageY=a.pageY;a.target.dispatchEvent(c)};
c.click=function(a){var c=a.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)){var d=e.createEvent(b.MouseEvent?"MouseEvents":"Event");d.initEvent("click",!0,!0);d.view=a.view||b;d.detail=1;d.screenX=c.screenX||0;d.screenY=c.screenY||0;d.clientX=c.clientX||0;d.clientY=c.clientY||0;d.ctrlKey=!!a.ctrlKey;d.altKey=!!a.altKey;d.shiftKey=!!a.shiftKey;d.metaKey=!!a.metaKey;d.button=0;d.relatedTarget=null;d._constructed=!0;c.dispatchEvent(d)}};c.getTouchAction=function(a,b){var c="none";"vertical"===
a?c="pan-y":"horizontal"===a&&(c="pan-x");b&&"none"!=c&&(c+=" pinch-zoom");return c};c.getRect=function(a){return a instanceof SVGElement?(a=a.getBoundingClientRect(),{top:a.top,left:a.left,width:a.width,height:a.height}):{top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}};return c}();k.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();
this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);clearTimeout(this.resizeTimeout);this.resizeTimeout=null;this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=l.eventType[a.type]&&0!==(a.which?a.button:2>a.button?0:4==a.button?1:2)||
!this.enabled||this.initiated&&l.eventType[a.type]!==this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b=a.touches?a.touches[0]:a;this.initiated=l.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this.startTime=l.getTime();this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,a=this.getComputedPosition(),
this._translate(f.round(a.x),f.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&l.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,
h=b.pageY-this.pointY,e=l.getTime();this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=d;this.distY+=h;b=f.abs(this.distX);var g=f.abs(this.distY);if(!(300<e-this.endTime&&10>b&&10>g)){this.directionLocked||this.options.freeScroll||(this.directionLocked=b>g+this.options.directionLockThreshold?"h":g>=b+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=
!1;return}h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}d=0}d=this.hasHorizontalScroll?d:0;h=this.hasVerticalScroll?h:0;a=this.x+d;b=this.y+h;if(0<a||a<this.maxScrollX)a=this.options.bounce?this.x+d/3:0<a?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=this.options.bounce?this.y+h/3:0<b?0:this.maxScrollY;this.directionX=0<d?-1:0>d?1:0;this.directionY=0<h?-1:0>h?1:0;
this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,b);300<e-this.startTime&&(this.startTime=e,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&l.eventType[a.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=l.getTime()-this.startTime;var d=f.round(this.x),h=f.round(this.y),e=f.abs(d-this.startX),g=f.abs(h-this.startY);var m=0;var k="";this.initiated=
this.isInTransition=0;this.endTime=l.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(d,h),this.moved)if(this._events.flick&&200>b&&100>e&&100>g)this._execEvent("flick");else if(this.options.momentum&&300>b&&(m=this.hasHorizontalScroll?l.momentum(this.x,this.startX,b,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:d,duration:0},b=this.hasVerticalScroll?l.momentum(this.y,this.startY,b,this.maxScrollY,this.options.bounce?this.wrapperHeight:
0,this.options.deceleration):{destination:h,duration:0},d=m.destination,h=b.destination,m=f.max(m.duration,b.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=k=this._nearestSnap(d,h),m=this.options.snapSpeed||f.max(f.max(f.min(f.abs(d-k.x),1E3),f.min(f.abs(h-k.y),1E3)),300),d=k.x,h=k.y,this.directionY=this.directionX=0,k=this.options.bounceEasing),d!=this.x||h!=this.y){if(0<d||d<this.maxScrollX||0<h||h<this.maxScrollY)k=l.ease.quadratic;this.scrollTo(d,h,m,k)}else this._execEvent("scrollEnd");
else this.options.tap&&l.tap(a,this.options.tap),this.options.click&&l.click(a),this._execEvent("scrollCancel")}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,d=this.y;!this.hasHorizontalScroll||0<this.x?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX);!this.hasVerticalScroll||0<this.y?d=0:this.y<this.maxScrollY&&(d=this.maxScrollY);if(b==this.x&&d==this.y)return!1;
this.scrollTo(b,d,a||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){l.getRect(this.wrapper);this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;var a=l.getRect(this.scroller);this.scrollerWidth=a.width;this.scrollerHeight=a.height;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&
0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;l.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[l.style.touchAction]=l.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[l.style.touchAction]||(this.wrapper.style[l.style.touchAction]=
l.getTouchAction(this.options.eventPassthrough,!1)));this.wrapperOffset=l.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},off:function(a,b){this._events[a]&&(b=this._events[a].indexOf(b),-1<b&&this._events[a].splice(b,1))},_execEvent:function(a){if(this._events[a]){var b=0,d=this._events[a].length;if(d)for(;b<d;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,
d,e){a=this.x+a;b=this.y+b;this.scrollTo(a,b,d||0,e)},scrollTo:function(a,b,d,e){e=e||l.ease.circular;this.isInTransition=this.options.useTransition&&0<d;var c=this.options.useTransition&&e.style;!d||c?(c&&(this._transitionTimingFunction(e.style),this._transitionTime(d)),this._translate(a,b)):this._animate(a,b,d,e.fn)},scrollToElement:function(a,b,d,e,m){if(a=a.nodeType?a:this.scroller.querySelector(a)){var c=l.offset(a);c.left-=this.wrapperOffset.left;c.top-=this.wrapperOffset.top;a=l.getRect(a);
var h=l.getRect(this.wrapper);!0===d&&(d=f.round(a.width/2-h.width/2));!0===e&&(e=f.round(a.height/2-h.height/2));c.left-=d||0;c.top-=e||0;c.left=0<c.left?0:c.left<this.maxScrollX?this.maxScrollX:c.left;c.top=0<c.top?0:c.top<this.maxScrollY?this.maxScrollY:c.top;b=void 0===b||null===b||"auto"===b?f.max(f.abs(this.x-c.left),f.abs(this.y-c.top)):b;this.scrollTo(c.left,c.top,b,m)}},_transitionTime:function(a){if(this.options.useTransition){a=a||0;var b=l.style.transitionDuration;if(b){this.scrollerStyle[b]=
a+"ms";if(!a&&l.isBadAndroid){this.scrollerStyle[b]="0.0001ms";var d=this;m(function(){"0.0001ms"===d.scrollerStyle[b]&&(d.scrollerStyle[b]="0s")})}if(this.indicators)for(var h=this.indicators.length;h--;)this.indicators[h].transitionTime(a)}}},_transitionTimingFunction:function(a){this.scrollerStyle[l.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[l.style.transform]=
"translate("+a+"px,"+b+"px)"+this.translateZ:(a=f.round(a),b=f.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px");this.x=a;this.y=b;if(this.indicators)for(a=this.indicators.length;a--;)this.indicators[a].updatePosition()},_initEvents:function(a){a=a?l.removeEvent:l.addEvent;var c=this.options.bindToWrapper?this.wrapper:b;a(b,"orientationchange",this);a(b,"resize",this);this.options.click&&a(this.wrapper,"click",this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),
a(c,"mousemove",this),a(c,"mousecancel",this),a(c,"mouseup",this));l.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,l.prefixPointerEvent("pointerdown"),this),a(c,l.prefixPointerEvent("pointermove"),this),a(c,l.prefixPointerEvent("pointercancel"),this),a(c,l.prefixPointerEvent("pointerup"),this));l.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(c,"touchmove",this),a(c,"touchcancel",this),a(c,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,
"webkitTransitionEnd",this);a(this.scroller,"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=b.getComputedStyle(this.scroller,null);if(this.options.useTransform){a=a[l.style.transform].split(")")[0].split(", ");var c=+(a[12]||a[4]);a=+(a[13]||a[5])}else c=+a.left.replace(/[^-\d.]/g,""),a=+a.top.replace(/[^-\d.]/g,"");return{x:c,y:a}},_initIndicators:function(){function b(a){if(m.indicators)for(var b=m.indicators.length;b--;)a.call(m.indicators[b])}
var c=this.options.interactiveScrollbars,e="string"!=typeof this.options.scrollbars,f=[],m=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){var g={el:d("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:e,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1};this.wrapper.appendChild(g.el);f.push(g)}this.options.scrollX&&(g={el:d("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,
customStyle:e,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(g.el),f.push(g))}this.options.indicators&&(f=f.concat(this.options.indicators));for(c=f.length;c--;)this.indicators.push(new a(this,f[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){b(function(){this.fade()})}),this.on("scrollCancel",function(){b(function(){this.fade()})}),this.on("scrollStart",function(){b(function(){this.fade(1)})}),
this.on("beforeScrollStart",function(){b(function(){this.fade(1,!0)})}));this.on("refresh",function(){b(function(){this.refresh()})});this.on("destroy",function(){b(function(){this.destroy()});delete this.indicators})},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this);l.addEvent(this.wrapper,"mousewheel",this);l.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){clearTimeout(this.wheelTimeout);this.wheelTimeout=null;l.removeEvent(this.wrapper,"wheel",this);l.removeEvent(this.wrapper,
"mousewheel",this);l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b=this;void 0===this.wheelTimeout&&b._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){b.options.snap||b._execEvent("scrollEnd");b.wheelTimeout=void 0},400);if("deltaX"in a)if(1===a.deltaMode){var d=-a.deltaX*this.options.mouseWheelSpeed;a=-a.deltaY*this.options.mouseWheelSpeed}else d=-a.deltaX,a=-a.deltaY;else if("wheelDeltaX"in
a)d=a.wheelDeltaX/120*this.options.mouseWheelSpeed,a=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)d=a=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)d=a=-a.detail/3*this.options.mouseWheelSpeed;else return;d*=this.options.invertWheelDirection;a*=this.options.invertWheelDirection;this.hasVerticalScroll||(d=a,a=0);if(this.options.snap){var e=this.currentPage.pageX;var h=this.currentPage.pageY;0<d?e--:0>d&&e++;0<a?h--:0>a&&h++;this.goToPage(e,h)}else e=
this.x+f.round(this.hasHorizontalScroll?d:0),h=this.y+f.round(this.hasVerticalScroll?a:0),this.directionX=0<d?-1:0>d?1:0,this.directionY=0<a?-1:0>a?1:0,0<e?e=0:e<this.maxScrollX&&(e=this.maxScrollX),0<h?h=0:h<this.maxScrollY&&(h=this.maxScrollY),this.scrollTo(e,h,0)}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var a=0,b,d=0,e,m=0,g;var k=this.options.snapStepX||this.wrapperWidth;
var F=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap){var C=f.round(k/2);for(e=f.round(F/2);m>-this.scrollerWidth;){this.pages[a]=[];for(g=b=0;g>-this.scrollerHeight;)this.pages[a][b]={x:f.max(m,this.maxScrollX),y:f.max(g,this.maxScrollY),width:k,height:F,cx:m-C,cy:g-e},g-=F,b++;m-=k;a++}}else for(F=this.options.snap,b=F.length,k=-1;a<b;a++){var H=l.getRect(F[a]);if(0===a||H.left<=
l.getRect(F[a-1]).left)d=0,k++;this.pages[d]||(this.pages[d]=[]);m=f.max(-H.left,this.maxScrollX);g=f.max(-H.top,this.maxScrollY);C=m-f.round(H.width/2);e=g-f.round(H.height/2);this.pages[d][k]={x:m,y:g,width:H.width,height:H.height,cx:C,cy:e};m>this.maxScrollX&&d++}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*
this.options.snapThreshold),this.snapThresholdY=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var a=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.x-this.startX),1E3),f.min(f.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,
e=0;if(f.abs(a-this.absStartX)<this.snapThresholdX&&f.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;e<d;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}c==this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);e==this.currentPage.pageY&&
(e+=this.directionY,0>e?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y);return{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var c=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||f.max(f.max(f.min(f.abs(c-this.x),1E3),f.min(f.abs(g-this.y),1E3)),300):d;this.currentPage={x:c,y:g,pageX:a,pageY:b};
this.scrollTo(c,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(a){a={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var c;if("object"==typeof this.options.keyBindings)for(c in this.options.keyBindings)"string"==
typeof this.options.keyBindings[c]&&(this.options.keyBindings[c]=this.options.keyBindings[c].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(c in a)this.options.keyBindings[c]=this.options.keyBindings[c]||a[c];l.addEvent(b,"keydown",this);this.on("destroy",function(){l.removeEvent(b,"keydown",this)})},_key:function(a){if(this.enabled){var b=this.options.snap,d=b?this.currentPage.pageX:this.x,e=b?this.currentPage.pageY:this.y,h=l.getTime(),g=this.keyTime||0;if(this.options.useTransition&&
this.isInTransition){var m=this.getComputedPosition();this._translate(f.round(m.x),f.round(m.y));this.isInTransition=!1}this.keyAcceleration=200>h-g?f.min(this.keyAcceleration+.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:e+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:e-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=
b?this.pages.length-1:this.maxScrollX;e=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=d=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:e+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:e-=b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(d,e):(0<d?this.keyAcceleration=d=0:d<this.maxScrollX&&
(d=this.maxScrollX,this.keyAcceleration=0),0<e?this.keyAcceleration=e=0:e<this.maxScrollY&&(e=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,e,0),this.keyTime=h)}},_animate:function(a,b,d,e){function c(){var q=l.getTime();if(q>=p)g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd");else{q=(q-k)/d;var u=e(q);q=(a-f)*u+f;g._translate(q,(b-h)*u+h);g.isAnimating&&m(c)}}var g=this,f=this.x,h=this.y,k=l.getTime(),p=k+d;this.isAnimating=!0;c()},handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);
break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(a);
break;case "keydown":this._key(a);break;case "click":this.enabled&&!a._constructed&&(a.preventDefault(),a.stopPropagation())}}};a.prototype={handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a)}},
destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null);this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(b,"touchmove",this),l.removeEvent(b,l.prefixPointerEvent("pointermove"),this),l.removeEvent(b,"mousemove",this),l.removeEvent(b,"touchend",this),l.removeEvent(b,l.prefixPointerEvent("pointerup"),
this),l.removeEvent(b,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var c=a.touches?a.touches[0]:a;a.preventDefault();a.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=c.pageX;this.lastPointY=c.pageY;this.startTime=l.getTime();this.options.disableTouch||l.addEvent(b,"touchmove",this);this.options.disablePointer||l.addEvent(b,l.prefixPointerEvent("pointermove"),
this);this.options.disableMouse||l.addEvent(b,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a;l.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;var d=b.pageX-this.lastPointX;this.lastPointX=b.pageX;var e=b.pageY-this.lastPointY;this.lastPointY=b.pageY;this._pos(this.x+d,this.y+e);a.preventDefault();a.stopPropagation()},_end:function(a){if(this.initiated){this.initiated=!1;a.preventDefault();a.stopPropagation();
l.removeEvent(b,"touchmove",this);l.removeEvent(b,l.prefixPointerEvent("pointermove"),this);l.removeEvent(b,"mousemove",this);if(this.scroller.options.snap){a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var c=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.scroller.x-a.x),1E3),f.min(f.abs(this.scroller.y-a.y),1E3)),300);if(this.scroller.x!=a.x||this.scroller.y!=a.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,
c,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0;var b=l.style.transitionDuration;if(b&&(this.indicatorStyle[b]=a+"ms",!a&&l.isBadAndroid)){this.indicatorStyle[b]="0.0001ms";var d=this;m(function(){"0.0001ms"===d.indicatorStyle[b]&&(d.indicatorStyle[b]="0s")})}},transitionTimingFunction:function(a){this.indicatorStyle[l.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();this.indicatorStyle.display=
this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?
this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));l.getRect(this.wrapper);this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=f.max(f.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||
this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,
this.options.resize?(this.indicatorHeight=f.max(f.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-
this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&f.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&f.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=f.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):
a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=f.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=f.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):
b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=f.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=a;this.y=b;this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:
(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX);0>b?b=0:b>this.maxPosY&&(b=this.maxPosY);a=this.options.listenX?f.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?f.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible)clearTimeout(this.fadeTimeout),this.fadeTimeout=null,b=a?0:300,this.wrapperStyle[l.style.transitionDuration]=(a?250:500)+"ms",this.fadeTimeout=
setTimeout(function(a){this.wrapperStyle.opacity=a;this.visible=+a}.bind(this,a?"1":"0"),b)}};k.utils=l;"undefined"!=typeof module&&module.exports?module.exports=k:"function"==typeof define&&define.amd?define(function(){return k}):b.IScroll=k})(window,document,Math);
(function(b){"function"==typeof define&&define.amd?define("picker",["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):this.Picker=b(jQuery)})(function(b){function e(a,p,u,q){function c(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",v.component.nodes(E.open),J.box),J.wrap),J.frame),J.holder,'tabindex\x3d"-1"')}function A(){K.data(p,v).addClass(J.input).val(K.data("value")?v.get("select",G.format):a.value);if(!G.editable)K.on("focus."+E.id+" click."+E.id,
function(a){a.preventDefault();v.open()}).on("keydown."+E.id,t);k(a,{haspopup:!0,expanded:!1,readonly:!1,owns:a.id+"_root"})}function F(){v.$holder.on({keydown:t,"focus.toOpen":z,blur:function(){K.removeClass(J.target)},focusin:function(a){v.$root.removeClass(J.focused);a.stopPropagation()},"mousedown click":function(a){var c=a.target;c!=v.$holder[0]&&(a.stopPropagation(),"mousedown"!=a.type||b(c).is("input, select, textarea, button, option")||(a.preventDefault(),v.$holder[0].focus()))}}).on("click",
"[data-pick], [data-nav], [data-clear], [data-close]",function(){var a=b(this),c=a.data();a=a.hasClass(J.navDisabled)||a.hasClass(J.disabled);var e=d();e=e&&(e.type||e.href);(a||e&&!b.contains(v.$root[0],e))&&v.$holder[0].focus();!a&&c.nav?v.set("highlight",v.component.item.highlight,{nav:c.nav}):!a&&"pick"in c?(v.set("select",c.pick),G.closeOnSelect&&v.close(!0)):c.clear?(v.clear(),G.closeOnClear&&v.close(!0)):c.close&&v.close(!0)})}function C(){if(!0===G.hiddenName){var c=a.name;a.name=""}else c=
["string"==typeof G.hiddenPrefix?G.hiddenPrefix:"","string"==typeof G.hiddenSuffix?G.hiddenSuffix:"_submit"],c=c[0]+a.name+c[1];v._hidden=b('\x3cinput type\x3dhidden name\x3d"'+c+'"'+(K.data("value")||a.value?' value\x3d"'+v.get("select",G.formatSubmit)+'"':"")+"\x3e")[0];K.on("change."+E.id,function(){v._hidden.value=a.value?v.get("select",G.formatSubmit):""})}function H(){if(I&&h)v.$holder.find("."+J.frame).one("transitionend",function(){v.$holder[0].focus()});else v.$holder[0].focus()}function z(a){a.stopPropagation();
K.addClass(J.target);v.$root.addClass(J.focused);v.open()}function t(a){var b=a.keyCode,c=/^(8|46)$/.test(b);if(27==b)return v.close(!0),!1;if(32==b||c||!E.open&&v.component.key[b])a.preventDefault(),a.stopPropagation(),c?v.clear().close():v.open()}if(!a)return e;var I=!1,E={id:a.id||"P"+Math.abs(~~(Math.random()*new Date))},G=u?b.extend(!0,{},u.defaults,q):q||{},J=b.extend({},e.klasses(),G.klass),K=b(a);q=function(){return this.start()};var v=q.prototype={constructor:q,$node:K,start:function(){if(E&&
E.start)return v;E.methods={};E.start=!0;E.open=!1;E.type=a.type;a.autofocus=a==d();a.readOnly=!G.editable;a.id=a.id||E.id;"text"!=a.type&&(a.type="text");v.component=new u(v,G);v.$root=b('\x3cdiv class\x3d"'+J.picker+'" id\x3d"'+a.id+'_root" /\x3e');k(v.$root[0],"hidden",!0);v.$holder=b(c()).appendTo(v.$root);F();G.formatSubmit&&C();A();G.containerHidden?b(G.containerHidden).append(v._hidden):K.after(v._hidden);G.container?b(G.container).append(v.$root):K.after(v.$root);v.on({start:v.component.onStart,
render:v.component.onRender,stop:v.component.onStop,open:v.component.onOpen,close:v.component.onClose,set:v.component.onSet}).on({start:G.onStart,render:G.onRender,stop:G.onStop,open:G.onOpen,close:G.onClose,set:G.onSet});var e=v.$holder[0],g;e.currentStyle?g=e.currentStyle.position:window.getComputedStyle&&(g=getComputedStyle(e).position);I="fixed"==g;a.autofocus&&v.open();return v.trigger("start").trigger("render")},render:function(a){a?(v.$holder=b(c()),F(),v.$root.html(v.$holder)):v.$root.find("."+
J.box).html(v.component.nodes(E.open));return v.trigger("render")},stop:function(){if(!E.start)return v;v.close();v._hidden&&v._hidden.parentNode.removeChild(v._hidden);v.$root.remove();K.removeClass(J.input).removeData(p);setTimeout(function(){K.off("."+E.id)},0);a.type=E.type;a.readOnly=!1;v.trigger("stop");E.methods={};E.start=!1;return v},open:function(c){if(E.open)return v;K.addClass(J.active);k(a,"expanded",!0);setTimeout(function(){v.$root.addClass(J.opened);k(v.$root[0],"hidden",!1)},0);!1!==
c&&(E.open=!0,I&&l.css("overflow","hidden").css("padding-right","+\x3d"+f()),H(),m.on("click."+E.id+" focusin."+E.id,function(b){var c=b.target;c!=a&&c!=document&&3!=b.which&&v.close(c===v.$holder[0])}).on("keydown."+E.id,function(a){var c=a.keyCode,d=v.component.key[c],g=a.target;27==c?v.close(!0):g!=v.$holder[0]||!d&&13!=c?b.contains(v.$root[0],g)&&13==c&&(a.preventDefault(),g.click()):(a.preventDefault(),d?e._.trigger(v.component.key.go,v,[e._.trigger(d)]):v.$root.find("."+J.highlighted).hasClass(J.disabled)||
(v.set("select",v.component.item.highlight),G.closeOnSelect&&v.close(!0)))}));return v.trigger("open")},close:function(b){b&&(G.editable?a.focus():(v.$holder.off("focus.toOpen").focus(),setTimeout(function(){v.$holder.on("focus.toOpen",z)},0)));K.removeClass(J.active);k(a,"expanded",!1);setTimeout(function(){v.$root.removeClass(J.opened+" "+J.focused);k(v.$root[0],"hidden",!0)},0);if(!E.open)return v;E.open=!1;I&&l.css("overflow","").css("padding-right","-\x3d"+f());m.off("."+E.id);return v.trigger("close")},
clear:function(a){return v.set("clear",null,a)},set:function(a,c,d){var e,g=b.isPlainObject(a),f=g?a:{};d=g&&b.isPlainObject(c)?c:d||{};if(a){g||(f[a]=c);for(e in f)a=f[e],e in v.component.item&&(void 0===a&&(a=null),v.component.set(e,a,d)),"select"!=e&&"clear"!=e||K.val("clear"==e?"":v.get(e,G.format)).trigger("change");v.render()}return d.muted?v:v.trigger("set",f)},get:function(b,c){b=b||"value";if(null!=E[b])return E[b];if("valueSubmit"==b){if(v._hidden)return v._hidden.value;b="value"}if("value"==
b)return a.value;if(b in v.component.item)return"string"==typeof c?(b=v.component.get(b))?e._.trigger(v.component.formats.toString,v.component,[c,b]):"":v.component.get(b)},on:function(a,c,d){var e,g=b.isPlainObject(a),f=g?a:{};if(a)for(e in g||(f[a]=c),f)a=f[e],d&&(e="_"+e),E.methods[e]=E.methods[e]||[],E.methods[e].push(a);return v},off:function(){var a=arguments;var b=0;for(namesCount=a.length;b<namesCount;b+=1){var c=a[b];c in E.methods&&delete E.methods[c]}return v},trigger:function(a,b){var c=
function(a){(a=E.methods[a])&&a.map(function(a){e._.trigger(a,v,[b])})};c("_"+a);c(a);return v}};return new q}function f(){if(l.height()<=a.height())return 0;var c=b('\x3cdiv style\x3d"visibility:hidden;width:100px" /\x3e').appendTo("body"),d=c[0].offsetWidth;c.css("overflow","scroll");var e=b('\x3cdiv style\x3d"width:100%" /\x3e').appendTo(c)[0].offsetWidth;c.remove();return d-e}function k(a,d,e){if(b.isPlainObject(d))for(var c in d)a.setAttribute(("role"==c?"":"aria-")+c,d[c]);else a.setAttribute(("role"==
d?"":"aria-")+d,e)}function d(){try{return document.activeElement}catch(c){}}var a=b(window),m=b(document),l=b(document.documentElement),h=null!=document.documentElement.style.transition;e.klasses=function(a){a=a||"picker";return{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}};e._={group:function(a){for(var b,c="",d=e._.trigger(a.min,a);d<=e._.trigger(a.max,
a,[d]);d+=a.i)b=e._.trigger(a.item,a,[d]),c+=e._.node(a.node,b[0],b[1],b[2]);return c},node:function(a,d,e,f){if(!d)return"";d=b.isArray(d)?d.join(""):d;return"\x3c"+a+(e?' class\x3d"'+e+'"':"")+(f?" "+f:"")+"\x3e"+d+"\x3c/"+a+"\x3e"},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,d){return"function"==typeof a?a.apply(b,d||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return-1<{}.toString.call(a).indexOf("Date")&&this.isInteger(a.getDate())},isInteger:function(a){return-1<
{}.toString.call(a).indexOf("Number")&&0===a%1},ariaAttr:function(a,d){b.isPlainObject(a)||(a={attribute:d});d="";for(var c in a){var e=("role"==c?"":"aria-")+c;d+=null==a[c]?"":e+'\x3d"'+a[c]+'"'}return d}};e.extend=function(a,d){b.fn[a]=function(c,f){var g=this.data(a);return"picker"==c?g:g&&"string"==typeof c?e._.trigger(g[c],g,[f]):this.each(function(){b(this).data(a)||new e(this,a,d,c)})};b.fn[a].defaults=d.defaults};return e});
(function(b){"function"==typeof define&&define.amd?define(["picker","jquery"],b):"object"==typeof exports?module.exports=b(require("./picker.js"),require("jquery")):b(Picker,jQuery)})(function(b,e){function f(b,a){var d=this,e=b.$node[0],f=e.value,c=b.$node.data("value");f=c||f;c=c?a.formatSubmit:a.format;var k=function(){return e.currentStyle?"rtl"==e.currentStyle.direction:"rtl"==getComputedStyle(b.$root[0]).direction};d.settings=a;d.$node=b.$node;d.queue={min:"measure create",max:"measure create",
now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"};d.item={};d.item.clear=null;d.item.disable=(a.disable||[]).slice(0);d.item.enable=-function(a){return!0===a[0]?a.shift():-1}(d.item.disable);d.set("min",a.min).set("max",a.max).set("now");f?d.set("select",f,{format:c,defaultValue:!0}):d.set("select",null).set("highlight",d.item.now);d.key={40:7,38:-7,39:function(){return k()?-1:1},
37:function(){return k()?1:-1},go:function(a){var b=d.item.highlight;d.set("highlight",new Date(b.year,b.month,b.date+a),{interval:a});this.render()}};b.on("render",function(){b.$root.find("."+a.klass.selectMonth).on("change",function(){var c=this.value;c&&(b.set("highlight",[b.get("view").year,c,b.get("highlight").date]),b.$root.find("."+a.klass.selectMonth).trigger("focus"))});b.$root.find("."+a.klass.selectYear).on("change",function(){var c=this.value;c&&(b.set("highlight",[c,b.get("view").month,
b.get("highlight").date]),b.$root.find("."+a.klass.selectYear).trigger("focus"))})},1).on("open",function(){var c="";d.disabled(d.get("now"))&&(c=":not(."+a.klass.buttonToday+")");b.$root.find("button"+c+", select").attr("disabled",!1)},1).on("close",function(){b.$root.find("button, select").attr("disabled",!0)},1)}var k=b._;f.prototype.set=function(b,a,e){var d=this,f=d.item;if(null===a)return"clear"==b&&(b="select"),f[b]=a,d;f["enable"==b?"disable":"flip"==b?"enable":b]=d.queue[b].split(" ").map(function(c){return a=
d[c](b,a,e)}).pop();"select"==b?d.set("highlight",f.select,e):"highlight"==b?d.set("view",f.highlight,e):b.match(/^(flip|min|max|disable|enable)$/)&&(f.select&&d.disabled(f.select)&&d.set("select",f.select,e),f.highlight&&d.disabled(f.highlight)&&d.set("highlight",f.highlight,e));return d};f.prototype.get=function(b){return this.item[b]};f.prototype.create=function(b,a,f){a=void 0===a?b:a;if(-Infinity==a||Infinity==a)var d=a;else e.isPlainObject(a)&&k.isInteger(a.pick)?a=a.obj:e.isArray(a)?(a=new Date(a[0],
a[1],a[2]),a=k.isDate(a)?a:this.create().obj):a=k.isInteger(a)||k.isDate(a)?this.normalize(new Date(a),f):this.now(b,a,f);return{year:d||a.getFullYear(),month:d||a.getMonth(),date:d||a.getDate(),day:d||a.getDay(),obj:d||a,pick:d||a.getTime()}};f.prototype.createRange=function(b,a){var d=this,f=function(a){return!0===a||e.isArray(a)||k.isDate(a)?d.create(a):a};k.isInteger(b)||(b=f(b));k.isInteger(a)||(a=f(a));k.isInteger(b)&&e.isPlainObject(a)?b=[a.year,a.month,a.date+b]:k.isInteger(a)&&e.isPlainObject(b)&&
(a=[b.year,b.month,b.date+a]);return{from:f(b),to:f(a)}};f.prototype.withinRange=function(b,a){b=this.createRange(b.from,b.to);return a.pick>=b.from.pick&&a.pick<=b.to.pick};f.prototype.overlapRanges=function(b,a){b=this.createRange(b.from,b.to);a=this.createRange(a.from,a.to);return this.withinRange(b,a.from)||this.withinRange(b,a.to)||this.withinRange(a,b.from)||this.withinRange(a,b.to)};f.prototype.now=function(b,a,e){a=new Date;e&&e.rel&&a.setDate(a.getDate()+e.rel);return this.normalize(a,e)};
f.prototype.navigate=function(b,a,f){var d=e.isArray(a);var h=e.isPlainObject(a);b=this.item.view;if(d||h){h?(d=a.year,h=a.month,a=a.date):(d=+a[0],h=+a[1],a=+a[2]);f&&f.nav&&b&&b.month!==h&&(d=b.year,h=b.month);f=new Date(d,h+(f&&f.nav?f.nav:0),1);d=f.getFullYear();for(h=f.getMonth();(new Date(d,h,a)).getMonth()!==h;)--a;a=[d,h,a]}return a};f.prototype.normalize=function(b){b.setHours(0,0,0,0);return b};f.prototype.measure=function(b,a){a?"string"==typeof a?a=this.parse(b,a):k.isInteger(a)&&(a=this.now(b,
a,{rel:a})):a="min"==b?-Infinity:Infinity;return a};f.prototype.viewset=function(b,a){return this.create([a.year,a.month,1])};f.prototype.validate=function(b,a,f){var d=this;b=a;var h=f&&f.interval?f.interval:1,c=-1===d.item.enable,m,u,q=d.item.min,g=d.item.max,A=c&&d.item.disable.filter(function(b){if(e.isArray(b)){var c=d.create(b).pick;c<a.pick?m=!0:c>a.pick&&(u=!0)}return k.isInteger(b)}).length;if(!f||!f.nav&&!f.defaultValue)if(!c&&d.disabled(a)||c&&d.disabled(a)&&(A||m||u)||!c&&(a.pick<=q.pick||
a.pick>=g.pick))for(c&&!A&&(!u&&0<h||!m&&0>h)&&(h*=-1);d.disabled(a);){1<Math.abs(h)&&(a.month<b.month||a.month>b.month)&&(a=b,h=0<h?1:-1);if(a.pick<=q.pick){var F=!0;h=1;a=d.create([q.year,q.month,q.date+(a.pick===q.pick?0:-1)])}else if(a.pick>=g.pick){var C=!0;h=-1;a=d.create([g.year,g.month,g.date+(a.pick===g.pick?0:1)])}if(F&&C)break;a=d.create([a.year,a.month,a.date+h])}return a};f.prototype.disabled=function(b){var a=this,d=a.item.disable.filter(function(d){if(k.isInteger(d))return b.day===
(a.settings.firstDay?d:d-1)%7;if(e.isArray(d)||k.isDate(d))return b.pick===a.create(d).pick;if(e.isPlainObject(d))return a.withinRange(d,b)});d=d.length&&!d.filter(function(a){return e.isArray(a)&&"inverted"==a[3]||e.isPlainObject(a)&&a.inverted}).length;return-1===a.item.enable?!d:d||b.pick<a.item.min.pick||b.pick>a.item.max.pick};f.prototype.parse=function(b,a,e){var d=this,f={};if(!a||"string"!=typeof a)return a;e&&e.format||(e=e||{},e.format=d.settings.format);d.formats.toArray(e.format).map(function(b){var c=
d.formats[b],e=c?k.trigger(c,d,[a,f]):b.replace(/^!/,"").length;c&&(f[b]=a.substr(0,e));a=a.substr(e)});return[f.yyyy||f.yy,+(f.mm||f.m)-1,f.dd||f.d]};f.prototype.formats=function(){function b(a,b,d){a=a.match(/[^\x00-\x7F]+|\w+/)[0];d.mm||d.m||(d.m=b.indexOf(a)+1);return a.length}return{d:function(a,b){return a?k.digits(a):b.date},dd:function(a,b){return a?2:k.lead(b.date)},ddd:function(a,b){return a?a.match(/\w+/)[0].length:this.settings.weekdaysShort[b.day]},dddd:function(a,b){return a?a.match(/\w+/)[0].length:
this.settings.weekdaysFull[b.day]},m:function(a,b){return a?k.digits(a):b.month+1},mm:function(a,b){return a?2:k.lead(b.month+1)},mmm:function(a,d){var e=this.settings.monthsShort;return a?b(a,e,d):e[d.month]},mmmm:function(a,d){var e=this.settings.monthsFull;return a?b(a,e,d):e[d.month]},yy:function(a,b){return a?2:(""+b.year).slice(2)},yyyy:function(a,b){return a?4:b.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,b){var d=this;return d.formats.toArray(a).map(function(a){return k.trigger(d.formats[a],
d,[0,b])||a.replace(/^!/,"")}).join("")}}}();f.prototype.isDateExact=function(b,a){return k.isInteger(b)&&k.isInteger(a)||"boolean"==typeof b&&"boolean"==typeof a?b===a:(k.isDate(b)||e.isArray(b))&&(k.isDate(a)||e.isArray(a))?this.create(b).pick===this.create(a).pick:e.isPlainObject(b)&&e.isPlainObject(a)?this.isDateExact(b.from,a.from)&&this.isDateExact(b.to,a.to):!1};f.prototype.isDateOverlap=function(b,a){var d=this.settings.firstDay?1:0;return k.isInteger(b)&&(k.isDate(a)||e.isArray(a))?b%7+d===
this.create(a).day+1:k.isInteger(a)&&(k.isDate(b)||e.isArray(b))?a%7+d===this.create(b).day+1:e.isPlainObject(b)&&e.isPlainObject(a)?this.overlapRanges(b,a):!1};f.prototype.flipEnable=function(b){var a=this.item;a.enable=b||(-1==a.enable?1:-1)};f.prototype.deactivate=function(b,a){var d=this,f=d.item.disable.slice(0);"flip"==a?d.flipEnable():!1===a?(d.flipEnable(1),f=[]):!0===a?(d.flipEnable(-1),f=[]):a.map(function(a){for(var b,h=0;h<f.length;h+=1)if(d.isDateExact(a,f[h])){b=!0;break}b||(k.isInteger(a)||
k.isDate(a)||e.isArray(a)||e.isPlainObject(a)&&a.from&&a.to)&&f.push(a)});return f};f.prototype.activate=function(b,a){var d=this,f=d.item.disable,h=f.length;"flip"==a?d.flipEnable():!0===a?(d.flipEnable(1),f=[]):!1===a?(d.flipEnable(-1),f=[]):a.map(function(a){var b;for(b=0;b<h;b+=1){var c=f[b];if(d.isDateExact(c,a)){var m=f[b]=null;var g=!0;break}else if(d.isDateOverlap(c,a)){e.isPlainObject(a)?(a.inverted=!0,m=a):e.isArray(a)?(m=a,m[3]||m.push("inverted")):k.isDate(a)&&(m=[a.getFullYear(),a.getMonth(),
a.getDate(),"inverted"]);break}}if(m)for(b=0;b<h;b+=1)if(d.isDateExact(f[b],a)){f[b]=null;break}if(g)for(b=0;b<h;b+=1)if(d.isDateOverlap(f[b],a)){f[b]=null;break}m&&f.push(m)});return f.filter(function(a){return null!=a})};f.prototype.nodes=function(b){var a=this,d=a.settings,e=a.item,f=e.now,c=e.select,p=e.highlight,u=e.view,q=e.disable,g=e.min,A=e.max;e=function(a,b){d.firstDay&&(a.push(a.shift()),b.push(b.shift()));return k.node("thead",k.node("tr",k.group({min:0,max:6,i:1,node:"th",item:function(c){return[a[c],
d.klass.weekdays,'scope\x3dcol title\x3d"'+b[c]+'"']}})))}((d.showWeekdaysFull?d.weekdaysFull:d.weekdaysShort).slice(0),d.weekdaysFull.slice(0));var F=function(b){return k.node("div"," ",d.klass["nav"+(b?"Next":"Prev")]+(b&&u.year>=A.year&&u.month>=A.month||!b&&u.year<=g.year&&u.month<=g.month?" "+d.klass.navDisabled:""),"data-nav\x3d"+(b||-1)+" "+k.ariaAttr({role:"button",controls:a.$node[0].id+"_table"})+' title\x3d"'+(b?d.labelMonthNext:d.labelMonthPrev)+'"')},C=function(){var c=d.showMonthsShort?
d.monthsShort:d.monthsFull;return d.selectMonths?k.node("select",k.group({min:0,max:11,i:1,node:"option",item:function(a){return[c[a],0,"value\x3d"+a+(u.month==a?" selected":"")+(u.year==g.year&&a<g.month||u.year==A.year&&a>A.month?" disabled":"")]}}),d.klass.selectMonth,(b?"":"disabled")+" "+k.ariaAttr({controls:a.$node[0].id+"_table"})+' title\x3d"'+d.labelMonthSelect+'"'):k.node("div",c[u.month],d.klass.month)},H=function(){var c=u.year,e=!0===d.selectYears?5:~~(d.selectYears/2);if(e){var f=g.year,
h=A.year,m=c-e;e=c+e;f>m&&(e+=f-m,m=f);h<e&&(f=m-f,e-=h,m-=f>e?e:f,e=h);return k.node("select",k.group({min:m,max:e,i:1,node:"option",item:function(a){return[a,0,"value\x3d"+a+(c==a?" selected":"")]}}),d.klass.selectYear,(b?"":"disabled")+" "+k.ariaAttr({controls:a.$node[0].id+"_table"})+' title\x3d"'+d.labelYearSelect+'"')}return k.node("div",c,d.klass.year)};return k.node("div",(d.selectYears?H()+C():C()+H())+F()+F(1),d.klass.header)+k.node("table",e+k.node("tbody",k.group({min:0,max:5,i:1,node:"tr",
item:function(b){var e=d.firstDay&&0===a.create([u.year,u.month,1]).day?-7:0;return[k.group({min:7*b-u.day+e+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(b){b=a.create([u.year,u.month,b+(d.firstDay?1:0)]);var e=c&&c.pick==b.pick,h=p&&p.pick==b.pick,m=q&&a.disabled(b)||b.pick<g.pick||b.pick>A.pick,l=k.trigger(a.formats.toString,a,[d.format,b]);return[k.node("div",b.date,function(a){a.push(u.month==b.month?d.klass.infocus:d.klass.outfocus);f.pick==b.pick&&a.push(d.klass.now);e&&
a.push(d.klass.selected);h&&a.push(d.klass.highlighted);m&&a.push(d.klass.disabled);return a.join(" ")}([d.klass.day]),"data-pick\x3d"+b.pick+" "+k.ariaAttr({role:"gridcell",label:l,selected:e&&a.$node.val()===l?!0:null,activedescendant:h?!0:null,disabled:m?!0:null})),"",k.ariaAttr({role:"presentation"})]}})]}})),d.klass.table,'id\x3d"'+a.$node[0].id+'_table" '+k.ariaAttr({role:"grid",controls:a.$node[0].id,readonly:!0}))+k.node("div",k.node("button",d.today,d.klass.buttonToday,"type\x3dbutton data-pick\x3d"+
f.pick+(b&&!a.disabled(f)?"":" disabled")+" "+k.ariaAttr({controls:a.$node[0].id}))+k.node("button",d.clear,d.klass.buttonClear,"type\x3dbutton data-clear\x3d1"+(b?"":" disabled")+" "+k.ariaAttr({controls:a.$node[0].id}))+k.node("button",d.close,d.klass.buttonClose,"type\x3dbutton data-close\x3dtrue "+(b?"":" disabled")+" "+k.ariaAttr({controls:a.$node[0].id})),d.klass.footer)};f.defaults=function(b){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",
labelYearSelect:"Select a year",monthsFull:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdaysFull:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:b+"table",header:b+"header",navPrev:b+
"nav--prev",navNext:b+"nav--next",navDisabled:b+"nav--disabled",month:b+"month",year:b+"year",selectMonth:b+"select--month",selectYear:b+"select--year",weekdays:b+"weekday",day:b+"day",disabled:b+"day--disabled",selected:b+"day--selected",highlighted:b+"day--highlighted",now:b+"day--today",infocus:b+"day--infocus",outfocus:b+"day--outfocus",footer:b+"footer",buttonClear:b+"button--clear",buttonToday:b+"button--today",buttonClose:b+"button--close"}}}(b.klasses().picker+"__");b.extend("pickadate",f)});
(function(){function b(a,d,c){return("string"===typeof d?d:d.toString()).replace(a.define||m,function(b,d,e,f){0===d.indexOf("def.")&&(d=d.substring(4));d in c||(":"===e?(a.defineParams&&f.replace(a.defineParams,function(a,b,e){c[d]={arg:b,text:e}}),d in c||(c[d]=f)):(new Function("def","def['"+d+"']\x3d"+f))(c));return""}).replace(a.use||m,function(d,e){a.useParams&&(e=e.replace(a.useParams,function(a,b,d,e){if(c[d]&&c[d].arg&&e)return a=(d+":"+e).replace(/'|\\/g,"_"),c.__exp=c.__exp||{},c.__exp[a]=
c[d].text.replace(new RegExp("(^|[^\\w$])"+c[d].arg+"([^\\w$])","g"),"$1"+e+"$2"),b+"def.__exp['"+a+"']"}));return(d=(new Function("def","return "+e))(c))?b(a,d,c):d})}function e(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var f={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,
define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};f.encodeHTMLSource=function(a){var b={"\x26":"\x26#38;","\x3c":"\x26#60;","\x3e":"\x26#62;",'"':"\x26#34;","'":"\x26#39;","/":"\x26#47;"},c=a?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;
return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}};var k=function(){return this||(0,eval)("this")}();"undefined"!==typeof module&&module.exports?module.exports=f:"function"===typeof define&&define.amd?define(function(){return f}):k.doT=f;var d={start:"'+(",end:")+'",startencode:"'+encodeHTML("},a={start:"';out+\x3d(",end:");out+\x3d'",startencode:"';out+\x3dencodeHTML("},m=/$^/;f.template=function(l,h,c){h=h||f.templateSettings;var p=h.append?d:a,u,q=0,g;l=h.use||
h.define?b(h,l,c||{}):l;l=("var out\x3d'"+(h.strip?l.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):l).replace(/'|\\/g,"\\$\x26").replace(h.interpolate||m,function(a,b){return p.start+e(b)+p.end}).replace(h.encode||m,function(a,b){u=!0;return p.startencode+e(b)+p.end}).replace(h.conditional||m,function(a,b,c){return b?c?"';}else if("+e(c)+"){out+\x3d'":"';}else{out+\x3d'":c?"';if("+e(c)+"){out+\x3d'":"';}out+\x3d'"}).replace(h.iterate||m,function(a,b,c,d){if(!b)return"';} } out+\x3d'";
q+=1;g=d||"i"+q;b=e(b);return"';var arr"+q+"\x3d"+b+";if(arr"+q+"){var "+c+","+g+"\x3d-1,l"+q+"\x3darr"+q+".length-1;while("+g+"\x3cl"+q+"){"+c+"\x3darr"+q+"["+g+"+\x3d1];out+\x3d'"}).replace(h.evaluate||m,function(a,b){return"';"+e(b)+"out+\x3d'"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");u&&(h.selfcontained||!k||k._encodeHTML||(k._encodeHTML=f.encodeHTMLSource(h.doNotSkipEncoded)),l="var encodeHTML \x3d typeof _encodeHTML !\x3d\x3d 'undefined' ? _encodeHTML : ("+
f.encodeHTMLSource.toString()+"("+(h.doNotSkipEncoded||"")+"));"+l);try{return new Function(h.varname,l)}catch(A){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+l),A;}};f.compile=function(a,b){return f.template(a,null,b)}})();
var Cog=function(b,e){var f={component:{}},k=e.noop,d=[],a=function(){function a(a,b){var c=b||{};a=a||Object;b=c.constructor!=d?c.constructor:function(){a.apply(this,arguments)};var f=a.prototype,g=function(){};g.prototype=f;c=e.extend(new g,c);c.constructor=b;b.prototype=c;b.superclass=f;return b}function b(a,b){var c={instance:function(){return b}};c.superclass=a.superclass;return c}function c(b){var c=a(b,{constructor:function(a){c.superclass.constructor.apply(this,a)}});return c}var d=Object.prototype.constructor;
return{define:function(b){return a(null,b)},extend:a,asSingleton:function(a){return{create:function(){var d=c(a);return b(a,new d(arguments))}}}}}(),m=a.define({eventManager:null,addModule:function(a){},queueInitTask:function(a,b){},queueFinalizeTask:function(a){},isValidModuleConfig:function(a){},isReady:function(){},whenReady:function(a){}}),l=a.define({dispatcherFor:function(a,b){}}),h=a.define({dependencyGraph:null,modules:null,staticModuleRegistry:null,dynamicModuleRegistry:null,add:function(a){}}),
c=a.define({initStaticModule:null,initDynamicModules:null,finalizeDynamicModules:null}),p=a.define({level:1,source:null,constructor:function(a,b){this.source=a;this.level=b||1},error:function(a,b){console.error(b)},info:function(a){},debug:function(a){},trace:function(a){},isEnabled:function(a){return a<=this.level}}),u=a.define({constructor:function(a){},create:function(a,b){}}),q=a.asSingleton(a.extend(u,{logger:new p,create:function(a,b){return this.logger}})).create().instance(),g=a.define({items:null,
ids:null,map:null,constructor:function(){this.items=[];this.ids=[];this.map={}},add:function(a,b){this.map[a]||(this.map[a]=b,this.ids.push(a),this.items.push(b))},count:function(){return this.items.length},get:function(a){return this.map[a]||null},has:function(a){return this.map.hasOwnProperty(a)},select:function(a){var b=new g,c=this.map;a=this.filterIds(a);var d;for(d=0;d<a.length;d++){var e=a[d];b.add(e,c[e])}return b},selectValues:function(a){var b={},c=this.map;a=this.filterIds(a);var d;for(d=
0;d<a.length;d++){var e=a[d];b[e]=c[e]}return b},filterIds:function(a){var b=[];a=this.uniqueIds(a);var c=this.map,d;for(d=0;d<a.length;d++)c.hasOwnProperty(a[d])&&b.push(a[d]);return b},uniqueIds:function(a){var b=[],c={},d;for(d=0;d<a.length;d++){var e=a[d];c[e]||(c[e]=!0,b.push(e))}return this.sortedIds(b)},sortedIds:function(a){var b=e.proxy(this.uniqueIdsSorter,this,this.ids);a.sort(b);return a},uniqueIdsSorter:function(a,b,c){return e.inArray(b,a)-e.inArray(c,a)}});u=a.define({current:0,next:function(a,
b){this.current++;return this.current}});var A=a.asSingleton(a.define({indexOfElement:function(a,b){var c=-1,d;for(d=0;0>c&&d<a.length;d++)b.is(a[d])&&(c=d);return c},find:function(a,b){var c=a.find(b);a=a.filter(b);return 0<a.length?c.add(a):c},isInScope:function(a,b){return null!=a&&null!=b&&b.parents().is(a)}})).create().instance(),F=a.asSingleton(a.define({defaults:{itemsPerGroup:1},initializeGroupSize:function(a){return 0<a?a:this.defaults.itemsPerGroup},groupItems:function(a,b){var c;b=this.initializeGroupSize(b);
b=this.createContext(b);var d=b.group;for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c],d=this.update(b));this.flush(b);return b.groups},createContext:function(a){return{group:{},groups:[],counter:a,groupSize:a}},update:function(a){a.counter--;1>a.counter&&(a.counter=a.groupSize,a.groups.push(a.group),a.group={});return a.group},flush:function(a){a.counter!==a.groupSize&&a.groups.push(a.group)}})).create().instance(),C=a.asSingleton(a.define({create:function(a,b){var c={},d;for(d=0;d<b.length;d++){var f=
b[d];e.isFunction(a[f])&&(c[f]=e.proxy(a[f],a))}return c}})).create().instance(),H=a.define({id:null,isProcessed:!1,resolved:!1,dependencies:null,requiredBy:null,constructor:function(a){this.id=a;this.dependencies=[];this.requiredBy=[]},isResolved:function(){return this.resolved},resolveIfRequired:function(){this.resolved||this.resolve()},resolve:function(){var a=this.dependencies,b=!0,c;for(c=0;b&&c<a.length;c++)b=a[c].resolved;this.resolved=b},resolveAllPredecessors:function(){var a=[],b=this.unresolvedPredecessor();
b.length&&this.resolvePredecessors(b,a);return a},unresolvedPredecessor:function(){var a=[],b=this.requiredBy,c;for(c=0;c<b.length;c++){var d=b[c];d.resolved||a.push(d)}return a},resolvePredecessors:function(a,b){for(var c;0<a.length;)c=a.shift(),c.resolve(),c.resolved&&(a.push.apply(a,c.unresolvedPredecessor()),b.push(c.id))}});p=a.define({id:function(a){},dependencies:function(a){},dependencyId:function(a){}});var z=a.define({adapter:null,nodes:null,constructor:function(a){this.adapter=a;this.nodes=
{}},resolve:function(a){var b=null,c=this.getNode(this.adapter.id(a));c.isProcessed||this.processDependencies(c,this.adapter.dependencies(a));c.resolveIfRequired();c.isResolved()&&(b=c.resolveAllPredecessors(),b.unshift(c.id));return b},hasNode:function(a){return(a=this.nodes[this.adapter.id(a)])&&a.isProcessed},getNode:function(a){null==this.nodes[a]&&(this.nodes[a]=new H(a));return this.nodes[a]},processDependencies:function(a,b){var c;for(c=0;c<b.length;c++){var d=this.getNode(this.adapter.dependencyId(b[c]));
a.dependencies.push(d);d.requiredBy.push(a)}a.isProcessed=!0}}),t=a.define({id:null,delegate:null,scope:null,params:null,disposable:!1,constructor:function(a,b,c){this.id=a.id;this.delegate=b||k;this.params={data:{},eventData:{}};c&&this.processOptions(c)},isDisposable:function(){return this.disposable},processOptions:function(a){a.scope&&(this.scope=a.scope);a.data&&(this.params.data=a.data);this.disposable=!0===a.disposable}}),I=a.asSingleton(a.define({create:function(a,b,c){return{module:a,event:b,
id:c}}})).create(),E=a.define({asyncDelegatesCount:50,moduleName:null,eventName:null,handlers:null,ids:null,metadataFactory:null,constructor:function(a,b){this.moduleName=a;this.eventName=b;this.metadataFactory=I.instance();this.handlers=[];this.ids={}},addHandler:function(a,b){var c=null;e.isFunction(a)&&(c=this.generateUniqueId(),this.ids[c]=!0,c=this.metadataFactory.create(this.moduleName,this.eventName,c),a=new t(c,a,b),a.isDisposable()&&(a.delegate=this.disposableHandler(a)),this.handlers.push(a));
return c},removeHandler:function(a){var b=this.indexOfHandler(a),c=-1<b;-1<b&&(delete this.ids[a],this.handlers.splice(b,1));return c},dispatch:function(a){var b=this.handlers.slice(0),c;for(c=0;c<b.length;c++){var d=b[c];var f=e.extend({},d.params);a&&(f.eventData=a);d.delegate.call(d.scope,f)}},dispatchAsync:function(a){a=this.createDelegates(a);var b=Math.ceil(a.length/this.asyncDelegatesCount),c;for(c=0;c<b;c++)setTimeout(e.proxy(this.executeAsync,this,a,c))},createDelegates:function(a){var b=
this.handlers.slice(0),c=[],d;for(d=0;d<b.length;d++){var f=b[d];var g=e.extend({},f.params);a&&(g.eventData=a);c.push({handler:f,params:g})}return c},executeAsync:function(a,b){var c=b*this.asyncDelegatesCount;b=Math.min(c+this.asyncDelegatesCount,a.length);var d;for(d=c;d<b;d++){var e=a[d];c=e.handler;c.delegate.call(c.scope,e.params)}},disposableHandler:function(a){var b=a.delegate,c=this;return function(d){b.call(a.scope,d);c.removeHandler(a.id)}},indexOfHandler:function(a){var b=this.handlers,
c=-1,d;for(d=0;0>c&&d<b.length;d++)b[d].id===a&&(c=d);return c},generateUniqueId:function(){var a=this.ids;do var b=Math.round((new Date).getTime()*Math.random());while(null!=a[b]);return b}}),G=a.define({hasNext:function(){},next:function(){},nextId:function(){},last:function(){},lastId:function(){},add:function(a){}}),J=a.extend(G,{queues:null,constructor:function(){this.queues=[]},hasNext:function(){var a=this.queues,b=!1,c;for(c=0;!b&&c<a.length;c++)b=a[c].hasNext();return b},next:function(){var a=
this.nextQueue();return null!=a?a.next():null},nextId:function(){var a=this.nextQueue();return null!=a?a.nextId():null},last:function(){var a=this.lastQueue();return null!=a?a.last():null},lastId:function(){var a=this.lastQueue();return null!=a?a.lastId():null},addQueue:function(a){this.queues.push(a)},nextQueue:function(){var a=this.queues,b=null,c=Number.MAX_VALUE,d;for(d=0;d<a.length;d++){var e=a[d].nextId();null!==e&&e<c&&(c=e,b=a[d])}return b},lastQueue:function(){var a=this.queues,b=null,c=
Number.MIN_VALUE,d;for(d=0;d<a.length;d++){var e=a[d].nextId();null!==e&&e>c&&(c=e,b=a[d])}return b}});u=a.define({logger:q.create("Task"),counter:new u,id:null,deferred:null,promise:null,constructor:function(){this.id=this.counter.next();this.deferred=e.Deferred();this.promise=this.deferred.promise();this.logger.isEnabled(3)&&(this.promise.done(e.proxy(this.onExecuted,this)).fail(e.proxy(this.onAborted,this)),this.logger.debug("created",this.id))},execute:function(){},onExecuted:function(){this.logger.debug("executed",
this.id)},onAborted:function(){this.logger.debug("aborted",this.id)}});var K=a.extend(G,{logger:q.create("TaskQueue"),tasks:null,constructor:function(){this.tasks=[]},hasNext:function(){return 0<this.tasks.length},next:function(){return this.hasNext()?this.tasks.shift():null},nextId:function(){return this.hasNext()?this.tasks[0].id:null},last:function(){return this.hasNext()?this.tasks.pop():null},lastId:function(){var a=null;this.hasNext()&&(a=this.tasks,a=a[a.length-1]);return a},add:function(a){var b=
this.logger;b.debug("adding task",a.id);this.accepts(a)?(b.debug("task accepted",a.id),this.process(a)):(b.debug("task rejected",a.id),a.deferred.reject())},accepts:function(a){return!0},process:function(a){this.tasks.push(a)}}),v=a.define({logger:q.create("TaskRunner"),delay:0,queues:null,locked:!1,constructor:function(a){this.queues=[];0<a&&(this.delay=a)},executeNext:function(){var a=this.logger,b=this.locked?null:this.findNext();null!=b&&(this.locked=!0,a.trace("locked"),b.promise.always(e.proxy(this.unlock,
this)),a.debug("execute",b.id),this.executeAsync(b))},findNext:function(){var a=this.queues;var b=null;var c;for(c=0;null==b&&c<a.length;c++)b=a[c],b=b.next();return b},addQueue:function(a){this.queues.push(a)},unlock:function(){this.locked=!1;this.logger.trace("unlocked");this.executeNext()},executeAsync:function(a){setTimeout(e.proxy(a.execute,a),this.delay)}});G=a.define({logger:q.create("ObjectIterator"),items:null,constructor:function(a){this.items=a||{}},eachItem:function(a,b){var c=e.Deferred();
try{this.executeOnEach(a,b)}catch(la){this.logger.error("error has occured",la),c.rejectWith(b,[la])}finally{this.logger.trace("processing finished"),c.resolveWith(b)}return c.promise()},executeOnEach:function(a,b){var c=this.logger,d=this.items,e;for(e in d)if(d.hasOwnProperty(e)&&(c.trace("processing",e),!1===a.call(b,d[e]))){c.trace("processing aborted by itemProcessor");break}}});var N=a.define({itemProcessor:null,scope:null,aborted:!1,deferred:null,constructor:function(a,b){this.itemProcessor=
a;this.scope=b;this.aborted=!1;this.deferred=e.Deferred();e.isFunction(a)||this.abort()},isAborted:function(){return this.aborted},abort:function(){this.aborted=!0},resolve:function(){return this.deferred.resolveWith(this.scope)},reject:function(a){this.abort();return this.deferred.rejectWith(this.scope,[a])},promise:function(){return this.deferred.promise()},processItem:function(a){a=this.itemProcessor.call(this.scope,a);!1===a&&this.abort();return a}}),y=a.extend(G,{logger:q.create("AsyncObjectIterator"),
defaults:{timeout:0,itemsPerExecution:1},itemsPerExecution:null,timeout:null,allItems:null,constructor:function(a,b,c){y.superclass.constructor.call(this,null);var d=this.defaults;this.allItems=a;this.itemsPerExecution=this.isNonNegative(b)?b:d.itemsPerExecution;this.timeout=this.isNonNegative(c)?c:d.timeout},eachItem:function(a,b){a=new N(a,b);b=F.groupItems(this.allItems,this.itemsPerExecution);this.logger.isEnabled(5)&&this.logger.trace("iterating",{groupsCount:b.length,maxGroupSize:this.itemsPerExecution,
timeout:this.timeout});this.eachItemsGroup(a,b);return a.promise()},isNonNegative:function(a){return isFinite(a)&&0<=a},eachItemsGroup:function(a,b){if(!a.isAborted()&&0<b.length){this.logger.trace("iterating over group");var c=b.shift(),d=this;setTimeout(function(){d.items=c;y.superclass.eachItem.call(d,a.processItem,a).fail(e.proxy(a.reject,a));d.eachItemsGroup(a,b)},this.timeout)}else a.resolve()}});G=a.define({initializedSelector:".initialized",notInitializedSelector:":not(.initialized)",execute:function(a,
b){return null}});var D=a.extend(G,{logger:q.create("SelectElementsDefaultStrategy"),execute:function(a,b){this.logger.trace("executing");a=(b=this.createSelector(b))?A.find(a,b):null;this.logger.trace("executed");return a&&0<a.length?a:null},createSelector:function(a){var b=[];a=a.items;var c;for(c=0;c<a.length;c++){var d=a[c];d.selector&&this.processSelector(d.selector,b)}return b.join(",")},processSelector:function(a,b){var c=this.notInitializedSelector;a=a.split(",");var d;for(d=0;d<a.length;d++)b.push(a[d]+
c)}}),w=a.extend(G,{logger:q.create("SelectElementsPrefetchStrategy"),tagNamePattern:/^\w+/i,execute:function(a,b){this.logger.trace("executing");b=this.createSelectors(b);var c=null;b.prefetch&&(c=A.find(a,b.prefetch).not(this.initializedSelector));this.logger.trace("executed");return c&&0<c.length?c:null},createSelectors:function(a){var b=this.initializeSelectors();a=a.items;var c;for(c=0;c<a.length;c++){var d=a[c];d.selector&&this.processSelector(d.selector,b)}b.all=b.all.join(",");b.prefetch=
b.prefetch.join(",");return b},initializeSelectors:function(){return{all:[],prefetch:[],prefetchMap:{}}},processSelector:function(a,b){var c=this.tagNamePattern,d=a.split(","),f;b.all.push(a);for(f=0;f<d.length;f++){a=e.trim(d[f]);var g=(g=c.exec(a))&&g.length?g[0]:null;null!=g&&(a=g);this.addToPrefetched(b,a)}},addToPrefetched:function(a,b){a.prefetchMap[b]||(a.prefetch.push(b),a.prefetchMap[b]=!0)}}),x=a.extend(K,{relatedQueue:null,constructor:function(a){x.superclass.constructor.call(this);this.relatedQueue=
a||new K},process:function(a){var b=this.joinIndex(a);null!==b?this.join(a,b):x.superclass.process.call(this,a)},join:function(a,b){},joinIndex:function(a){a=null;0<this.tasks.length&&(a=this.relatedQueue.lastId(),a=null!==a?this.nextJoinIndex(a):0);return a},nextJoinIndex:function(a){var b=null,c=this.tasks,d;for(d=0;null!==b&&d<c.length;d++)c[d].id>a&&(b=d);return b}}),B=a.extend(u,{logger:q.create("FinalizeModulesTask"),maxGroupSize:50,$scope:null,$elements:null,modules:null,constructor:function(a,
b){B.superclass.constructor.call(this);this.modules=b;this.$scope=a},execute:function(){var a=this.logger,b=A.find(this.$scope,".initialized"),c=this.deferred;0<b.length?(a.info("executing",this.id),this.$elements=b,(new y(this.modules.map,this.maxGroupSize)).eachItem(this.itemProcessor,this).always(e.proxy(c.resolve,c))):(a.info("nothing to do",this.id),c.resolve())},itemProcessor:function(a){var b=this.$elements.filter(a.$elements);0<b.length&&(this.logger.trace("elements found",a.name,b.length),
this.$elements=this.$elements.not(b),a.$elements=a.$elements.not(b),this.finalizeElements(a,b));return 0<this.$elements.length},finalizeElements:function(a,b){var c;for(c=0;c<b.length;c++)a.finalize(b.eq(c))}}),da=a.extend(x,{logger:q.create("FinalizeModulesTaskQueue"),accepts:function(a){return a.$scope&&a.$scope.length},join:function(a,b){var c=this.tasks[b];c.$scope=c.$scope.add(a.$scope);this.logger.trace("join task",{source:a.id,target:c.id,targetIndex:b});a=a.deferred;c.promise.always(e.proxy(a.resolve,
a))}}),Ea=a.extend(u,{notInitializedSelector:":not(.initialized)",logger:q.create("InitModulesTask"),maxGroupSize:50,elementsStrategy:null,modules:null,moduleIds:null,targetModules:null,$scope:null,$elements:null,rejectDelegate:null,isPrefetchRequired:!1,constructor:function(a,c,d){Ea.superclass.constructor.call(this);if(this.isPrefetchRequired=!e.isFunction(b.getElementsByClassName))this.maxGroupSize=1;this.elementsStrategy=this.selectElementsStrategy();this.$scope=a;this.moduleIds=c?d.filterIds(c):
null;this.modules=d},selectElementsStrategy:function(){return this.isPrefetchRequired?new w:new D},processAllModules:function(){return null==this.moduleIds},execute:function(){var a=this.logger;this.targetModules=this.processAllModules()?this.modules:this.modules.select(this.moduleIds);0<this.targetModules.count()?(a.info("executing",this.id,{modulesCount:this.targetModules.count()}),this.$elements=this.elementsStrategy.execute(this.$scope,this.targetModules),this.rejectDelegate=e.proxy(this.deferred.reject,
this.deferred),this.executeBeforeInit()):(a.info("nothing to do",this.id),this.deferred.resolve())},executeBeforeInit:function(){this.logger.trace("executing beforeInit()",this.id);(new y(this.targetModules.map,this.maxGroupSize)).eachItem(this.beforeInitProcessor,this).done(e.proxy(this.executeInit,this)).fail(this.rejectDelegate)},executeInit:function(){this.logger.trace("executing init()",this.id);var a=this.deferred;(new y(this.targetModules.map,this.maxGroupSize)).eachItem(this.initProcessor,
this).done(e.proxy(a.resolve,a)).fail(this.rejectDelegate)},beforeInitProcessor:function(a){a.beforeInit()},initProcessor:function(a){var b=null;this.$elements&&a.selector&&(b=this.$elements.filter(a.selector).addClass("initialized"));a.init(b||e())}}),ca=a.extend(x,{logger:q.create("InitModulesTaskQueue"),accepts:function(a){return a.$scope&&a.$scope.length&&(a.moduleIds?0<a.moduleIds.length:!0)},join:function(a,b){var c=this.tasks[b];this.logger.trace("join task",{source:a.id,target:c.id,targetIndex:b});
this.joinTasks(c,a)},joinTasks:function(a,b){this.joinScopes(a,b);this.joinModules(a,b);b=b.deferred;a.promise.always(e.proxy(b.resolve,b))},joinScopes:function(a,b){A.isInScope(b.$scope,a.$scope)?a.$scope=b.$scope:a.$scope.is(b.$scope)||A.isInScope(a.$scope,b.$scope)||(a.$scope=a.$scope.add(b.$scope))},joinModules:function(a,b){!a.processAllModules()&&b.processAllModules()?a.moduleIds=null:a.processAllModules()||b.processAllModules()||(a.moduleIds=this.joinModuleIds(a.moduleIds,b.moduleIds))},joinModuleIds:function(a,
b){var c=a.length-b.length,d=0<=c?a:b;this.addModuleIds(0>=c?b:a,d);return d},addModuleIds:function(a,b){var c;for(c=0;c<a.length;c++)0>e.inArray(a[c],b)&&b.push(a[c])},joinIndex:function(a){var b=ca.superclass.joinIndex.call(this,a);return null!==b?this.findJoinIndex(a,b):null},findJoinIndex:function(a,b){for(var c=null,d=this.tasks;null===c&&b<d.length;b++)this.isTaskJoinable(d[b],a)&&(c=b);return c},anyProcessesAllModules:function(a,b){return b.processAllModules()||a.processAllModules()},isTaskJoinable:function(a,
b){var c=b.$scope.is(a.$scope);c||(c=b.processAllModules()&&a.processAllModules());c||this.anyProcessesAllModules(a,b)||(c=this.equalModuleIds(b.moduleIds,a.moduleIds));return c},equalModuleIds:function(a,b){var c=a.length==b.length,d;for(d=0;c&&d<a.length;d++)c=0<=e.inArray(a[d],b);return c}}),Z=a.define({defaults:{propertyName:"$scope",onUnregister:k,onRegister:function(a){return{$scope:a}},scope:null},components:null,config:null,constructor:function(a){a=a||{};this.components=[];this.config=e.extend(!0,
{},this.defaults,a);e.isFunction(this.config.onRegister)||(this.config.onRegister=this.defaults.onRegister)},register:function(a){var b=this.config.onRegister,c=this.config.scope,d;for(d=0;d<a.length;d++){var e=b.call(c,a.eq(d));this.components.push(e)}},unregister:function(a){a=this.indexOfComponent(a);if(0<=a){var b=this.components[a];this.components.splice(a,1);this.config.onUnregister.call(this.config.scope,b)}},indexOfComponent:function(a){var b=this.components,c=this.config.propertyName;null!=
b&&null!=c&&(b=this.selectProperty(c));return A.indexOfElement(b,a)},selectProperty:function(a){var b=this.components,c=[],d={},e;for(e=0;e<b.length;e++){var f=b[e]||d;(f=f[a])&&c.push(f)}return c}}),wa=a.define({name:null,api:null,sharedApi:null,externalApi:null,requires:null,constructor:function(a){this.name=a.name;this.api=a.api;this.sharedApi=a.sharedApi||null;this.externalApi=a.externalApi||{};this.requires=a.requires||d;this.processApi();this.updateRequiredModules()},init:function(){this.api.init()},
updateRequiredModules:function(){var a=this.requires,b;for(b=0;b<a.length;b++){var c=a[b];"string"===e.type(c)&&(a[b]={name:c})}},processApi:function(){this.api.init=this.processDelegate(this.api.init);this.api.external=this.externalApi},processDelegate:function(a){return this.isValidDelegate(a)?a:k},isValidDelegate:function(a){return e.isFunction(a)}}),W=a.extend(wa,{$elements:null,selector:null,hasFinalize:!1,constructor:function(a){W.superclass.constructor.call(this,a);this.beforeInit=a.api.beforeInit||
k;this.selector=a.selector||null;this.isFinalizable()&&(this.$elements=e())},init:function(a){this.isFinalizable()&&(this.$elements=this.$elements.add(a));this.api.init(a)},beforeInit:function(){this.api.beforeInit()},finalize:function(a){this.hasFinalize&&this.api.finalize(a)},isFinalizable:function(){return this.hasFinalize},processApi:function(){W.superclass.processApi.call(this);var a=this.api;a.beforeInit=this.processDelegate(a.beforeInit);this.hasFinalize=this.isValidDelegate(a.finalize)}}),
oa=a.extend(W,{componentManager:null,constructor:function(a){oa.superclass.constructor.call(this,a);this.componentManager=new Z({onRegister:this.onRegister,onUnregister:this.api.onUnregister,scope:this})},init:function(a){0<a.length&&this.componentManager.register(a);oa.superclass.init.call(this,a)},onRegister:function(a){a={$scope:a};this.api.onRegister(a);return a},finalize:function(a){oa.superclass.finalize.call(this,a);this.componentManager.unregister(a)},isFinalizable:function(){return!0},processApi:function(){oa.superclass.processApi.call(this);
this.api.onRegister=this.processDelegate(this.api.onRegister);this.api.onUnregister=this.processDelegate(this.api.onUnregister)}}),Ia=a.extend(p,{id:function(a){return a.name},dependencies:function(a){return a.requires},dependencyId:function(a){return a.name}}),sa=a.extend(u,{logger:q.create("InitStaticModuleTask"),maxGroupSize:50,moduleIds:null,modules:null,constructor:function(a,b){sa.superclass.constructor.call(this);this.modules=b;this.moduleIds=[];a&&this.moduleIds.push(a)},execute:function(){var a=
this.modules.selectValues(this.moduleIds);a=new y(a,this.maxGroupSize);this.logger.trace("executing",this.id,this.moduleIds);var b=this.deferred;a.eachItem(this.itemProcessor,this).always(e.proxy(b.resolve,b))},itemProcessor:function(a){a.init()}}),ja=a.extend(K,{logger:q.create("InitStaticModuleTaskQueue"),accepts:function(a){return a.moduleIds.length},process:function(a){0<this.tasks.length?this.join(a):ja.superclass.process.call(this,a)},join:function(a){var b=this.tasks[0];this.logger.trace("join task",
{source:a.id,target:b.id});var c=b.moduleIds;c.push.apply(c,a.moduleIds);a=a.deferred;b.promise.always(e.proxy(a.resolve,a))}});p=a.define({modules:null,constructor:function(){this.modules=new g},add:function(a){this.modules.add(a.name,a)}});var ma=a.extend(p,{taskRunner:null,taskQueue:null,constructor:function(a,b){ma.superclass.constructor.call(this);this.taskRunner=a;this.taskQueue=b},add:function(a){ma.superclass.add.call(this,a);this.taskQueue.add(new sa(a.name,this.modules));this.taskRunner.executeNext()}}),
ua=a.extend(p,{finalizableModules:null,constructor:function(){ua.superclass.constructor.call(this);this.finalizableModules=new g},add:function(a){ua.superclass.add.call(this,a);a.isFinalizable()&&this.finalizableModules.add(a.name,a)}}),Wa=a.extend(l,{events:null,constructor:function(){this.events={}},dispatcherFor:function(a,b){var c=null,d=this.events;a&&b&&((c=d[a])&&c[b]||this.addEvent(a,b),c=d[a][b]);return c},addEvent:function(a,b){var c=this.events;c[a]||(c[a]={});c=c[a];c[b]||(c[b]=new E(a,
b))}}),Xa=a.extend(h,{logger:q.create("ModuleManager"),dependencyGraph:null,modules:null,staticModuleRegistry:null,dynamicModuleRegistry:null,constructor:function(a,b){this.dependencyGraph=new z(new Ia);this.staticModuleRegistry=a;this.dynamicModuleRegistry=b;this.modules={}},add:function(a){var b=this.logger;b.trace("trying add module",a.name);this.dependencyGraph.hasNode(a)||(this.modules[a.name]=a,b.trace("module added",a.name),a=this.dependencyGraph.resolve(a),b.debug("resolved module id's",a),
null!=a&&this.initializeModules(a))},initializeModules:function(a){var b=this.modules,c,d;for(d=0;d<a.length;d++)(c=b[a[d]])&&this.initializeModule(c)},initializeModule:function(a){this.injectApi(a);(a instanceof W?this.dynamicModuleRegistry:this.staticModuleRegistry).add(a)},injectApi:function(a){var b=this.modules,c=a.requires,d;for(d=0;d<c.length;d++){var e=c[d];var f=b[e.name];e.apiId&&(a.externalApi[e.apiId]=f.sharedApi||null)}}}),lb=a.extend(c,{constructor:function(){this.initStaticModule=new ja;
this.initializeDynamicModuleQueues()},initializeDynamicModuleQueues:function(){var a=new J;this.initDynamicModules=new ca(a);var b=new J;this.finalizeDynamicModules=new da(b);a.addQueue(this.finalizeDynamicModules);b.addQueue(this.initDynamicModules)}}),ba=a.asSingleton(a.extend(m,{eventManager:null,taskQueues:null,taskRunner:null,moduleManager:null,dynamicModuleRegistry:null,ready:!1,constructor:function(){this.eventManager=new Wa;this.taskQueues=new lb;this.taskRunner=this.initializeTaskRunner();
this.moduleManager=this.initializeModuleManager();this.dynamicModuleRegistry=this.moduleManager.dynamicModuleRegistry;this.whenReady(e.proxy(this.onReady,this))},isValidModuleConfig:function(a){return a&&a.name&&a.api},addModule:function(a){this.moduleManager.add(a)},queueInitTask:function(a,b){a=new Ea(a,b,this.dynamicModuleRegistry.modules);this.taskQueues.initDynamicModules.add(a);this.taskRunner.executeNext();return a.promise},queueFinalizeTask:function(a){a=new B(a,this.dynamicModuleRegistry.finalizableModules);
this.taskQueues.finalizeDynamicModules.add(a);this.taskRunner.executeNext();return a.promise},whenReady:function(a){e(b).ready(a)},isReady:function(){return this.ready},onReady:function(){this.ready=!0},initializeTaskRunner:function(){var a=new v,b=this.taskQueues;a.addQueue(b.initStaticModule);var c=new J;c.addQueue(b.initDynamicModules);c.addQueue(b.finalizeDynamicModules);a.addQueue(c);return a},initializeModuleManager:function(){var a=new ma(this.taskRunner,this.taskQueues.initStaticModule),b=
new ua;return new Xa(a,b)}})).create().instance(),ta=q.create("CogJS",3);f.Type={define:a.define,extend:a.extend,asSingleton:a.asSingleton};f.registerStatic=function(a){ba.isValidModuleConfig(a)?ba.addModule(new wa(a)):ta.error("Invalid StaticModule config",a)};f.register=function(a){ba.isValidModuleConfig(a)?ba.addModule(new W(a)):ta.error("Invalid DynamicModule config",a)};f.registerComponent=function(a){ba.isValidModuleConfig(a)&&e.isFunction(a.api.onRegister)?ba.addModule(new oa(a)):ta.error("Invalid ComponentModule config",
a)};f.finalize=function(a){return ba.isReady()?ba.queueFinalizeTask(a||e("body")):null};f.init=function(a){function b(a){return e.isArray(a.modules)?a.modules:null}return function(a){var c=null;ba.isReady()&&(a&&a instanceof Cog.jQuery()&&(a={$element:a}),a=a||{},c=ba.queueInitTask(a.$element||e("body"),b(a)));return c}}();f.addListener=function(a,b,c,d){var f=e.isFunction(c)?ba.eventManager.dispatcherFor(a,b):null,g=null;null!=f?g=f.addHandler(c,d):ta.error("Invalid EventHandler config",arguments);
return g};f.removeListener=function(a){var b=!1;a&&(b=ba.eventManager.dispatcherFor(a.module,a.event),b=b.removeHandler(a.id));return b};f.fireEvent=function(a,b,c){a=ba.eventManager.dispatcherFor(a,b);null!=a&&a.dispatch(c)};f.fireEventAsync=function(a,b,c){a=ba.eventManager.dispatcherFor(a,b);null!=a&&a.dispatchAsync(c)};f.ready=function(a){ba.whenReady(a)};f.isInScope=function(a,b){return A.isInScope(a,b)};f.find=function(a,b){return A.find(a,b)};f.jQuery=function(){return e};f.logger=function(a,
b){var c=null;a&&(c=C.create(q.create(a,b),["error","debug","info"]));return c};f.Cookie={create:function(a,c,d){var e="";d&&(e=new Date,e.setTime(e.getTime()+864E5*d),e="; expires\x3d"+e.toGMTString());b.cookie=a+"\x3d"+c+e+"; path\x3d/"},read:function(a){a+="\x3d";var c=b.cookie.split(";"),d,e;for(e=0;e<c.length;e++){for(d=c[e];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null},erase:function(a){f.Cookie.create(a,"",-1)}};ba.whenReady(f.init);
return f}(document,jQuery.noConflict());
(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).enquire=b()})(function(){return function d(e,f,k){function a(h,c){if(!f[h]){if(!e[h]){var l="function"==typeof require&&require;if(!c&&l)return l(h,!0);if(m)return m(h,!0);c=Error("Cannot find module '"+h+"'");throw c.code="MODULE_NOT_FOUND",c;}c=f[h]={exports:{}};
e[h][0].call(c.exports,function(c){var d=e[h][1][c];return a(d?d:c)},c,c.exports,d,e,f,k)}return f[h].exports}for(var m="function"==typeof require&&require,l=0;l<k.length;l++)a(k[l]);return a}({1:[function(e,f,k){function d(a,d){this.query=a;this.isUnconditional=d;this.handlers=[];this.mql=window.matchMedia(a);var c=this;this.listener=function(a){c.mql=a.currentTarget||a;c.assess()};this.mql.addListener(this.listener)}var a=e(3),m=e(4).each;d.prototype={constuctor:d,addHandler:function(d){d=new a(d);
this.handlers.push(d);this.matches()&&d.on()},removeHandler:function(a){var d=this.handlers;m(d,function(c,e){if(c.equals(a))return c.destroy(),!d.splice(e,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){m(this.handlers,function(a){a.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";m(this.handlers,function(d){d[a]()})}};f.exports=d},{3:3,4:4}],2:[function(e,f,k){function d(){if(!window.matchMedia)throw Error("matchMedia not present, legacy browsers require a polyfill");
this.queries={};this.browserIsIncapable=!window.matchMedia("only all").matches}var a=e(1);e=e(4);var m=e.each,l=e.isFunction,h=e.isArray;d.prototype={constructor:d,register:function(c,d,e){var f=this.queries;e=e&&this.browserIsIncapable;f[c]||(f[c]=new a(c,e));l(d)&&(d={match:d});h(d)||(d=[d]);m(d,function(a){l(a)&&(a={match:a});f[c].addHandler(a)});return this},unregister:function(a,d){var c=this.queries[a];c&&(d?c.removeHandler(d):(c.clear(),delete this.queries[a]));return this}};f.exports=d},{1:1,
4:4}],3:[function(e,f,k){function d(a){this.options=a;!a.deferSetup&&this.setup()}d.prototype={constructor:d,setup:function(){this.options.setup&&this.options.setup();this.initialised=!0},on:function(){!this.initialised&&this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}};f.exports=d},{}],4:[function(e,
f,k){f.exports={isFunction:function(d){return"function"===typeof d},isArray:function(d){return"[object Array]"===Object.prototype.toString.apply(d)},each:function(d,a){var e=0,f=d.length;for(e;e<f;e++){var h=a(d[e],e);if(!1===h)break}}}},{}],5:[function(e,f,k){e=e(2);f.exports=new e},{2:2}]},{},[5])(5)});
var olapicRequireCheckoutScript=function(b){var e=function(){throw new URIError("Olapic checkout script could not be loaded");};return function(f,k){var d=document.createElement("script");d.type="text/javascript";d.src=f;d.async=!0;d.onerror=e;k&&(d.addEventListener?d.addEventListener("load",k,!1):d.readyState?d.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||k()}:d.attachEvent("load",k));b.appendChild(d)}}(document.head||document.getElementsByTagName("head")[0]);
function swipeDetector(b,e,f){var k,d,a,m,l,h,c,p=e||function(a){};b.addEventListener("touchstart",function(b){var e=b.changedTouches[0];k="none";d=e.pageX;a=e.pageY;c=(new Date).getTime();f&&b.preventDefault()},!1);b.addEventListener("touchmove",function(a){f&&a.preventDefault()},!1);b.addEventListener("touchend",function(b){var e=b.changedTouches[0];m=e.pageX-d;l=e.pageY-a;h=(new Date).getTime()-c;500>=h&&(50<=Math.abs(m)&&100>=Math.abs(l)?k=0>m?"left":"right":50<=Math.abs(l)&&100>=Math.abs(m)&&
(k=0>l?"up":"down"));p(k);f&&b.preventDefault()},!1)}
(function(){function b(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function e(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function f(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function k(a,b){return!(null==a||!a.length)&&-1<c(a,b,0)}function d(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,
a[d]))return!0;return!1}function a(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function l(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function h(a,b,c,d){var e=a.length;for(c+=d?1:-1;d?c--:++c<e;)if(b(a[c],c,a))return c;return-1}function c(a,b,c){if(b===b)a:{--c;for(var d=a.length;++c<d;)if(a[c]===b){a=c;break a}a=-1}else a=h(a,p,c);return a}function p(a){return a!==
a}function u(a){return function(b){return null==b?M:b[a]}}function q(a){return function(b){return a(b)}}function g(b,c){return a(c,function(a){return b[a]})}function A(a,b){return a.has(b)}function F(a){return"\\"+Jc[a]}function C(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function H(a,b){return function(c){return a(b(c))}}function z(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function t(){}function I(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<
c;){var d=a[b];this.set(d[0],d[1])}}function E(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function G(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function J(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new G;++b<c;)this.add(a[b])}function K(a){this.size=(this.__data__=new E(a)).size}function v(a,b){var c=ha(a),d=!c&&Rb(a),e=!c&&!d&&Bb(a),f=!c&&!d&&!e&&yc(a);if(c=c||d||e||f){d=a.length;for(var g=String,
h=-1,k=Array(d);++h<d;)k[h]=g(h);d=k}else d=[];g=d.length;for(var m in a)!b&&!qa.call(a,m)||c&&("length"==m||e&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||gb(m,g))||d.push(m);return d}function N(a,b,c){var d=a[b];qa.call(a,b)&&La(d,c)&&(c!==M||b in a)||x(a,b,c)}function y(a,b){for(var c=a.length;c--;)if(La(a[c][0],b))return c;return-1}function D(a,b){return a&&ra(b,Ca(b),a)}function w(a,b){return a&&ra(b,Sa(b),a)}function x(a,b,c){"__proto__"==b&&Wb?Wb(a,b,{configurable:!0,
enumerable:!0,value:c,writable:!0}):a[b]=c}function B(a,b,c,d,f,g){var h,k=b&1,m=b&2,l=b&4;c&&(h=f?c(a,d,f,g):c(a));if(h!==M)return h;if(!fa(a))return a;if(d=ha(a)){if(h=Oa(a),!k)return pa(a,h)}else{var p=za(a),O="[object Function]"==p||"[object GeneratorFunction]"==p;if(Bb(a))return la(a,k);if("[object Object]"==p||"[object Arguments]"==p||O&&!f){if(h=m||O?{}:Yb(a),!k)return m?nb(a,w(h,a)):Pb(a,D(h,a))}else{if(!T[p])return f?a:{};h=Zb(a,p,k)}}g||(g=new K);if(f=g.get(a))return f;g.set(a,h);if(Pc(a))return a.forEach(function(d){h.add(B(d,
b,c,d,a,g))}),h;if(Oc(a))return a.forEach(function(d,e){h.set(e,B(d,b,c,e,a,g))}),h;m=l?m?oc:n:m?Sa:Ca;var q=d?M:m(a);e(q||a,function(d,e){q&&(e=d,d=a[e]);N(h,e,B(d,b,c,e,a,g))});return h}function da(a,b,c){if("function"!=typeof a)throw new TypeError("Expected a function");return setTimeout(function(){a.apply(M,c)},b)}function Ea(a,b){var c=[];Rc(a,function(a,d,e){b(a,d,e)&&c.push(a)});return c}function ca(a,b,c,d,e){var f=-1,g=a.length;c||(c=$b);for(e||(e=[]);++f<g;){var h=a[f];0<b&&c(h)?1<b?ca(h,
b-1,c,d,e):m(e,h):d||(e[e.length]=h)}return e}function Z(a,b){b=P(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[ab(b[c++])];return c&&c==d?a:M}function wa(a,b,c){b=b(a);return ha(a)?b:m(b,c(a))}function W(a){if(null==a)return a===M?"[object Undefined]":"[object Null]";if(Za&&Za in Object(a)){var b=qa.call(a,Za),c=a[Za];try{a[Za]=M;var d=!0}catch(zc){}var e=Mc.call(a);d&&(b?a[Za]=c:delete a[Za]);a=e}else a=Mc.call(a);return a}function oa(a){return X(a)&&"[object Arguments]"==W(a)}function Ia(a){return X(a)&&
"[object Date]"==W(a)}function sa(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!X(a)&&!X(b))return a!==a&&b!==b;a:{var f=ha(a),g=ha(b),h=f?"[object Array]":za(a),k=g?"[object Array]":za(b);h="[object Arguments]"==h?"[object Object]":h;k="[object Arguments]"==k?"[object Object]":k;var m="[object Object]"==h;g="[object Object]"==k;if((k=h==k)&&Bb(a)){if(!Bb(b)){b=!1;break a}f=!0;m=!1}if(k&&!m)e||(e=new K),b=f||yc(a)?Qb(a,b,c,d,sa,e):U(a,b,h,c,d,sa,e);else{if(!(c&1)&&(f=m&&qa.call(a,"__wrapped__"),
h=g&&qa.call(b,"__wrapped__"),f||h)){a=f?a.value():a;b=h?b.value():b;e||(e=new K);b=sa(a,b,c,d,e);break a}if(k)b:if(e||(e=new K),f=c&1,h=n(a),g=h.length,k=n(b).length,g==k||f){for(m=g;m--;){var l=h[m];if(!(f?l in b:qa.call(b,l))){b=!1;break b}}if((k=e.get(a))&&e.get(b))b=k==b;else{k=!0;e.set(a,b);e.set(b,a);for(var p=f;++m<g;){l=h[m];var O=a[l],q=b[l];if(d)var u=f?d(q,O,l,b,a,e):d(O,q,l,a,b,e);if(u===M?O!==q&&!sa(O,q,c,d,e):!u){k=!1;break}p||(p="constructor"==l)}k&&!p&&(c=a.constructor,d=b.constructor,
c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(k=!1));e["delete"](a);e["delete"](b);b=k}}else b=!1;else b=!1}}return b}function ja(a){return X(a)&&"[object Map]"==za(a)}function ma(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var k=h[0],m=a[k],l=h[1];if(g&&h[2]){if(m===M&&!(k in a))return!1}else{h=new K;if(d)var p=
d(m,l,k,a,b,h);if(p===M?!sa(l,m,3,d,h):!p)return!1}}return!0}function ua(a){return X(a)&&"[object Set]"==za(a)}function Wa(a){return X(a)&&bb(a.length)&&!!V[W(a)]}function Xa(a){return"function"==typeof a?a:null==a?Va:"object"==typeof a?ha(a)?ba(a[0],a[1]):lb(a):Ta(a)}function lb(a){var b=pc(a);return 1==b.length&&b[0][2]?bc(b[0][0],b[0][1]):function(c){return c===a||ma(c,a,b)}}function ba(a,b){return Cb(a)&&b===b&&!fa(b)?bc(ab(a),b):function(c){var d=Eb(c,a);return d===M&&d===b?cc(c,a):sa(b,d,3)}}
function ta(a){return function(b){return Z(b,a)}}function L(a,b){return id(na(a,b,Va),a+"")}function R(b){if("string"==typeof b)return b;if(ha(b))return a(b,R)+"";if(aa(b))return Nc?Nc.call(b):"";var c=b+"";return"0"==c&&1/b==-db?"-0":c}function P(a,b){return ha(a)?a:Cb(a,b)?[a]:jd(cb(a))}function la(a,b){if(b)return a.slice();b=a.length;b=Qc?Qc(b):new a.constructor(b);a.copy(b);return b}function ya(a){var b=new a.constructor(a.byteLength);(new Ub(b)).set(new Ub(a));return b}function pa(a,b){var c=
-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function ra(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],k=d?d(c[h],a[h],h,c,a):M;k===M&&(k=a[h]);e?x(c,h,k):N(c,h,k)}return c}function Pb(a,b){return ra(a,xc(a),b)}function nb(a,b){return ra(a,Uc(a),b)}function vb(a,b,c,d){return a===M||La(a,Ka[c])&&!qa.call(d,c)?b:a}function Qb(a,b,c,d,e,f){var g=c&1,h=a.length,k=b.length;if(h!=k&&!(g&&k>h))return!1;if((k=f.get(a))&&f.get(b))return k==b;k=-1;var m=!0,p=c&2?new J:
M;f.set(a,b);for(f.set(b,a);++k<h;){var n=a[k],q=b[k];if(d)var O=g?d(q,n,k,b,a,f):d(n,q,k,a,b,f);if(O!==M){if(O)continue;m=!1;break}if(p){if(!l(b,function(a,b){if(!p.has(b)&&(n===a||e(n,a,c,d,f)))return p.push(b)})){m=!1;break}}else if(n!==q&&!e(n,q,c,d,f)){m=!1;break}}f["delete"](a);f["delete"](b);return m}function U(a,b,c,d,e,f,g){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=
b.byteLength||!f(new Ub(a),new Ub(b)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return La(+a,+b);case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var h=C;case "[object Set]":h||(h=z);if(a.size!=b.size&&!(d&1))break;if(c=g.get(a))return c==b;d|=2;g.set(a,b);b=Qb(h(a),h(b),d,e,f,g);g["delete"](a);return b;case "[object Symbol]":if(Ab)return Ab.call(a)==Ab.call(b)}return!1}
function n(a){return wa(a,Ca,xc)}function oc(a){return wa(a,Sa,Uc)}function Ya(){var a=t.iteratee||Ua;a=a===Ua?Xa:a;return arguments.length?a(arguments[0],arguments[1]):a}function ob(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function pc(a){for(var b=Ca(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!fa(e)]}return b}function ka(a,b){a=null==a?M:a[b];b=!fa(a)||Lc&&Lc in a?
!1:(Ma(a)?mc:gc).test(Aa(a));return b?a:M}function Oa(a){var b=a.length,c=new a.constructor(b);b&&"string"==typeof a[0]&&qa.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function Yb(a){return"function"!=typeof a.constructor||Db(a)?{}:gd(vc(a))}function Zb(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return ya(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object DataView]":return b=c?ya(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,
a.byteLength);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return b=c?ya(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,a.length);case "[object Map]":return new d;case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return b=new a.constructor(a.source,fc.exec(a)),
b.lastIndex=a.lastIndex,b;case "[object Set]":return new d;case "[object Symbol]":return Ab?Object(Ab.call(a)):{}}}function $b(a){return ha(a)||Rb(a)||!!(pb&&a&&a[pb])}function gb(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&Gc.test(a))&&-1<a&&0==a%1&&a<b}function ac(a,b,c){if(!fa(c))return!1;var d=typeof b;return("number"==d?Ba(c)&&gb(b,c.length):"string"==d&&b in c)?La(c[b],a):!1}function Cb(a,b){if(ha(a))return!1;var c=typeof a;return"number"==c||"symbol"==
c||"boolean"==c||null==a||aa(a)?!0:Cc.test(a)||!Bc.test(a)||null!=b&&a in Object(b)}function Db(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Ka)}function bc(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==M||a in Object(c))}}function na(a,c,d){c=wb(c===M?a.length-1:c,0);return function(){for(var e=arguments,f=-1,g=wb(e.length-c,0),h=Array(g);++f<g;)h[f]=e[c+f];f=-1;for(g=Array(c+1);++f<c;)g[f]=e[f];g[c]=d(h);return b(a,this,g)}}function ab(a){if("string"==typeof a||
aa(a))return a;var b=a+"";return"0"==b&&1/a==-db?"-0":b}function Aa(a){if(null!=a){try{return ib.call(a)}catch(Ja){}return a+""}return""}function va(a,b,c){var d=null==a?0:a.length;if(!d)return-1;c=null==c?0:Ga(c);0>c&&(c=wb(d+c,0));return h(a,Ya(b,3),c)}function Pa(a){var b=null==a?0:a.length;return b?a[b-1]:M}function Q(a,b){return(ha(a)?e:Rc)(a,Ya(b,3))}function ea(a,b,c){function d(b){var c=k,d=m;k=m=M;q=b;return l=a.apply(d,c)}function e(a){var c=a-n;a-=q;return n===M||c>=b||0>c||O&&a>=w}function f(){var a=
Xb();if(e(a))return g(a);var c=setTimeout;var d=a-q;a=b-(a-n);d=O?bd(a,w-d):a;p=c(f,d)}function g(a){p=M;if(A&&k)return d(a);k=m=M;return l}function h(){var a=Xb(),c=e(a);k=arguments;m=this;n=a;if(c){if(p===M)return q=a=n,p=setTimeout(f,b),u?d(a):l;if(O)return p=setTimeout(f,b),d(n)}p===M&&(p=setTimeout(f,b));return l}var k,m,l,p,n,q=0,u=!1,O=!1,A=!0;if("function"!=typeof a)throw new TypeError("Expected a function");b=qb(b)||0;if(fa(c)){u=!!c.leading;var w=(O="maxWait"in c)?wb(qb(c.maxWait)||0,b):
w;A="trailing"in c?!!c.trailing:A}h.cancel=function(){p!==M&&clearTimeout(p);q=0;k=n=m=p=M};h.flush=function(){return p===M?l:g(Xb())};return h}function hb(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d)||f;return d};c.cache=new (hb.Cache||G);return c}function La(a,b){return a===b||a!==a&&b!==b}function Ba(a){return null!=
a&&bb(a.length)&&!Ma(a)}function Fa(a){return X(a)&&Ba(a)}function xa(a){if(!X(a))return!1;var b=W(a);return"[object Error]"==b||"[object DOMException]"==b||"string"==typeof a.message&&"string"==typeof a.name&&!sb(a)}function Ma(a){if(!fa(a))return!1;a=W(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function bb(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function fa(a){var b=typeof a;return null!=a&&("object"==
b||"function"==b)}function X(a){return null!=a&&"object"==typeof a}function sb(a){if(!X(a)||"[object Object]"!=W(a))return!1;a=vc(a);if(null===a)return!0;a=qa.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&ib.call(a)==Wc}function tb(a){return"string"==typeof a||!ha(a)&&X(a)&&"[object String]"==W(a)}function aa(a){return"symbol"==typeof a||X(a)&&"[object Symbol]"==W(a)}function Kb(a){if(!a)return 0===a?a:0;a=qb(a);return a===db||a===-db?1.7976931348623157E308*(0>a?
-1:1):a===a?a:0}function Ga(a){a=Kb(a);var b=a%1;return a===a?b?a-b:a:0}function qb(a){if("number"==typeof a)return a;if(aa(a))return ub;fa(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=fa(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Ec,"");var b=nc.test(a);return b||Fc.test(a)?hc(a.slice(2),b?2:8):Hb.test(a)?ub:+a}function cb(a){return null==a?"":R(a)}function Eb(a,b,c){a=null==a?M:Z(a,b);return a===M?c:a}function cc(a,b){var c;if(c=null!=a){b=P(b,a);c=-1;for(var d=b.length,
e=!1;++c<d;){var f=ab(b[c]);if(!(e=null!=a&&null!=a&&f in Object(a)))break;a=a[f]}e||++c!=d?c=e:(d=null==a?0:a.length,c=!!d&&bb(d)&&gb(f,d)&&(ha(a)||Rb(a)))}return c}function Ca(a){if(Ba(a))a=v(a);else if(Db(a)){var b=[],c;for(c in Object(a))qa.call(a,c)&&"constructor"!=c&&b.push(c);a=b}else a=Xc(a);return a}function Sa(a){if(Ba(a))a=v(a,!0);else if(fa(a)){var b=Db(a),c=[];for(d in a)("constructor"!=d||!b&&qa.call(a,d))&&c.push(d);a=c}else{var d=[];if(null!=a)for(b in Object(a))d.push(b);a=d}return a}
function Lb(a){return null==a?[]:g(a,Ca(a))}function Nb(a){return function(){return a}}function Va(a){return a}function Ua(a){return Xa("function"==typeof a?a:B(a,1))}function Ta(a){return Cb(a)?u(ab(a)):ta(a)}function Fb(){return[]}function Gb(){return!1}var M,db=1/0,ub=0/0,Ob=/\b__p \+= '';/g,Na=/\b(__p \+=) '' \+/g,kb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dc=/[&<>"']/g,Ac=RegExp(dc.source),Qa=/<%=([\s\S]+?)%>/g,Bc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cc=/^\w*$/,Dc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
Ec=/^\s+|\s+$/g,ec=/\\(\\)?/g,eb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fc=/\w*$/,Hb=/^[-+]0x[0-9a-f]+$/i,nc=/^0b[01]+$/i,gc=/^\[object .+?Constructor\]$/,Fc=/^0o[0-7]+$/i,Gc=/^(?:0|[1-9]\d*)$/,rb=/($^)/,Hc=/['\n\r\u2028\u2029\\]/g,Ic=-1,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0;V["[object Arguments]"]=
V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=
T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0;T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1;var Jc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hc=parseInt,mb="object"==typeof global&&global&&global.Object===
Object&&global,ic="object"==typeof self&&self&&self.Object===Object&&self,ia=mb||ic||Function("return this")(),Ib="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ha=Ib&&"object"==typeof module&&module&&!module.nodeType&&module,Jb=Ha&&Ha.exports===Ib,fb=Jb&&mb.process;a:{try{var Da=fb&&fb.binding&&fb.binding("util");break a}catch(O){}Da=void 0}var jc=Da&&Da.isDate,r=Da&&Da.isMap,Ra=Da&&Da.isSet,kc=Da&&Da.isTypedArray,Vc=function(a){return function(b){return null==a?M:a[b]}}({"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),Kc=Array.prototype,Ka=Object.prototype,lc=ia["__core-js_shared__"],ib=Function.prototype.toString,qa=Ka.hasOwnProperty,Lc=function(){var a=/[^.]+$/.exec(lc&&lc.keys&&lc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Mc=Ka.toString,Wc=ib.call(Object),mc=RegExp("^"+ib.call(qa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mb=Jb?ia.Buffer:M,jb=ia.Symbol,Ub=
ia.Uint8Array,Qc=Mb?Mb.allocUnsafe:M,vc=H(Object.getPrototypeOf,Object),yb=Object.create,Sc=Ka.propertyIsEnumerable,Tc=Kc.splice,pb=jb?jb.isConcatSpreadable:M,Za=jb?jb.toStringTag:M,Wb=function(){try{var a=ka(Object,"defineProperty");a({},"",{});return a}catch(Ja){}}(),rc=Object.getOwnPropertySymbols,ad=Mb?Mb.isBuffer:M,Xc=H(Object.keys,Object),wb=Math.max,bd=Math.min,cd=Date.now,sc=ka(ia,"DataView"),xb=ka(ia,"Map"),qc=ka(ia,"Promise"),uc=ka(ia,"Set"),tc=ka(ia,"WeakMap"),zb=ka(Object,"create"),dd=
Aa(sc),Yc=Aa(xb),ed=Aa(qc),wc=Aa(uc),fd=Aa(tc),Vb=jb?jb.prototype:M,Ab=Vb?Vb.valueOf:M,Nc=Vb?Vb.toString:M,gd=function(){function a(){}return function(b){if(!fa(b))return{};if(yb)return yb(b);a.prototype=b;b=new a;a.prototype=M;return b}}();t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Qa,variable:"",imports:{_:t}};I.prototype.clear=function(){this.__data__=zb?zb(null):{};this.size=0};I.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=
a?1:0;return a};I.prototype.get=function(a){var b=this.__data__;return zb?(a=b[a],"__lodash_hash_undefined__"===a?M:a):qa.call(b,a)?b[a]:M};I.prototype.has=function(a){var b=this.__data__;return zb?b[a]!==M:qa.call(b,a)};I.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=zb&&b===M?"__lodash_hash_undefined__":b;return this};E.prototype.clear=function(){this.__data__=[];this.size=0};E.prototype["delete"]=function(a){var b=this.__data__;a=y(b,a);if(0>a)return!1;a==b.length-
1?b.pop():Tc.call(b,a,1);--this.size;return!0};E.prototype.get=function(a){var b=this.__data__;a=y(b,a);return 0>a?M:b[a][1]};E.prototype.has=function(a){return-1<y(this.__data__,a)};E.prototype.set=function(a,b){var c=this.__data__,d=y(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};G.prototype.clear=function(){this.size=0;this.__data__={hash:new I,map:new (xb||E),string:new I}};G.prototype["delete"]=function(a){a=ob(this,a)["delete"](a);this.size-=a?1:0;return a};G.prototype.get=function(a){return ob(this,
a).get(a)};G.prototype.has=function(a){return ob(this,a).has(a)};G.prototype.set=function(a,b){var c=ob(this,a),d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};J.prototype.add=J.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};J.prototype.has=function(a){return this.__data__.has(a)};K.prototype.clear=function(){this.__data__=new E;this.size=0};K.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};K.prototype.get=
function(a){return this.__data__.get(a)};K.prototype.has=function(a){return this.__data__.has(a)};K.prototype.set=function(a,b){var c=this.__data__;if(c instanceof E){var d=c.__data__;if(!xb||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new G(d)}c.set(a,b);this.size=c.size;return this};var Rc=function(a,b){return function(c,d){if(null==c)return c;if(!Ba(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}(function(a,b){return a&&
hd(a,b,Ca)}),hd=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}(),$c=Wb?function(a,b){return Wb(a,"toString",{configurable:!0,enumerable:!1,value:Nb(b),writable:!0})}:Va,xc=rc?function(a){if(null==a)return[];a=Object(a);return f(rc(a),function(b){return Sc.call(a,b)})}:Fb,Uc=rc?function(a){for(var b=[];a;)m(b,xc(a)),a=vc(a);return b}:Fb,za=W;if(sc&&"[object DataView]"!=za(new sc(new ArrayBuffer(1)))||xb&&
"[object Map]"!=za(new xb)||qc&&"[object Promise]"!=za(qc.resolve())||uc&&"[object Set]"!=za(new uc)||tc&&"[object WeakMap]"!=za(new tc))za=function(a){var b=W(a);if(a=(a="[object Object]"==b?a.constructor:M)?Aa(a):"")switch(a){case dd:return"[object DataView]";case Yc:return"[object Map]";case ed:return"[object Promise]";case wc:return"[object Set]";case fd:return"[object WeakMap]"}return b};var id=function(a){var b=0,c=0;return function(){var d=cd(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=
0;return a.apply(M,arguments)}}($c),jd=function(a){a=hb(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];46===a.charCodeAt(0)&&b.push("");a.replace(Dc,function(a,c,d,e){b.push(d?e.replace(ec,"$1"):c||a)});return b}),kd=L(function(b,c){var e=Pa(c);Fa(e)&&(e=M);if(Fa(b)){c=ca(c,1,Fa,!0);var f=M,g=-1,h=k,m=!0,l=b.length,p=[],n=c.length;if(l)b:for(f&&(c=a(c,q(f))),e?(h=d,m=!1):200<=c.length&&(h=A,m=!1,c=new J(c));++g<l;){var u=b[g],w=null==f?u:f(u);u=e||0!==
u?u:0;if(m&&w===w){for(var t=n;t--;)if(c[t]===w)continue b;p.push(u)}else h(c,w,e)||p.push(u)}b=p}else b=[];return b}),ld=function(a){return function(b,c,d){var e=Object(b);if(!Ba(b)){var f=Ya(c,3);b=Ca(b);c=function(a){return f(e[a],a,e)}}c=a(b,c,d);return-1<c?e[f?b[c]:c]:M}}(va),Xb=function(){return ia.Date.now()},md=L(function(a,b){return da(a,1,b)});hb.Cache=G;var Rb=oa(function(){return arguments}())?oa:function(a){return X(a)&&qa.call(a,"callee")&&!Sc.call(a,"callee")},ha=Array.isArray,Bb=ad||
Gb,nd=jc?q(jc):Ia,Oc=r?q(r):ja,Pc=Ra?q(Ra):ua,yc=kc?q(kc):Wa,Tb=function(a){return L(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:M,g=2<e?c[2]:M;f=3<a.length&&"function"==typeof f?(e--,f):M;g&&ac(c[0],c[1],g)&&(f=3>e?M:f,e=1);for(b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}(function(a,b,c,d){ra(b,Sa(b),a,d)}),Y=L(function(a,c){try{return b(a,M,c)}catch($a){return xa($a)?$a:Error($a)}});t.assignInWith=Tb;t.constant=Nb;t.debounce=ea;t.defer=md;t.differenceWith=kd;t.filter=function(a,b){return(ha(a)?
f:Ea)(a,Ya(b,3))};t.iteratee=Ua;t.keys=Ca;t.keysIn=Sa;t.memoize=hb;t.property=Ta;t.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=Ya(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}b=a?e.length:0;for(d=b-1;b--;)if(f=e[b],b==d||f!==h){var h=f;if(gb(f))Tc.call(a,f,1);else{g=a;f=P(f,g);if(!(2>f.length)){var k=f,m=0,l=-1,p=-1,n=k.length;0>m&&(m=-m>n?0:n+m);l=l>n?n:l;0>l&&(l+=n);n=m>l?0:l-m>>>0;m>>>=0;for(l=Array(n);++p<n;)l[p]=k[p+m];g=Z(g,l)}null==g||delete g[ab(Pa(f))]}}return c};
t.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new TypeError("Expected a function");fa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return ea(a,b,{leading:d,maxWait:b,trailing:e})};t.values=Lb;t.extendWith=Tb;t.attempt=Y;t.eq=La;t.escape=function(a){return(a=cb(a))&&Ac.test(a)?a.replace(dc,Vc):a};t.find=ld;t.findIndex=va;t.forEach=Q;t.get=Eb;t.hasIn=cc;t.identity=Va;t.includes=function(a,b,d,e){a=Ba(a)?a:Lb(a);d=d&&!e?Ga(d):0;e=a.length;0>d&&(d=wb(e+
d,0));return tb(a)?d<=e&&-1<a.indexOf(b,d):!!e&&-1<c(a,b,d)};t.isArguments=Rb;t.isArray=ha;t.isArrayLike=Ba;t.isArrayLikeObject=Fa;t.isBuffer=Bb;t.isDate=nd;t.isEqual=function(a,b){return sa(a,b)};t.isError=xa;t.isFunction=Ma;t.isInteger=function(a){return"number"==typeof a&&a==Ga(a)};t.isLength=bb;t.isMap=Oc;t.isObject=fa;t.isObjectLike=X;t.isPlainObject=sb;t.isSet=Pc;t.isString=tb;t.isSymbol=aa;t.isTypedArray=yc;t.last=Pa;t.stubArray=Fb;t.stubFalse=Gb;t.now=Xb;t.startsWith=function(a,b,c){a=cb(a);
if(null==c)c=0;else{c=Ga(c);var d=a.length;c===c&&(d!==M&&(c=c<=d?c:d),0!==M&&(c=0<=c?c:0))}b=R(b);return a.slice(c,c+b.length)==b};t.template=function(a,b,c){var d=t.templateSettings;c&&ac(a,b,c)&&(b=M);a=cb(a);b=Tb({},b,d,vb);c=Tb({},b.imports,d.imports,vb);var e=Ca(c),f=g(c,e),h,k,m=0;c=b.interpolate||rb;var l="__p +\x3d '";c=RegExp((b.escape||rb).source+"|"+c.source+"|"+(c===Qa?eb:rb).source+"|"+(b.evaluate||rb).source+"|$","g");var p="//# sourceURL\x3d"+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+
++Ic+"]")+"\n";a.replace(c,function(b,c,d,e,f,g){d||(d=e);l+=a.slice(m,g).replace(Hc,F);c&&(h=!0,l+="' +\n__e("+c+") +\n'");f&&(k=!0,l+="';\n"+f+";\n__p +\x3d '");d&&(l+="' +\n((__t \x3d ("+d+")) \x3d\x3d null ? '' : __t) +\n'");m=g+b.length;return b});l+="';\n";(b=b.variable)||(l="with (obj) {\n"+l+"\n}\n");l=(k?l.replace(Ob,""):l).replace(Na,"$1").replace(kb,"$1;");l="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(h?", __e \x3d _.escape":"")+(k?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":
";\n")+l+"return __p\n}";b=Y(function(){return Function(e,p+"return "+l).apply(M,f)});b.source=l;if(xa(b))throw b;return b};t.toFinite=Kb;t.toInteger=Ga;t.toNumber=qb;t.toString=cb;t.each=Q;t.VERSION="4.17.5";"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ia._=t,define(function(){return t})):Ha?((Ha.exports=t)._=t,Ib._=t):ia._=t}).call(this);
var cssua=function(b,e,f){var k=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,d=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,a=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,m=/\bsilk-accelerated=true\b/,l=/\bfluidapp\b/,h=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,c=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,
p=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,u={parse:function(b,e){var f={};e&&(f.standalone=e);b=(""+b).toLowerCase();if(!b)return f;for(var g,q=b.split(/[()]/),u=0,z=q.length;u<z;u++)if(u%2){var t=q[u].split(";");e=0;for(g=t.length;e<g;e++)if(k.exec(t[e])){var I=RegExp.$1.split(" ").join("_"),E=RegExp.$2;if(!f[I]||parseFloat(f[I])<parseFloat(E))f[I]=E}}else if(t=q[u].match(d))for(e=0,g=t.length;e<g;e++)I=t[e].split(/[\/\s]+/),I.length&&"mozilla"!==I[0]&&(f[I[0].split(" ").join("_")]=I.slice(1).join("-"));
c.exec(b)?(f.mobile=RegExp.$1,a.exec(b)&&(delete f[f.mobile],f.blackberry=f.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?f.mobile="blackberry":"0.0.1"===f.version&&(f.blackberry="7.1.0.0"))):p.exec(b)?(f.game=RegExp.$1,e=f.game.split(" ").join("_"),f.version&&!f[e]&&(f[e]=f.version)):h.exec(b)&&(f.desktop=RegExp.$1);f.intel_mac_os_x?(f.mac_os_x=f.intel_mac_os_x.split("_").join("."),delete f.intel_mac_os_x):f.cpu_iphone_os?(f.ios=f.cpu_iphone_os.split("_").join("."),delete f.cpu_iphone_os):f.cpu_os?
(f.ios=f.cpu_os.split("_").join("."),delete f.cpu_os):"iphone"!==f.mobile||f.ios||(f.ios="1");f.opera&&f.version?(f.opera=f.version,delete f.blackberry):m.exec(b)?f.silk_accelerated=!0:l.exec(b)&&(f.fluidapp=f.version);f.edge&&(delete f.applewebkit,delete f.safari,delete f.chrome,delete f.android);if(f.applewebkit)f.webkit=f.applewebkit,delete f.applewebkit,f.opr&&(f.opera=f.opr,delete f.opr,delete f.chrome),f.safari&&(f.chrome||f.crios||f.fxios||f.opera||f.silk||f.fluidapp||f.phantomjs||f.mobile&&
!f.ios?(delete f.safari,f.vivaldi&&delete f.chrome):f.safari=f.version&&!f.rim_tablet_os?f.version:{419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(f.safari,10)]||f.safari);else if(f.msie||f.trident)if(f.opera||(f.ie=f.msie||f.rv),delete f.msie,delete f.android,f.windows_phone_os)f.windows_phone=f.windows_phone_os,delete f.windows_phone_os;else{if("wpdesktop"===f.mobile||"xblwp7"===f.mobile||"zunewp7"===f.mobile)f.mobile="windows desktop",f.windows_phone=9>+f.ie?
"7.0":10>+f.ie?"7.5":"8.0",delete f.windows_nt}else if(f.gecko||f.firefox)f.gecko=f.rv;f.rv&&delete f.rv;f.version&&delete f.version;return f},format:function(a){var b="",c;for(c in a)if(c&&a.hasOwnProperty(c)){var d=c,e=a[c];d=d.split(".").join("-");var f=" ua-"+d;if("string"===typeof e){e=e.split(" ").join("_").split(".").join("-");for(var h=e.indexOf("-");0<h;)f+=" ua-"+d+"-"+e.substring(0,h),h=e.indexOf("-",h+1);f+=" ua-"+d+"-"+e}b+=f}return b},encode:function(a){var b="",c;for(c in a)c&&a.hasOwnProperty(c)&&
(b&&(b+="\x26"),b+=encodeURIComponent(c)+"\x3d"+encodeURIComponent(a[c]));return b}};u.userAgent=u.ua=u.parse(e,f);e=u.format(u.ua)+" js";b.className=b.className?b.className.replace(/\bno-js\b/g,"")+e:e.substr(1);return u}(document.documentElement,navigator.userAgent,navigator.standalone);
(function(b){b.forEach(function(b){b.hasOwnProperty("remove")||Object.defineProperty(b,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);Array.prototype.includes||(Array.prototype.includes=function(b,e){var f=Object(this),k=parseInt(f.length)||0;if(0===k)return!1;e=parseInt(e)||0;0<=e||(e=k+e,0>e&&(e=0));for(var d;e<k;){d=f[e];if(b===d||b!==b&&d!==d)return!0;e++}return!1});
(function(b,e){Cog.registerStatic({name:"utils.objectFit",api:{},sharedApi:{isSupported:e.objectfit,polyfill:function(e,k){this.isSupported||e.find(k).each(function(d,a){d=b(a);(a=d.find("img").prop("src"))&&d.css({backgroundImage:"url("+a+")"}).addClass("object-fit-polyfill")})}}})})(Cog.jQuery(),Modernizr);String.prototype.includes||(String.prototype.includes=function(b,e){"number"!==typeof e&&(e=0);return e+b.length>this.length?!1:-1!==this.indexOf(b,e)});
(function(){var b=navigator.userAgent;b=b.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];b=e[1]||"";e=e[2]||"0";var f={};b&&(f[b]=!0,f.version=e);f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0);Cog.registerStatic({name:"utils.browser",sharedApi:f,api:{}})})();
(function(b){Cog.registerStatic({name:"utils.geolocation",api:{init:function(){var e=b("meta[name\x3d'market']").attr("content"),f=b("meta[name\x3d'language']").attr("content");e&&Cog.Cookie.create("country",e);f&&Cog.Cookie.create("language",f)}},sharedApi:{}})})(Cog.jQuery());(function(){Cog.registerStatic({name:"utils.touchCheck",api:{},sharedApi:{isTouch:function(){return void 0!==navigator.maxTouchPoints?0<navigator.maxTouchPoints:"ontouchstart"in window}}})})();
(function(){var b={PROVIDERS:{GOOGLE_CAPTCHA:"GOOGLE_CAPTCHA",DEEP_BLUE_CAPTCHA:"DEEP_BLUE_CAPTCHA",NONE:"NONE"}},e,f,k=b.PROVIDERS.NONE;b.getCaptcha=function(d){k===b.PROVIDERS.NONE&&(k=b.determineProvider(d));switch(k){case b.PROVIDERS.GOOGLE_CAPTCHA:var a=f;break;case b.PROVIDERS.DEEP_BLUE_CAPTCHA:a=e}return a};b.getProvider=function(){return b.isGoogleCaptcha()?b.PROVIDERS.GOOGLE_CAPTCHA:b.isDeepblueCaptcha()?b.PROVIDERS.DEEP_BLUE_CAPTCHA:b.PROVIDERS.NONE};b.determineProvider=function(d){e=d.find(".deepblue-captcha");
f=d.find(".g-recaptcha");return b.getProvider()};b.isGoogleCaptcha=function(){return"undefined"!==typeof f&&f.length};b.isDeepblueCaptcha=function(){return"undefined"!==typeof e&&e.length};Cog.registerStatic({name:"utils.captchaProvider",api:{},sharedApi:b})})();
(function(b){function e(){f.markup.addClass("collapsed");Cog.Cookie.create("cookiePolicy",!0,30)}var f={init:function(k){var d=Cog.Cookie.read("cookiePolicy");f.markup=b(k);!d&&f.markup.length&&(f.markup.removeClass("collapsed"),f.markup.find(".cookiePolicy-accept").click(e))}};Cog.register({name:"cookiePolicy",api:f,selector:".cookiePolicy"})})(Cog.jQuery());
(function(){var b={},e={},f={ALL:"all",ALL_ACCEPTED:"all_accepted",NONE:"none",REFUSED:"refused",SOME:"some"},k="",d="";b.init=function(){document.addEventListener("consent",function(a){k=d;d=a.detail.status;k!==f.NONE&&k!==f.REFUSED||d!==f.ALL_ACCEPTED||window.location.reload();Cog.fireEvent("utils.cookieq","statusChanged")})};e.getStatus=function(){return{previous:k,current:d}};e.getAvailableStatuses=function(){return f};Cog.registerStatic({name:"utils.cookieq",api:b,sharedApi:e})})();
(function(){Cog.registerStatic({name:"utils.compose",api:{},sharedApi:function(){var b=[].slice.call(arguments);return function(e){return b.reduceRight(function(b,e){return e(b)},e)}}})})();
(function(b){function e(b){return b.offsetHeight/b.offsetWidth}function f(f){return function(){f.each(function(d,a){d=b(a);d.css({height:"",width:""});a=e(d[0]);var f=e(d[0].parentNode),k=d[0].parentNode.offsetWidth,h=d[0].parentNode.offsetHeight;f<a?(d.css("height",k/a),d.css("width",k)):(d.css("height",h),d.css("width",h/a))})}}Cog.registerStatic({name:"utils.coverBg",api:{},sharedApi:function(e){var d=f(e);b(window).on("resize",b.debounce(150,d)).on("resize",b.throttle(150,d));d();e.addClass("cover-ready")}})})(Cog.jQuery());
(function(b){function e(e){var f=b(e.target);e.preventDefault();"A"!==f.prop("tagName").toUpperCase()&&(f=f.closest(".external"));a=f.attr("href");m=f.attr("target");d.scope.removeClass("is-hidden");return!1}function f(){"_blank"===m?(window.open(a,"_blank"),d.scope.addClass("is-hidden")):window.location.href=a}function k(){d.scope.addClass("is-hidden")}var d={},a,m;d.init=function(a){d.scope=a;d.scope.find(".exit-notification-accept").click(f);d.scope.find(".exit-notification-deny").click(k);b("body").on("click",
"a.external",e)};Cog.register({name:"exitNotification",api:d,selector:"#exit-notification"})})(Cog.jQuery());
(function(){function b(){var a="";Object.keys(k).forEach(function(b){a+="\x26ct-".concat(b).concat("\x3d");a+=encodeURIComponent(k[b].join(","))});return a}var e={},f=[],k={},d=["newest","alphabetical_az","alphabetical_za"],a=d[0];e.getTemplateUrl=function(){return f.length?"{path}.filtertags.{tags}.sortingOrder.{order}.html".replace("{tags}",encodeURIComponent(f.join("."))).replace("{order}",a):"{path}.sortingOrder.{order}.html".replace("{order}",a)};e.getGroupedTemplateUrl=function(){if(k){var d=
b();return"{path}.sortingOrder.{order}.html?source\x3dcheckboxes{checkboxesTags}".replace("{checkboxesTags}",d).replace("{order}",a)}return"{path}.sortingOrder.{order}.html".replace("{order}",a)};e.setFilterTags=function(a){f=a.map(function(a){return a.replace(/\//g,":")})};e.getTagsForGroup=function(a){return k[a]};e.setSortingOrder=function(b){d.includes(b)&&(a=b)};e.addFilterTag=function(a,b,d){a=a.replace(/\//g,":");b?(k.hasOwnProperty(b)||(k[b]=[]),d?k[b][0]=a:k[b].push(a),e.globalGroupTags.push(a)):
f.includes(a)||f.push(a)};e.removeFilterTag=function(a,b){var d=a.replace(/\//g,":");b&&k.hasOwnProperty(b)?(k[b]=k[b].filter(function(a){return a!==d}),0===k[b].length&&delete k[b],e.globalGroupTags=e.globalGroupTags.filter(function(a){return a!==d})):f=f.filter(function(a){return a!==d})};e.clearTags=function(){k={};f=[]};e.decodeFilter=function(a){return a.replace(/:/g,"/").replace(/\//,":")};e.trackListingFilters=function(b){e.globalGroupTags=[];var d=f.filter(function(a){return""!==a}).map(function(a){return a.substring(a.lastIndexOf(":")+
1)});d.push(a);d=d.join(" | ");Cog.fireEvent("filters","analytics",{componentName:b.componentName,componentPosition:b.componentPosition,filters:d})};e.trackCheckboxFilters=function(a){var b=e.globalGroupTags.map(function(a){return a.substring(a.lastIndexOf(":")+1)}).join(" | ");Cog.fireEvent("filters","analytics",{componentName:a.componentName,componentPosition:a.componentPosition,filters:b})};e.globalGroupTags=[];Cog.registerStatic({name:"utils.filters",sharedApi:e,api:{}})})();
(function(b){b.fn.findSelf||(b.fn.findSelf=function(b){var e=this.find(b);return this.is(b)?e.add(this):e})})(Cog.jQuery());
(function(b){Cog.registerStatic({name:"utils.focusTrap",api:{},sharedApi:{focusTrap:function(e,f){function k(){var b=e.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex\x3d"0"], [contenteditable]').filter(':not([type\x3d"hidden"])');d=b.get(0);a=b.get(-1)}var d,a;k();"undefined"!==typeof f?f.focus():d.focus();(function(){b("body").on("keydown",function(b){9===b.keyCode&&((k(),b.target!==a||b.shiftKey)?
b.target===d&&b.shiftKey&&(b.preventDefault(),a.focus()):(b.preventDefault(),d.focus()))})})()}}})})(Cog.jQuery());
(function(){var b={FORM_TYPE:{SIGN_UP:"SIGN_UP",CONTACT_US:"CONTACT_US",NEWSLETTER_SIGNUP:"NEWSLETTER_SIGNUP",OTHER:"OTHER"},determineFormType:function(e){var f=b.FORM_TYPE.OTHER;b.isDynamicForm(e)&&e.hasClass("sign-up-form")?f=b.FORM_TYPE.SIGN_UP:b.isDynamicForm(e)&&e.hasClass("email-us-form")?f=b.FORM_TYPE.CONTACT_US:b.isNewsletterForm(e)&&(f=b.FORM_TYPE.NEWSLETTER_SIGNUP);return f},isDynamicForm:function(b){return b.hasClass("dynamicForm")},isFormValid:function(b){return 0===b.find(":invalid").length},
isNewsletterForm:function(b){return b.hasClass("intrnewsletter-form-secure-parameters")},isCaptchaValidOrNotExist:function(b){return b.find(".g-recaptcha-response").length&&"undefined"!==typeof grecaptcha?0!==grecaptcha.getResponse().length:!0},getFormName:function(b){return b.find("form").attr("name")||"Form without name"},arrayToObject:function(b){for(var e={},k=0;k<b.length;k++)e[b[k].name]=e[b[k].name]?e[b[k].name]+(","+b[k].value):b[k].value;return e}};Cog.registerStatic({name:"utils.form",api:{},
sharedApi:b})})();(function(){Cog.registerComponent({name:"form.tooltip",api:{init:function(){},onRegister:function(b){b.$scope.find("button.control-tooltip-button").bind("click",function(b){b.preventDefault()})}},selector:".form-element .has-tooltip"})})();
(function(b){function e(e){return b.grep(f,function(b){return b.src===e}).pop()}var f=[];Cog.registerStatic({name:"utils.loadImg",api:{},sharedApi:function(k,d){var a=b.Deferred(),m=a.promise(),l=e(k);if(l)return l.promise;d=b(d||document.createElement("img"));d.one("load",function(){a.resolve(k)});d.one("error",a.reject);d.attr("src",k);f.push({src:k,promise:m});return m}})})(Cog.jQuery());
(function(){var b={},e=!1;window.runOnWindowLoad(function(){e=!0});b.has=function(b,e){return e.split(".").every(function(d){if("object"!==typeof b||null===b||!(d in b))return!1;b=b[d];return!0})};b.isLoaded=function(){return e};Cog.registerStatic({name:"utils.objectHelper",api:{},sharedApi:b})})(Cog.jQuery());
(function(b){function e(a,c){this.obj=a;this.url=c.url;this.focusTrap=c.focusTrap.focusTrap;this.properties={href:b(a).attr("href"),width:b(a).data("overlaywidth")}}var f={},k,d,a,m,l,h=!1,c=!1;e.prototype.attachEvents=function(){var d=this,e=d.properties.href;c||(e=this.url.setSelector(e,"lightbox"));b(d.obj).on("click",function(f){f.preventDefault();f.stopPropagation();c||(d.initOverlayContainer(),d.showLoadingContainer());d.visible=!0;b.ajax({type:"GET",url:e,dataType:"html",success:function(b){d.overlayBuilder(b);
Cog.init({$element:a})}})});b("body").on("click touchstart",".overlay-content",function(a){a.stopPropagation()}).on("click touchstart",".overlay-background, .overlay-container, .overlay-close",function(){d.visible&&d.hideOverlay()}).on("keydown",function(a){27===a.keyCode&&d.hideOverlay()})};e.prototype.initOverlayContainer=function(){var c=b("body");k?a.empty():(c.append("\x3cdiv class\x3d'overlay-background'\x3e\x3c/div\x3e","\x3cdiv class\x3d'overlay-container'\x3e\x3cdiv class\x3d'overlay-content'\x3e\x3cdiv tabindex\x3d'0' class\x3d'overlay-close'\x3e\x3c/div\x3e\x3cdiv class\x3d'overlay-loading'\x3e\x3c/div\x3e\x3cdiv class\x3d'overlay-content-inner'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"),
m=b(".overlay-background"),k=b(".overlay-container"),d=b(".overlay-content"),a=b(".overlay-content-inner"),l=b(".overlay-close"));this.isSearchOverlay()&&m.hide()};e.prototype.showLoadingContainer=function(){this.isSearchOverlay()||m.show()};e.prototype.overlayBuilder=function(a){c?window.open(this.properties.href,"_blank"):0<a.indexOf("\x3cbody")&&0<a.indexOf('\x3cdiv class\x3d"contentSnippet"\x3e')?(a=b(a),this.showOverlay(a.find(".contentSnippet .snippetContent").html())):0<a.indexOf("\x3cbody")&&
0<a.indexOf('id\x3d"content" class\x3d"main')?(a=b(a),this.showOverlay(a.find("#content.main").html())):this.showOverlay(a)};e.prototype.showOverlay=function(c){var e=this.properties.width;this.isSearchOverlay()&&k.addClass("search-overlay");l.show();d.css({width:"90%","max-width":e});a.append(c);k.show();d.css({top:-d.outerHeight()-150,opacity:0});setTimeout(function(){b("html").addClass("overlay-open");d.show();d.animate({opacity:1,top:"150px"},500,"linear");this.focusTrap(d,d.find(".search-query"))}.bind(this),
0)};e.prototype.hideOverlay=function(){"undefined"!==typeof d&&(d.animate({top:-d.outerHeight()-150,opacity:0},500,"linear",function(){m.fadeOut();k.fadeOut();d.hide();k.removeClass("search-overlay")}),this.visible&&(this.visible=!1,b("html").removeClass("overlay-open"),Cog.fireEvent("overlay","close"),this.obj.focus()))};e.prototype.isSearchOverlay=function(){return b(this.obj).hasClass("search-overlay-trigger")};f.onRegister=function(a){var b=this;h||(c="mobile"===Cog.Cookie.read("device-group"),
h=!0);a.$scope.each(function(){(new e(this,b.external)).attachEvents()})};Cog.registerComponent({name:"overlay",api:f,selector:"a.lightbox",requires:[{name:"utils.url",apiId:"url"},{name:"utils.focusTrap",apiId:"focusTrap"}]})})(Cog.jQuery());
(function(){Cog.registerStatic({name:"utils.querystring",api:{},sharedApi:{getFromQueryString:function(b){b=b.replace(/[*+?^$.\[\]{}()|\\\/]/g,"\\$\x26");return(b=location.search.match(new RegExp("[?\x26]"+b+"\x3d([^\x26]+)(\x26|$)")))&&decodeURIComponent(b[1].replace(/\+/g," "))}}})})(Cog.jQuery());(function(b){var e={},f={};e.init=function(){b.extend(f,b("body").data())};Cog.registerStatic({name:"utils.bodySettings",api:e,sharedApi:f})})(Cog.jQuery());
(function(b){function e(a,c){this.obj=a;this.url=c.url;this.focusTrap=c.focusTrap.focusTrap;this.properties={href:b(a).attr("action")}}var f={},k,d,a,m=!1,l=!1,h=!1,c=b(".searchBox input.search-query");e.prototype.attachEvents=function(){var a=this,c=a.properties.href;l||(c=this.url.setSelector(c,"lightbox"));b(a.obj).on("click",function(e){h||(h=!0,e.preventDefault(),e.stopPropagation(),l||(a.initOverlayContainer(),a.showLoadingContainer()),b.ajax({type:"GET",url:c,dataType:"html",success:function(b){a.overlayBuilder(b);
Cog.init({$element:d})}}))});b("body").on("click touchstart",".overlay-content",function(a){a.stopPropagation()}).on("click touchstart",".overlay-background, .overlay-container, .overlay-close",function(){h&&a.hideOverlay()}).on("keydown",function(b){27!==b.keyCode&&13!==b.keyCode||a.hideOverlay()})};e.prototype.initOverlayContainer=function(){var c=b("body");k?d.empty():(c.append("\x3cdiv class\x3d'overlay-container search-overlay'\x3e\x3cdiv class\x3d'overlay-content'\x3e\x3cdiv tabindex\x3d'0' class\x3d'overlay-close'\x3e\x3c/div\x3e\x3cdiv class\x3d'overlay-loading'\x3e\x3c/div\x3e\x3cdiv class\x3d'overlay-content-inner'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"),
k=b(".overlay-container"),d=b(".overlay-content-inner"),a=b(".overlay-close"));k.hide()};e.prototype.showLoadingContainer=function(){k.show()};e.prototype.overlayBuilder=function(a){l?window.open(this.properties.href,"_blank"):this.showOverlay(a)};e.prototype.showOverlay=function(e){a.show();d.append(e);k.fadeIn();b("html").addClass("overlay-open");this.focusTrap(k,k.find(".search-query"));e=c.val().trim();var f=b(".overlay-container .searchBoxWithSuggestions input.search-query");e&&f.val(e)};e.prototype.hideOverlay=
function(){h&&(k.fadeOut(),h=!1,b("html").removeClass("overlay-open"),Cog.fireEvent("overlay","close"))};f.onRegister=function(a){var b=this;m||(l="mobile"===Cog.Cookie.read("device-group"),m=!0);a.$scope.each(function(){(new e(this,b.external)).attachEvents()})};Cog.registerComponent({name:"search-overlay",api:f,selector:".header-supplementary form.form-search",requires:[{name:"utils.url",apiId:"url"},{name:"utils.focusTrap",apiId:"focusTrap"}]})})(Cog.jQuery());
(function(b){var e={},f={},k=!1;window.runOnWindowLoad(function(){k=!0});f.isAuthor=function(){"undefined"===typeof e.isAuthor&&(e.isAuthor=b("body").is(".cq-wcm-edit, .cq-wcm-edit-touch"));return e.isAuthor};f.isLoaded=function(){return k};f.isPublish=function(){return!f.isAuthor()};Cog.registerStatic({name:"utils.status",api:{},sharedApi:f})})(Cog.jQuery());
(function(b){Cog.registerStatic({name:"utils.stickyEdges",api:{},sharedApi:function(e,f,k){function d(){var a=f.offset().top+f.outerHeight(),b=h.scrollTop()+e.outerHeight()+k.padding;e.css({position:"fixed"});p.show();e.css({left:p.offset().left,top:(b<=a?0:a-b)+k.padding,width:p.outerWidth()});c=!0}function a(){p.hide();e.css({position:"",top:"",width:""});c=!1}function m(){(0>(c?p:e).offset().top-h.scrollTop()-k.padding?d:a)()}function l(a){return function(){768<=window.innerWidth&&a.apply(null,
arguments)}}k=b.extend({padding:0},k);var h=b(window),c=!1,p=b(e[0].cloneNode());e.before(p);h.on("stickyEdges:refresh",l(m));h.on("scroll",l(m));h.on("resize",l(function(a){return function(){return c&&a.apply(null,arguments)}}(d)));a();setTimeout(l(m),500)}})})(Cog.jQuery());
(function(){var b={setSelector:function(e,f,k){var d="",a=e.indexOf("?");-1===a&&(a=e.indexOf("#"));-1!==a&&(d=e.substring(a),e=e.substring(0,a));k=k?k:0;a=b.getSelectors(e);var m=e.substring(e.lastIndexOf("."));e=e.substring(0,e.lastIndexOf("."));e=0<a.length?e.replace("."+a.join("."),""):e;if(0<a.length)for(var l=0;l<a.length;l++)e=k===l?e+("."+f):e+("."+a[l]);else e+="."+f;return e+m+d},getSelectors:function(e){var f=[];e=e||window.location.href;e=b.removeParameters(e);e=b.removeAnchor(e);if(e=
e.substring(e.lastIndexOf("/")))if(e=e.split("."),2<e.length)for(var k=0;k<e.length;k++)0<k&&k<e.length-1&&f.push(e[k]);return f},removeParameters:function(b){return-1!==b.indexOf("?")?b.substring(0,b.indexOf("?")):b},removeAnchor:function(b){return-1!==b.indexOf("#")?b.substring(0,b.indexOf("#")):b},addOrUpdateQueryParam:function(b,f,k){var d=new RegExp("([?\x26])"+f+"\x3d.*?(\x26|$)","i"),a=-1!==b.indexOf("?")?"\x26":"?";return b.match(d)?b.replace(d,"$1"+f+"\x3d"+k+"$2"):b+a+f+"\x3d"+k},getQueryParams:function(b,
f){if(this.queryStringParams&&!f)return this.queryStringParams;b=b||location.search;b===location.href&&(b=location.search);b=b.split("?").pop();b=b.split("#").shift();b=b.split("+").join(" ");f={};b=b.split("\x26");for(var e=0,d=b.length,a;e<d;e++)a=b[e].split("\x3d"),a[0]&&(f[decodeURIComponent(a[0])]=1<a.length?decodeURIComponent(a[1]):"");return this.queryStringParams=f},addWcmModeIfNeeded:function(b,f){_.includes(location.search,"wcmmode\x3ddisabled")&&!_.includes(f.url,"wcmmode\x3ddisabled")&&
(b=_.includes(f.url,"?")?"\x26":"?",f.url+=b+"wcmmode\x3ddisabled");return f}};Cog.registerStatic({name:"utils.url",api:{},sharedApi:b})})();
(function(b){function e(a,b){return a.data(b)||a.find("[data-"+b+"]").data(b)}function f(d){function e(a){m=m||b('\x3cspan class\x3d"error-msg"\x3e');m.text(a[0]);d.addClass("error");d.append(m);setTimeout(function(){m.addClass("active")},0)}function f(){d.removeClass("error");m&&m.removeClass("active")}function c(){var b=a.err(d);(b.length?e:f)(b);return!b.length}var k=d.find("input, select, textarea"),m;k.on("blur, change",function(){c()});return{$holder:d,$field:k.eq(0),check:c}}var k={},d;k.init=
function(){d=this.external.eventsDefinition.SUBMIT};var a=function(){var a=[];return{add:function(b,d){a.push({query:b,fn:d})},err:function(d){var e,c=[];b.each(a,function(a,b){if(d.is(b.query)||d.find(b.query).length)e=b.fn(d),e.msg&&c.push(e.msg)});return c}}}();a.add("[required],.g-recaptcha",function(a){var b=a.find("input, select, textarea");return(b.is("[type\x3dcheckbox]")?b.is(":checked"):0<b.filter("[type\x3dradio]").length?0<b.filter(":checked").length:""!==b.val())||{msg:e(a,"required-error-message")}});
a.add("[data-min-age]",function(a){var b=a.find("input");a=b.data("min-age")||{minAge:0,errorMessage:""};var d=new Date,c=b.attr("required");b=b.data("pickadate").get("select");var e=(b||{}).obj||new Date,f=d.getFullYear()-e.getFullYear();f=0>d.getMonth()-e.getMonth()||0>d.getDate()-e.getDate()?f-1:f;return!c&&!b||f>=a.minAge||{msg:a.errorMessage.replace("{age}",a.minAge)}});a.add("[pattern]",function(a){var b=a.find("input"),d=new RegExp(b.attr("pattern"));return!b.val().length||d.test(b.val())||
{msg:e(a,"invalid-value-error-message")}});Cog.registerStatic({name:"utils.validator",api:k,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"}],sharedApi:function(a,e){function h(){var a=k.filter(function(a){return!a.check()});a.length&&(Cog.fireEvent("form",d.FORM_ERROR,{err:a}),c(a[0].$field));return!a.length}function c(a){a.hasClass("datepicker-input")?a[0].scrollIntoView({block:"center"}):a.focus()}var k=[];e=e||[];a.find(e.join(",")).each(function(a,c){k.push(f(b(c)))});a.attr("novalidate",
"");a.on("submit",function(){if(!h())return!1})}})})(Cog.jQuery());(function(){Cog.registerStatic({name:"utils.idx",api:{},sharedApi:function(b,e){return b.reduce(function(b,e){return b&&null!=b[e]?b[e]:null},e)}})})();
(function(){function b(){this.sizes={small:[null,374],mobile:[375,669],tablet:[670,768],notebook:[767,979],desktop:[1139,null]};this.sizeList=Object.keys(this.sizes);this.bindEvents()}b.prototype={capitalize:function(b){return b.slice(0,1).toUpperCase()+b.slice(1)},unit:function(b,f){return!!b&&f.replace("{}",b)},bindEvents:function(){this.sizeList.forEach(function(b){var e=["only screen",this.unit(this.sizes[b][0],"and (min-width: {}px)"),this.unit(this.sizes[b][1],"and (max-width: {}px)")].filter(function(b){return!!b}).join(" ");
enquire.register(e,{match:this.updateData(b)});this["min"+this.capitalize(b)]=this.sizes[b][0];this["max"+this.capitalize(b)]=this.sizes[b][1]}.bind(this))},updateData:function(b){return function(){this.current=b;var e=this.sizeList.indexOf(this.current);this.sizeList.forEach(function(b,d){this["over"+this.capitalize(b)]=e>d;this["under"+this.capitalize(b)]=e<d}.bind(this))}.bind(this)}};Cog.registerStatic({name:"utils.breakpoints",api:{},sharedApi:new b})})();
(function(){Cog.registerStatic({name:"utils.bindAll",api:{},sharedApi:function(b,e){b.fn=function(e){var d=Array.prototype.slice.call(arguments,1);return function(){var a=Array.prototype.slice.call(arguments);return e&&"function"===typeof e?e.apply(b,d.concat(a)):void 0}};if(e&&e.constructor===Array)e.forEach(function(e){b[e]=b[e].bind(b)});else for(var f in b)"function"===typeof b[f]&&(b[f]=b[f].bind(b))}})})();
(function(){function b(){this.data={}}b.prototype={has:function(b){return!!this.data[b]},value:function(b,f){return void 0===f?this.data[b]:this.data[b]=f}};Cog.registerStatic({name:"utils.cache",api:{},sharedApi:b})})();
(function(b){function e(){this.$body=b(document.body);k(this);this.bindEvents()}function f(a,b){this.$holder=a;this.$target=b;e.single();k(this);this.bindEvents()}e.prototype={bindEvents:function(){this.$body.on("click",this.onClick)},onClick:function(a){Cog.fireEvent("toggle","body:close",{$elm:b(a.target)})}};e.single=function(){return this.inst=this.inst||new e};f.prototype={bindEvents:function(){this.$holder.on("click",this.onHolderClick);Cog.addListener("toggle","body:close",this.onClose)},onHolderClick:function(){this.open()},
onClose:function(a){a=d(["eventData","$elm",0],a);[this.$holder[0]===a,this.$target[0]===a,b.contains(this.$holder[0],a),b.contains(this.$target[0],a)].reduce(function(a,b){return a||b},!1)||this.close()},open:function(){this.$target.addClass("is-active");Cog.fireEvent("toggle","open",{$holder:this.$holder,$target:this.$target})},close:function(){this.$target.removeClass("is-active");Cog.fireEvent("toggle","close",{$holder:this.$holder,$target:this.$target})}};var k,d;Cog.registerStatic({name:"utils.toggle",
api:{init:function(){k=this.external.bindAll;d=this.external.idx}},sharedApi:f,requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.idx",apiId:"idx"}]})})(Cog.jQuery());
(function(b){function e(d,a){this.label=d;f[this.label]=this;this.current=b.extend({},a);k(this);this.bindEvents()}var f={};e.prototype={bindEvents:function(){Cog.addListener(this.label,"state:dispatch",this.onDispatch)},onDispatch:function(d){Cog.fireEvent(this.label,"state:subscribe",b.extend(this.current,d.eventData))},getState:function(){return b.extend({},this.current)}};e.create=function(b,a){return new e(b,a)};e.getState=function(b){return f[b]?f[b].getState():null};var k;Cog.registerStatic({name:"utils.simpleState",
api:{init:function(){k=this.external.bindAll}},sharedApi:e,requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b){function e(b){this.$holder=b;f(this);this.enable();this.bindEvents()}e.prototype={bindEvents:function(){this.$holder.on("mousewheel",this.onMouseWheel)},onMouseWheel:function(e){if(this.enabled&&this.checkScrollHeight()){var d=e.originalEvent.deltaY,a=b(e.currentTarget);0>d&&0===a.scrollTop()?e.preventDefault():0<d&&a.scrollTop()===a[0].scrollHeight-a[0].offsetHeight&&e.preventDefault()}},checkScrollHeight:function(){return this.$holder[0].scrollHeight>this.$holder[0].offsetHeight},enable:function(){this.enabled=
!0},disable:function(){this.enabled=!1}};var f;Cog.registerStatic({name:"utils.preventParentScroll",api:{init:function(){f=this.external.bindAll}},sharedApi:e,requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b){function e(){"undefined"!==typeof ratingReview&&ratingReview.widget&&ratingReview.widget.rrReloadWidget&&ratingReview.widget.rrReloadWidget()}function f(e){b(e.target).find(".tReview").trigger("click")}Cog.registerStatic({name:"utils.kritique",api:{init:function(){Cog.addListener("kritique","reloadInlineRatings",e);Cog.addListener("searchResults","showMore",e);Cog.addListener("quickView","openOverlay",e);b("body").on("click",".kritique .customReview",f)}}})})(Cog.jQuery());
(function(){var b={},e,f;b.init=function(){e=this.external.utils;f=this.external.eventsDefinition.ctConstants;e.isAnalyticsConfigured()&&"Article Detail"===digitalData.page.category.pageType&&e.addTrackedEvent(f.articleView,digitalData.page.attributes.articleName,f.Engagement,f.read,{},f.trackEvent)};Cog.registerStatic({name:"analytics.articleHandler",api:b,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(){h||($BV.configure("global",{events:{submissionSubmitted:function(a){f(l.ratingreview,k(a),l.advocacy,l.interest)},bvRender:function(a){f(l.bvrenders,k(a),l.custom,l.read,{nonInteractive:{nonInteraction:1}})},submissionLoad:function(a){f(l.bazaarvoicereviewopen,k(a),l.advocacy,l.interest)},submissionClose:function(a){f(l.bazaarvoicereformcloses,k(a),l.advocacy,l.other)}}}),h=!0)}function f(a,b,d,e,f){m.pushComponent("Bazaarvoice","",d,e);m.addTrackedEvent(a,b,d,e,f)}function k(a){a=
allProducts[a.Id]||{};var c=b('meta[property\x3d"og:title"]').attr("content")||"";return a.shortTitle||c}var d={},a,m,l,h;d.init=function(){a=this.external.eventsDefinition.OTHER;m=this.external.utils;l=this.external.eventsDefinition.ctConstants;m.isAnalyticsConfigured()&&Cog.addListener("bazaarvoice",a.BAZAARVOICE,e)};Cog.registerStatic({name:"analytics.bazaarvoiceHandler",api:d,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(a){var b=k.createProduct(),e=allProducts[a.eventData.product]||{},f=d.purchase,c="Online - "+e.shortTitle,p=d.conversion,u=d.lead,q=[];b.productInfo.productName=e.shortTitle;b.productInfo.productID=e.EAN;b.productInfo.productBrand=digitalData.siteInfo.localbrand;b.productInfo.price=e.productPrice;b.productInfo.sku=e.sku;b.category.primaryCategory=e.category;b.attributes.pcatName=e.category;b.attributes.productVariants=e.sizes;q.push(b);a=a.eventData.component;digitalData.cart=
[];digitalData.cart.item=[];k.pushCart(q);k.pushComponent(a,"");k.addTrackedEvent(f,c,p,u)}var e={},f,k,d;e.init=function(){f=this.external.eventsDefinition;k=this.external.utils;d=this.external.eventsDefinition.ctConstants;k.isAnalyticsConfigured()&&Cog.addListener("buyitnow",f.CLICK.BIN_CLICK,b)};Cog.registerStatic({name:"analytics.buyItNowHandler",api:e,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(){function b(a){k.pushComponent(a.eventData.componentName,a.eventData.componentPosition,d.conversion,d.lead);k.addTrackedEvent(d.purchase,a.eventData.eventLabel,d.conversion,d.lead)}var e={},f,k,d;e.init=function(){f=this.external.eventsDefinition;k=this.external.utils;d=this.external.eventsDefinition.ctConstants;k.isAnalyticsConfigured()&&Cog.addListener("clic2buy",f.CLICK.CLIC2BUY_BUTTON_CLICK,b)};Cog.registerStatic({name:"analytics.clic2BuyHandler",api:e,requires:[{name:"analytics.eventsDefinition",
apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a){var b=digitalData.page.pageInfo.pageName+" - "+a.eventData.query;y.pushComponent("Accordion",a.eventData.componentPosition);y.addTrackedEvent(D.accordianClicked,b)}function f(a){y.pushComponent("Article List",a.eventData.componentPosition);y.addTrackedEvent(D.articleClick,a.eventData.query)}function k(a){var b=digitalData.page.pageInfo.pageName+" - "+a.eventData.query;y.pushComponent("Carousel",a.eventData.componentPosition);y.addTrackedEvent(D.carouselClick,b)}function d(a){y.pushComponent("Image",
a.eventData.componentPosition);y.addTrackedEvent(D.imageclick,a.eventData.altText)}function a(a){var b=a.eventData;a=b.isStartPage?b.answer:b.answer+" - "+b.nextSlideUrl+" - Question "+b.slideNumber;y.pushComponent("Diagnostioc Tool",b.componentPosition,D.engagement,D.interest,h(b));y.addTrackedEvent(D.diagtoolcta,a,D.engagement,D.interest)}function m(a){a=a.eventData;var b=l(a.productEans);a.result=b;y.pushComponent("Diagnostioc Tool",a.componentPosition,D.custom,D.interest,h(a));y.addTrackedEvent(D.DiagnosticToolResults,
b,D.custom,D.interest,{},D.diagtooleve)}function l(a){var b=[];a.forEach(function(a){b.push(allProducts[a].shortTitle)});return b.join(" - ")}function h(a){return{position:a.componentPosition,listPosition:"",DTQns:a.question||"(not set)",DTAns:a.answer||"(not set)",DTResult:a.result||"(not set)",DTMSARes:"(not set)"}}function c(a){y.pushComponent("Image Gallery",a.eventData.componentPosition);y.addTrackedEvent(D.imageclick,a.eventData.query)}function p(a){y.pushComponent("Add This",a.eventData.position);
y.addTrackedEvent(D.addthisshare,a.eventData.channel,D.advocacy,"Lead")}function u(a){var b=digitalData.page.pageInfo.pageName+" - "+a.eventData.label;y.pushComponent("Tabs",a.eventData.componentPosition);y.addTrackedEvent(D.tabClick,b)}function q(a){y.pushComponent(a.eventData.type,a.eventData.componentPosition,D.engagement,D.interest);y.setSearchData(a.eventData.keyword,a.eventData.resultNumber||"");y.addTrackedEvent(a.eventData.action,a.eventData.label,D.engagement,D.interest)}function g(a){y.pushComponent("Search Filter",
a.eventData.componentPosition,D.engagement,D.interest);y.addTrackedEvent(D.filter,a.eventData.filterOption,D.engagement,D.interest)}function A(a){var b=allProducts[a.eventData.ean]||{},c=y.createProduct(b);y.pushProduct(c);y.pushComponent("Product Quick View",a.eventData.componentPosition,D.engagement,D.interest);y.addTrackedEvent(D.productQuickView,b.shortTitle||"",D.engagement,D.interest)}function F(a){y.pushComponent("Tag List",a.eventData.componentPosition);y.addTrackedEvent(D.tags,a.eventData.tagName)}
function C(a){var b=allProducts[a.eventData.ean]||{};y.pushComponent("Product Variant",a.eventData.componentPosition,D.engagement,D.interest);y.addTrackedEvent(D.filter,b.productSize||"",D.engagement,D.interest)}function H(a){y.pushComponent("Form",a.eventData.componentPosition);y.addTrackedEvent(a.eventData.action,a.eventData.label)}function z(a){var c=a.eventData.href,d=y.isExternalLink(c,c.includes("smartlabel"));c=t()||d?D.custom:a.eventData.category;var e=t()?D.read:d?"Others":a.eventData.subcategory;
y.pushComponent(a.eventData.componentName,a.eventData.componentPosition,c,e);d?(a=digitalData.page.pageInfo.pageName+" - "+a.eventData.label+" - "+a.eventData.href,y.addTrackedEvent(D.ExternalLink,a,c,e)):a.eventData.type===D.cta?(a=a.eventData.componentName+" - "+a.eventData.label+" - "+a.eventData.href,y.addTrackedEvent(D.callToAction,a,c,e)):a.eventData.type===D.article?(a=a.eventData.href,y.addTrackedEvent(D.articleClick,a,c,e)):a.eventData.type===D.relatedArticle?(a=a.eventData.href,y.addTrackedEvent(D.relatedArticle,
a,c,e)):a.eventData.type===D.product?(e=allProducts[a.eventData.ean]||{},c=y.createProduct(e),a=e.shortTitle+" : "+a.eventData.ean,y.pushProduct(c),y.addTrackedEvent(D.productclick,a)):a.eventData.type===D.navigation?(a="Global Navigation - "+a.eventData.label+" - "+a.eventData.href,y.addTrackedEvent(D.linkClick,a,c,e)):t()?(a=b('meta[property\x3d"og:title"]').attr("content")+" - "+a.eventData.label+" - "+a.eventData.href,y.addTrackedEvent(D.clicktoaction,a,c,e)):(a=digitalData.page.pageInfo.pageName+
" - "+a.eventData.label+" - "+a.eventData.href,y.addTrackedEvent(D.linkClick,a,c,e))}function t(){return"Recipe Detail"===digitalData.page.category.pageType||"Recipe Landing"===digitalData.page.category.pageType||"Recipe Category"===digitalData.page.category.pageType||"Recipe Listing"===digitalData.page.category.pageType}function I(a){y.pushComponent("Virtual Agent",a.eventData.componentPosition,D.engagement,D.interest);y.addTrackedEvent(D.virtualagent,a.eventData.label,D.engagement,D.interest)}function E(a){a=
"Product Detail"===a.eventData.pageType?"PDP":a.eventData.pageType;y.pushComponent("Smartlabel","",D.engagement,D.interest);y.addTrackedEvent(D.smartlabelClick,a,D.engagement,D.interest)}function G(a){y.pushComponent(a.eventData.componentName,a.eventData.componentPosition,D.engagement,D.interest);y.addTrackedEvent(D.loadMore,a.eventData.eventLabel)}function J(a){var b=y.createProduct(a.eventData.productData);y.pushProduct(b);y.pushComponent("Scrambled",a.eventData.componentPosition,D.engagement,D.interest);
y.addTrackedEvent(D.purchase,"Online - "+a.eventData.eventLabel,D.conversion,D.lead)}function K(){y.pushComponent(D.chat,D.chatopen,D.engagement,D.interest);y.addTrackedEvent(D.chat,D.chatopen,D.engagement,D.interest)}var v={},N,y,D;v.init=function(){N=this.external.eventsDefinition.CLICK;y=this.external.utils;D=this.external.eventsDefinition.ctConstants;y.isAnalyticsConfigured()&&(Cog.addListener("accordion",N.ACCORDION_CLICK,e),Cog.addListener("articleList",N.ARTICLE_LINK,f),Cog.addListener("listingAnalytics",
N.ARTICLE_LINK,f),Cog.addListener("carousel",N.CAROUSEL_CLICK,k),Cog.addListener("image",N.IMAGE_CLICK,d),Cog.addListener("productQuickView",N.PRODUCT_QUICK_VIEW,A),Cog.addListener("quizCta",N.QUIZ_CTA,a),Cog.addListener("quizResult",N.QUIZ_RESULT,m),Cog.addListener("imageGallery",N.IMAGE_GALLERY_CLICK,c),Cog.addListener("addThis",N.ADDTHIS_SHARE,p),Cog.addListener("tabs",N.TABS_CLICK,u),Cog.addListener("searchFilter",N.SEARCH_FILTER,g),Cog.addListener("searchBoxWithSuggestions",N.SITE_SEARCH,q),
Cog.addListener("refineSearchBox",N.SITE_SEARCH,q),Cog.addListener("tagList",N.TAGS_CLICK,F),Cog.addListener("productVariant",N.PRODUCT_VARIANT_CLICK,C),Cog.addListener("link",N.LINK_CLICK,z),Cog.addListener("virtualAgent",N.VIRTUAL_AGENT_CLICK,I),Cog.addListener("smartlabel",N.SMARTLABEL_CLICK,E),Cog.addListener("showMoreButton",N.LOAD_MORE_CLICK,G),Cog.addListener("form",N.FORM_CLICK,H),Cog.addListener("recipe",N.RECIPE_TO_BASKET,J),Cog.addListener("livechat",N.LIVECHAT_BUTTON_CLICK,K))};Cog.registerStatic({name:"analytics.clickHandlers",
api:v,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(a){k.pushComponent(a.eventData.componentName,a.eventData.componentPosition,d.conversion,d.lead);k.addTrackedEvent(d.purchase,a.eventData.eventLabel,d.conversion,d.lead)}var e={},f,k,d;e.init=function(){f=this.external.eventsDefinition;k=this.external.utils;d=this.external.eventsDefinition.ctConstants;k.isAnalyticsConfigured()&&Cog.addListener("constantCommerce",f.CLICK.CONSTANT_COMMERCE_BUTTON_CLICK,b)};Cog.registerStatic({name:"analytics.constantCommerceHandler",api:e,requires:[{name:"analytics.eventsDefinition",
apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(){b(".component").each(function(a){b(this).attr("data-position",a)})}function f(){var a=b("title").data("recipe-title");void 0!==a&&(digitalData.page.attributes.contentType=a,digitalData.page.category.subCategory2=a)}function k(a){c.pushComponent("Virtual Agent",a.eventData.componentPosition,p.engagement,p.interest);c.addTrackedEvent(p.virtualagent,"Virtual Agent-Launch",p.engagement,p.interest)}function d(a){c.pushComponent(p.storeLocator,a.eventData.position,p.custom,p.interest);
c.addTrackedEvent(p.storeLocator,"Store Locator - Launch Open",p.custom,p.interest)}function a(a){var b=c.createProduct({EAN:a.eventData.EAN,shortTitle:a.eventData.productTitle});c.pushProduct(b);c.pushComponent(p.productInfo);c.addTrackedEvent(p.productInfo,a.eventData.productTitle,p.other,p.read,{nonInteractive:{nonInteraction:1}})}function m(a){c.addTrackedEvent(a.eventData.action,a.eventData.label,p.engagement,p.lead)}var l={},h,c,p;l.init=function(){h=this.external.eventsDefinition.LOAD;c=this.external.utils;
p=this.external.eventsDefinition.ctConstants;c.isAnalyticsConfigured()&&(b(document).ready(e),b(document).ready(f),Cog.addListener("virtualAgent",h.VIRTUAL_AGENT,k),Cog.addListener("storeLocator",h.STORE_LOCATOR,d),Cog.addListener("form",h.FORM_PAGE,m),Cog.addListener("productInfo",h.PRODUCT_INFO,a))};Cog.registerStatic({name:"analytics.onLoadHandlers",api:l,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){Cog.registerStatic({name:"analytics.eventsDefinition",sharedApi:{SUBMIT:{FORM:"SUBMIT_FORM",FORM_ERROR:"FORM_ERROR",SERVER_ERROR:"SERVER_ERROR",KRITIQUE_FORM:"KRITIQUE_FORM",TURNTO_QUESTION:"TURNTO_QUESTION",TURNTO_ANSWER:"TURNTO_ANSWER",STORE_LOCATOR:"SUBMIT_STORE_LOCATOR"},CHANGE:{FILTER_CHANGE:"FILTER_CHANGE"},CLICK:{ACCORDION_CLICK:"CLICK_ACCORDION",ADDTHIS_SHARE:"ADDTHIS_SHARE",ARTICLE_LINK:"CLICK_ARTICLE_LINK",BIN_CLICK:"BIN_CLICK",BREADCRUMBS_LINK:"CLICK_BREADCRUMBS_LINK",CAROUSEL_CLICK:"CLICK_CAROUSEL",
CLIC2BUY_BUTTON_CLICK:"CLIC2BUY_BUTTON_CLICK",CONSTANT_COMMERCE_BUTTON_CLICK:"CONSTANT_COMMERCE_BUTTON_CLICK",FORM_CLICK:"FORM_CLICK",IMAGE_CLICK:"CLICK_IMAGE",IMAGE_GALLERY_CLICK:"CLICK_IMAGE_GALLERY",KRITIQUE_HELPFUL:"KRITIQUE_HELPFUL",KRITIQUE_UNHELPFUL:"KRITIQUE_UNHELPFUL",KRITIQUE_READ_REVIEWS:"KRITIQUE_READ_REVIEWS",KRITIQUE_REPORT:"KRITIQUE_REPORT",KRITIQUE_WIDGET_CLOSE:"KRITIQUE_WIDGET_CLOSE",KRITIQUE_WRITE_REVIEW:"KRITIQUE_WRITE_REVIEW",LOAD_MORE_CLICK:"LOAD_MORE_CLICK",LINK_CLICK:"LINK_CLICK",
LIVECHAT_BUTTON_CLICK:"LIVECHAT_BUTTON_CLICK",PRODUCT_QUICK_VIEW:"PRODUCT_QUICK_VIEW",PRODUCT_VARIANT_CLICK:"PRODUCT_VARIANT_CLICK",QUIZ_CTA:"QUIZ_CAT",QUIZ_RESULT:"QUIZ_RESULT",RECIPE_TO_BASKET:"RECIPE_TO_BASKET",SEARCH_FILTER:"SEARCH_FILTER",SITE_SEARCH:"SITE_SEARCH",SMARTLABEL_CLICK:"SMARTLABEL_CLICK",STORE_LOCATOR_EDIT:"STORE_LOCATOR_EDIT",STORE_LOCATOR_CTA:"STORE_LOCATOR_CTA",TABS_CLICK:"TABS_CLICK",TAGS_CLICK:"TAGS_CLICK",TURNTO_INACCURATE:"TURNTO_INACCURATE",TURNTO_SEE_QUESTION:"TURNTO_SEE_QUESTION",
TURNTO_TEASER_SEE_QUESTION:"TURNTO_TEASER_SEE_QUESTION",VIRTUAL_AGENT_CLICK:"VIRTUAL_AGENT_CLICK"},LOAD:{FORM_PAGE:"FORM_PAGE",PRODUCT_INFO:"PRODUCT_INFO",VIRTUAL_AGENT:"VIRTUAL_AGENT",STORE_LOCATOR:"STORE_LOCATOR"},OTHER:{BAZAARVOICE:"BAZAARVOICE",CLIC2BUY:"CLIC2BUY",KRITIQUE_RENDERER:"KRITIQUE_RENDERER",SHOPPABLE_INIT:"SHOPPABLE_INIT",SHOPPABLE_PURCHASE:"SHOPPABLE_PURCHASE",SHOPPABLE_CART_VIEW:"SHOPPABLE_CART_VIEW",STORE_LOCATOR_RESULTS:"STORE_LOCATOR_RESULTS",STORE_LOCATOR_OPTIONS:"STORE_LOCATOR_OPTIONS"},
ctConstants:{Acquisition:"Acquisition: Mktg Opt ins",Acquisitionout:"Acquisition: Mktg Opt out",article:"article",articleView:"Article view",AttentionPing:"Attention Time",DiagnosticToolResults:"Dignostic Tool Results",ExternalLink:"External Link",RedeemCoupons:"Readeem Coupons",VideoFastForwarded:"Video Fast Forwarded",accordianClicked:"Accordian Clicked",addthisshare:"Add this Share",addtoCart:"addtoCart",addtobasket:"Add To Basket",advocacy:"Advocacy",anchorLinkClicked:"Anchor Link Clicked",applicationPlay:"Application Plays",
articleClick:"Article Click",audioCompletes:"Audio Completes",audioPlays:"Audio Play",audioProgress:"Audio Progress",bazaaarvoicerenders:"Bazaar Voice Renders",bazaarvoiceratingreview:"Bazaar Voice rating Review Submitted",bazaarvoicereformcloses:"Bazaar Voice Review Close",bazaarvoicereviewopen:"Bazaar Voice Review Open",buttonclicked:"Button Clicked",bvclose:"Bazaar Voice Rating/Review Close",bvopen:"Bazaar Voice Rating/Review Open",bvrenders:"BazaarVoice Renders",callToAction:"Call to Action",
cartView:"Cart View",campaign:"Campaign",campstep:"Campaign Step",carouselClick:"Carousel Click",changecontentfocus:"Change Content Focus",chat:"Chat",chatopen:"Chat Open",checkoutenhanced:"checkoutenhanced",cta:"cta",clic2buy:"Clic2Buy",clickToRecipe:"Click To Recipe",clickstosocialplatforms:"Clicks to Social Platforms",clicktoaction:"Click To Action",clicktopurchasebundle:" Click To Purchase Bundle",closecontentfocus:"Close Content Focus",comments:"Comments",constantCommerce:"Constant Commerce",
contactus:"Contact-Us",contactUsStart:"Contact Us Form Start",contactUsSubmit:"Contact Us Form Submit",contestEntries:"Contest Entries",continueShopping:"Continue Shopping",conversion:"Conversion",countryselected:"Country Selected",coupon:"Coupons",couponSelected:"Coupon Selected",custom:"Custom",deleteproduct:"Delete Product",diagtoolcta:"Diag Tool CTA",diagtoolemail:"Diag Tool Email",diagtooleve:"Diag Tool Event",diversion:"Diversion",donation:"Donations",downloads:"Downloads",dropDown:"Drop Down",
dynamicerror:"Dynamic Error",editorPick:"Editors Pick",email:"Email",engagement:"Engagement",errorPage:"Error Page",featuredcategory:"Featured Category",featuredsocialtopic:"Featured-social-topic",featuredtweetTab:"Featured Tweet Tab",filter:"Filter",followOntwitter:"Follow on Twitter",followaccount:"Follow Account",forms:"Forms",ftap:"FTAF",gameDownloads:"Game Downloads",gamePlay:"Game Plays",gamecomplete:"Game Completes",gamelevelsplayed:"Game Levels Played",iFrame:"iFrame",imageclick:"Image Click",
imageload:"Image Upload",inputerror:"Input Error",instantwins:"Instant Wins",intendToSignup:"Intend To Sign Up",interest:"Interest",languageSelector:"Language Selector",lead:"Lead",leftrightquickview:"Left right Quickview",like:"Like",listing:"Listing",linkClick:"Link Click",loadMore:"Load More",mayLike:"You May Also Like",miniBag:"Mini Bag",multiplerelatedtweets:"Multiple Related Tweets",mute:"Mute",navigation:"Navigation",newsletter:"newsletter",ordersummary:"Order Summary",other:"Other",outboundLinkClicked:"Outbound Link Clicked",
pageScroll:"Page Scroll",pagedwelltiming:"Page Dwell Timing",pagination:"Pagination",personalizegift:"Personalize Gift",pinterst:"Pinterest",print:"Print",product:"product",productImpression:"Product Impression",productInfo:"Product Info",productQuickView:"Product Quick View",productawards:"Product Awards",productclick:"productClick",profileEdit:"Profile Edit",promotionClick:"promotionClick",promotionView:"promotionView",purchase:"Click to Purchase",purchaseIntendcoupon:"Purchase Intend: Coupon Requests",
purchaseIntendsample:"Purchase Intend: Sample Requests",purchaseOrder:"Purchase: Order",purchaseenhanced:"Purchase",quickPoll:"Quick Poll",rangePDP:"Product Range-PDP",ratingreview:"Rating/Review",read:"Read",readMore:"Read More",readReviews:"Read reviews",recipeClick:"Recipe Click",recipeListing:"Recipe Listing",recommend:"Recommend",referral:"Referral",registration:"Registration",relatedArticle:"Related Article",removecart:"Cart Remove",retailerClick:"Retailer Click",reviewHelpful:"Review Helpful",
rrClose:"Rating Review Close",rrHelpful:"Rating Review Helpful",rrNotHelpful:"Rating Review Not Helpful",rrOpen:"Rating Review Open",rrRenders:"Rating Review Renders",rrReported:"Rating Review Reported",share:"Share",shopNow:"ShopNow",signIns:"Sign Ins",signup:"signup",signupStart:"SignUp Start",signupSubmit:"SignUp Submit",searchResults:"Search Results",serverError:"Server-Side Error",siteSearch:"Site Search",smartlabelClick:"Smart Label Click",smartlabelExit:"Smart Label Exit",socialcommunity:"Social Community",
socialcomponentcta:"Social Component CTA",sortReviews:"Sort Reviews",spincarousel:"Spin Carousel",storeLocator:"Store Locator",storesearch:"Store Search",storesearchedit:"Store Search Edit",submission:"Submission",survey:"Survey",subscribeNewsletter:"Subscriptions - Newsletter Sign up",suscribeUpdate:"Subscribe for Updates",tabClick:"Tab Click",tags:"Tags",trackEvent:"trackEvent",trackEventnewslettersignup:"trackEventnewslettersignup",turnto:"Turn To",tweet:"Tweet",unmute:"Unmute",uploads:"Uploads",
videoAutoPlays:"Video Auto Play",videoCompletes:"Video Completes",videoPlays:"Video Plays",videoProgress:"Video Progress",viewBag:"View Bag",viewPrize:"View Prize",viewonyoutube:"View on Youtube",virtualagent:"Virtual Agent",widgets:"Widgets",win:"Win",youtube:"YouTube",shopalystRetailerClicked:"RETAILER_CLICKED"}},api:{}})})();
(function(b){var e={},f,k;e.init=function(){f=this.external.utils;k=this.external.eventsDefinition.ctConstants;if(f.isAnalyticsConfigured()&&"undefined"!==typeof digitalData&&"undefined"!==typeof digitalData.page&&"undefined"!==typeof digitalData.page.category&&"undefined"!==typeof digitalData.page.category.pageType&&"Error"===digitalData.page.category.pageType){var a=d();f.addTrackedEvent(k.errorPage,a,k.custom,k.other)}};var d=function(){if(""===document.referrer&&"undefined"!==typeof digitalData.page.pageInfo&&
"undefined"!==typeof digitalData.page.pageInfo.pageName)var a=digitalData.page.pageInfo.pageName;else{var d=document.referrer.substr(window.location.origin.length,document.referrer.length);0<d.indexOf(".")&&(d=d.substr(0,d.indexOf(".")));b.ajax({async:!1,url:d+".analytics-datalayer.json",type:"GET",success:function(b){a=b.pageName},error:function(){a="Error"}})}return a};Cog.registerStatic({name:"analytics.errorPageHandler",api:e,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},
{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(a,b,c,d,e){k.pushComponent("Kritique",e.position||"",c,d);k.addTrackedEvent(a,b,c,d,e)}var e={},f,k,d,a;e.init=function(){f=this.external.eventsDefinition;k=this.external.utils;d=this.external.eventsDefinition.ctConstants;k.isAnalyticsConfigured()&&!a&&(Cog.addListener("kritique",f.CLICK.KRITIQUE_HELPFUL,m.events.rrHelpful),Cog.addListener("kritique",f.CLICK.KRITIQUE_UNHELPFUL,m.events.rrUnHelpful),Cog.addListener("kritique",f.CLICK.KRITIQUE_READ_REVIEWS,m.events.rrReview),
Cog.addListener("kritique",f.CLICK.KRITIQUE_REPORT,m.events.rrReported),Cog.addListener("kritique",f.CLICK.KRITIQUE_WIDGET_CLOSE,m.events.rrFormClose),Cog.addListener("kritique",f.CLICK.KRITIQUE_WRITE_REVIEW,m.events.rrWriteReview),Cog.addListener("kritique",f.SUBMIT.KRITIQUE_FORM,m.events.rrSubmitReview),Cog.addListener("kritique",f.OTHER.KRITIQUE_RENDERER,m.events.rrRender),a=!0)};var m={events:{rrRender:function(a){b(d.rrRenders,a.eventData.label,d.custom,d.read,{position:a.eventData.position,
nonInteractive:{nonInteraction:1}})},rrWriteReview:function(a){b(d.rrOpen,a.eventData.label,d.engagement,d.interest,{position:a.eventData.position})},rrFormClose:function(a){b(d.rrClose,a.eventData.label,d.custom,d.interest,{position:a.eventData.position})},rrSubmitReview:function(a){b(d.ratingreview,a.eventData.label,d.advocacy,d.interest,{position:a.eventData.position})},rrHelpful:function(a){b(d.rrHelpful,a.eventData.label,d.advocacy,d.interest,{position:a.eventData.position})},rrUnHelpful:function(a){b(d.rrNotHelpful,
a.eventData.label,d.advocacy,d.interest,{position:a.eventData.position})},rrReported:function(a){b(d.rrReported,a.eventData.label,d.advocacy,d.interest,{position:a.eventData.position})},rrReview:function(a){b(d.ratingreview,a.eventData.label,d.advocacy,d.interest,{position:a.eventData.position})}}};Cog.registerStatic({name:"analytics.kritiqueHandler",api:e,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(b){a.pushComponent(b.eventData.componentName,b.eventData.componentPosition);a.addTrackedEvent(l.filter,b.eventData.filters,l.engagement,l.interest)}function f(c){var d=[];b.each(c.eventData.products,function(){var e;c.eventData.componentName===l.listing?e=a.resolveListingProductEan(b(this)):c.eventData.componentName===l.searchResults&&(e=a.resolveSearchProductEan(b(this)));allProducts[e]&&(e=a.createProduct(allProducts[e]),a.pushProduct(e),d.push(e.productInfo.productName))});
a.pushComponent(c.eventData.componentName,c.eventData.componentPosition);a.addTrackedEvent(l.productImpression,d,l.custom,l.lead,h)}function k(d){b.each(d.eventData.$listingProducts,function(){var c=a.resolveListingProductEan(b(this));allProducts[c]&&(c=a.createProduct(allProducts[c]),a.pushProduct(c),u.push(c.productInfo.productName))});p++;c===p&&u&&!m.getQueryParams(null,!0).order&&(a.pushComponent("Listing","(not set)"),a.addTrackedEvent(l.productImpression,u,l.custom,l.lead,h),u=[])}var d={},
a,m,l,h,c=0,p=0,u=[];d.init=function(){a=this.external.utils;m=this.external.urlUtils;l=this.external.eventsDefinition.ctConstants;c=b("div.listing:not(.listing--product-variants, .listing--snippet)[data-id\x3dproduct]").length;Cog.addListener("listing","READY",k);h={nonInteractive:{nonInteraction:1}};a.isAnalyticsConfigured()&&(Cog.addListener("filters","analytics",e),Cog.addListener("listing",l.productImpression,f))};Cog.registerStatic({name:"analytics.listingHandlers",api:d,requires:[{name:"analytics.eventsDefinition",
apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.url",apiId:"urlUtils"}]})})(Cog.jQuery());
(function(){function b(b){this.$nav=b;this.bindAnalytics()}var e,f,k={};b.prototype.bindAnalytics=function(){function b(a,b){e.trackLinks(a,{componentName:"Navigation",href:b,componentPosition:l,type:f.ctConstants.navigation})}var a=this,k=a.$nav.find(".navigation-item-title"),l=e.getComponentPosition(a.$nav);(function(){if(1===k.length&&0!==a.$nav.closest(".tabs-content").length&&0===a.$nav.siblings().filter(".navigation").length){var d="#"+a.$nav.closest(".tabs-content").attr("id");d=a.$nav.closest(".component-content").find(".tabs-nav").find("[href\x3d'"+
d+"']");b(d,k.attr("href"))}else b(k)})()};k.onRegister=function(d){f=this.external.eventsDefinition;e=this.external.utils;new b(d.$scope)};Cog.registerComponent({name:"navigationAnalytics",api:k,selector:".navigation",requires:[{name:"analytics.utils",apiId:"utils"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"}]});return k})();
(function(){var b,e;Cog.registerComponent({name:"parametrizedhtml",api:{onRegister:function(f){e=this.external.eventsDefinition;b=this.external.utils;f=f.$scope;var k=f.find("a").attr("href"),d=b.getComponentPosition(f);b.trackLinks(f,{componentName:"External link",href:k,componentPosition:d,type:b.isExternalLink(k)?e.ctConstants.ExternalLink:e.ctConstants.linkClick})}},selector:".reference-link,.reference-icon-link",requires:[{name:"analytics.utils",apiId:"utils"},{name:"analytics.eventsDefinition",
apiId:"eventsDefinition"}]})})();
(function(){function b(b){for(var a=document.getElementsByTagName("body")[0].getElementsByTagName("meta"),d=0;d<a.length;d++)if(a[d].getAttribute("itemprop")===b)return a[d].getAttribute("content");return""}var e={},f,k;e.init=function(){f=this.external.eventsDefinition.LOAD.PRODUCT_INFO;k=this.external.utils;if(k.isAnalyticsConfigured()&&"Product Detail"===digitalData.page.category.pageType){var d={EAN:b("productID"),productTitle:b("name")};Cog.fireEvent("productInfo",f,d)}};Cog.registerStatic({name:"analytics.pdpLoadHandler",
api:e,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(){function b(a){var b=a.eventData.navDirect+" - "+digitalData.page.pageInfo.destinationURL;m.pushComponent("Recipe Listing",a.eventData.componentPosition,l.engagement,l.read);m.addTrackedEvent(l.carouselClick,b,l.engagement,l.read)}function e(a){m.pushComponent("Recipe Listing",a.eventData.componentPosition,l.engagement,l.interest);m.addTrackedEvent(l.loadMore,"Recipes",l.engagement,l.interest)}function f(a){var b=a.eventData.eventLabel;m.pushComponent("Recipe Listing",a.eventData.componentPosition,
l.engagement,l.interest);m.addTrackedEvent(l.filter,b,l.engagement,l.interest)}function k(a){var b=a.eventData.componentName+" - "+a.eventData.recipeTitle+" - "+a.eventData.recipeUrl;m.pushComponent("Recipe Listing",a.eventData.componentPosition,l.engagement,l.interest);m.addTrackedEvent(l.recipeClick,b,l.engagement,l.interest)}var d={},a,m,l;d.init=function(){a=this.external.eventsDefinition;m=this.external.utils;l=this.external.eventsDefinition.ctConstants;m.isAnalyticsConfigured()&&(Cog.addListener("recipeListing",
a.CLICK.CAROUSEL_CLICK,b),Cog.addListener("recipeListing",a.CLICK.LOAD_MORE_CLICK,e),Cog.addListener("recipeListing",a.CHANGE.FILTER_CHANGE,f),Cog.addListener("recipeListing",a.CLICK.LINK_CLICK,k))};Cog.registerStatic({name:"analytics.rmsHandler",api:d,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(){t||"undefined"===typeof jQuery||"undefined"===typeof jQuery.Topic||(jQuery.Topic("ADD_TO_CART").subscribe(k),jQuery.Topic("FOUND_CART").subscribe(f),jQuery.Topic("REMOVE_FROM_CART").subscribe(d),jQuery.Topic("OPEN_CART").subscribe(a),jQuery.Topic("CLOSE_CART").subscribe(m),b(".shopping-bag-continue-link").click(c),b(".shopping-bag-checkout-link").click(p),b(document).on("click",".shoppable-view-cart-button",l),b(document).on("click",".shoppable-checkout-close-button",m),
t=!0)}function f(a){E=g(a)}function k(a){var b=JSON.parse(a);a=g(a);H.has(b,"event.lastQtyAdded")&&q(a,{action:z.addtoCart,label:b.event.lastQtyAdded.name,category:z.conversion,subCategory:z.lead})}function d(a){a=g(a);a=_.differenceWith(E,a,_.isEqual);var b=a.map(function(a){return a.productInfo.productName}).join(" | ");q(a,{action:z.removecart,label:"Remove items - "+b,category:z.conversion,subCategory:z.diversion})}function a(){I||(I=!0,h("Open"))}function m(){I&&(I=!1,h("Close"))}function l(){C.pushComponent("Shoppable",
"");C.addTrackedEvent(z.viewBag,document.title,z.conversion,z.read)}function h(a){C.pushComponent("Shoppable","");C.addTrackedEvent(z.miniBag,a,z.conversion,z.interest)}function c(){C.pushComponent("Shoppable","");C.addTrackedEvent(z.continueShopping,"Continue shopping",z.conversion,z.interest)}function p(){q(E,{action:z.checkoutenhanced,label:"Checkout click",category:z.conversion,subCategory:z.win})}function u(a){var c=a.eventData.orderNumber,d=[],e=[];digitalData.transaction=[];digitalData.transaction.item=
[];digitalData.transaction.total={};digitalData.transaction.transactionID=a.eventData.orderNumber;digitalData.transaction.total.voucherCode="voucher Code";b.each(a.eventData.products,function(a,b){a=C.createProduct();a.productInfo.productID=b.upc||"";a.productInfo.productName=b.product_name||"";a.productInfo.sku=b.sku||"";a.productInfo.quantity=b.quantity||"";a.price.basePrice=b.item_total||"";a.productInfo.voucherCode="voucher Code";a.attributes.prodRetailer=b.merchant||"";a.attributes.productBrand=
b.brand||"";a.attributes.onlineStore="Online Store";a.attributes.paymentMethod="Payment Method";e.push(a);b.product_name&&d.push(b.product_name)});digitalData.transaction.item=e;C.pushComponent("Shoppable","");C.addTrackedEvent(z.purchaseenhanced,d,z.conversion,z.win,{nonInteractive:{nonInteraction:1}});C.addTrackedEvent(z.ordersummary,c,z.conversion,z.win,{nonInteractive:{nonInteraction:1}})}function q(a,b){digitalData.cart=[];digitalData.cart.item=[];C.pushCart(a);C.pushComponent("Shoppable","");
C.addTrackedEvent(b.action,b.label,b.category,b.subCategory)}function g(a){a=JSON.parse(a);var c=[];a.merchants&&b.each(a.merchants,function(a,d){b.each(d.items,function(a,b){a=C.createProduct();a.productInfo.productID=b.upc;a.attributes.prodRetailer=d.name;a.productInfo.productName=b.name;a.productInfo.price=b.price;a.productInfo.brand=b.brand;a.productInfo.quantity=b.qty;a.attributes.productBrand=b.brand;c.push(a)})});return c}var A={},F,C,H,z,t=!1,I=!1,E=[];A.init=function(){F=this.external.eventsDefinition;
H=this.external.objectHelper;C=this.external.utils;z=this.external.eventsDefinition.ctConstants;C.isAnalyticsConfigured()&&(Cog.addListener("shoppable",F.OTHER.SHOPPABLE_INIT,e),Cog.addListener("shoppable",F.OTHER.SHOPPABLE_PURCHASE,u))};Cog.registerStatic({name:"analytics.shoppableHandler",api:A,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.objectHelper",apiId:"objectHelper"}]})})(Cog.jQuery());
(function(){function b(b){a(c.clicktoaction,c.callToAction+" - "+b.eventData.label,c.engagement,c.read,b.eventData.position)}function e(b){a(c.storeLocator,"Store Locator Options - "+b.eventData.label,c.custom,c.lead,b.eventData.position)}function f(b){a(c.storesearch,"StoreSearchSubmitted "+b.eventData.zipCode,c.custom,c.interest,b.eventData.position)}function k(b){a(c.storeLocator,"StoreSearchEdit",c.custom,c.win,b.eventData.componentPosition)}function d(b){a(c.storeLocator,"Store Locator Results - "+
b.eventData.resultsNumber,c.custom,c.win,b.eventData.componentPosition)}function a(a,b,d,e,f){h.pushComponent(c.storeLocator,f,d,e);h.addTrackedEvent(a,b,d,e)}var m={},l,h,c;m.init=function(){l=this.external.eventsDefinition;h=this.external.utils;c=this.external.eventsDefinition.ctConstants;h.isAnalyticsConfigured()&&(Cog.addListener("storeLocator",l.CLICK.STORE_LOCATOR_EDIT,k),Cog.addListener("storeLocator",l.CLICK.STORE_LOCATOR_CTA,b),Cog.addListener("storeLocator",l.SUBMIT.STORE_LOCATOR,f),Cog.addListener("storeLocator",
l.OTHER.STORE_LOCATOR_RESULTS,d),Cog.addListener("storeLocator",l.OTHER.STORE_LOCATOR_OPTIONS,e))};Cog.registerStatic({name:"analytics.storeLocatorHandler",api:m,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a){var b=a.eventData.action||c.forms;h.pushComponent("Form",a.eventData.componentPosition);h.addTrackedEvent(b,a.eventData.label)}function f(a){a=a.eventData.err||[];var c=[];a.forEach(function(a){c.push(k(a))});d(c.join("|"),b(a[0]).closest("form"))}function k(a){try{var b=a.$field.attr("name")||a.$field.attr("id")||a.$holder.find("iframe[title]").attr("title")||a.$holder.find("input[name], select[name], textarea[name]").attr("name")}catch(q){}return b||"unknown element"}
function d(a,b){h.pushComponent("Form",h.getComponentPosition(b),c.custom,"Error");h.addTrackedEvent(c.inputerror,a,c.custom,"Error")}function a(a){h.pushComponent("Form",h.getComponentPosition(a.eventData.$formElement),c.custom,"Error");h.addTrackedEvent(c.serverError,a.eventData.errorMessage,c.custom,"Error")}var m={},l,h,c;m.init=function(){l=this.external.eventsDefinition.SUBMIT;h=this.external.utils;c=this.external.eventsDefinition.ctConstants;h.isAnalyticsConfigured()&&(Cog.addListener("form",
l.FORM,e),Cog.addListener("form",l.FORM_ERROR,f),Cog.addListener("form",l.SERVER_ERROR,a))};Cog.register({name:"analytics.submitHandlers",api:m,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){a("Location Top Module - See question",b.eventData.position)}function e(b){a("Location Middle Module - See question",b.eventData.position)}function f(b){a("Question Submit",b.eventData.position)}function k(b){a("Answer Submit",b.eventData.position)}function d(b){a("Rated inaccurate",b.eventData.position)}function a(a,b){l.pushComponent("TurnTo",b,c.engagement,c.interest);l.addTrackedEvent(c.turnto,a,c.engagement,c.interest)}var m={},l,h,c;m.init=function(){l=this.external.utils;
h=this.external.eventsDefinition;c=this.external.eventsDefinition.ctConstants;l.isAnalyticsConfigured()&&(Cog.addListener("turnto",h.SUBMIT.TURNTO_QUESTION,f),Cog.addListener("turnto",h.SUBMIT.TURNTO_ANSWER,k),Cog.addListener("turnto",h.CLICK.TURNTO_INACCURATE,d),Cog.addListener("turnto",h.CLICK.TURNTO_SEE_QUESTION,e),Cog.addListener("turnto",h.CLICK.TURNTO_TEASER_SEE_QUESTION,b))};Cog.registerStatic({name:"analytics.turntoHandler",api:m,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},
{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){var e={},f={},k,d;e.init=function(){k=this.external.eventsDefinition.ctConstants;d=this.external.eventsDefinition.CLICK};f.isAnalyticsConfigured=function(){return"undefined"!==typeof isDigitalDataActive&&isDigitalDataActive&&"undefined"!==typeof digitalData};f.pushComponent=function(a,b,d,e,c){digitalData.component=[];digitalData.component.push({componentInfo:{componentID:a,componentName:a},category:{primaryCategory:d||k.engagement},subcategory:e||k.read,attributes:c||{position:b,componentPosition:b,
campaignWorkFlow:"",componentVariant:"defaultView",promoCreative:"",promoID:"",promoName:"",promoPosition:"",reviewVendorName:"",toolName:"",timestamp:new Date}})};f.addTrackedEvent=function(a,b,d,e,c,f){var h={};h.eventInfo={type:f||k.trackEvent,eventAction:a,eventLabel:b,eventValue:1};h.category={primaryCategory:d||k.engagement};h.subcategory=e||k.read;h.attributes=c||{};"undefined"!==typeof PubSub&&PubSub.publish("UDM",h)};f.createProduct=function(a){a=a||{};return{productInfo:{productID:a.EAN||
"",productName:a.shortTitle||"",price:0,brand:digitalData.siteInfo.localbrand,quantity:0,sku:a.sku||""},category:{primaryCategory:a.category||""},price:{voucherCode:"voucher code"},attributes:{productPosition:0,productVariants:a.sizes||"",listPosition:0,pcatName:"",prodRetailer:"",productBrand:digitalData.siteInfo.localbrand,productAward:"",productFindingMethod:""}}};f.pushProduct=function(a){digitalData.product.push(a)};f.pushCart=function(a){digitalData.cart.item=a};f.getComponentPosition=function(a){return a.data("position")||
""};f.setSearchData=function(a,b){digitalData.page.pageInfo.onsiteSearchTerm=a;digitalData.page.pageInfo.onSiteSearch=b||""};f.determineLinkTitle=function(a){return a.attr("title")||a.text()||a.parent().attr("title")||""};f.isExternalLink=function(a,b){a=a.toLowerCase();return _.startsWith(a,"http")&&!_.includes(a,window.location.hostname.toLowerCase())&&!b};f.resolveListingProductEan=function(a){return a.closest(".listing-item").data("item-primarykey").split("/").pop()};f.resolveSearchProductEan=
function(a){return a.closest(".searchResults-item").data("ean")||a.data("ean")};f.fetchVisibleListingItems=function(a){var b=a.find(".listing-item").filter(":visible");a=a.find(".show-more").data("limit");return void 0!==a&&b.length>a?b.slice(0,a):b};f.trackLinks=function(a,e){a.on("click",function(a){a=b(a.target);e=e||{};e.type=e.type||"";e.componentName=e.componentName||"";e.componentPosition=e.componentPosition||"";e.href=e.href||a.attr("href")||a.parent().attr("href");e.label=e.label||f.determineLinkTitle(a);
e.type===k.product&&(e.componentName===k.listing?e.ean=f.resolveListingProductEan(a):e.componentName===k.searchResults&&(e.ean=f.resolveSearchProductEan(a)));Cog.fireEvent("link",d.LINK_CLICK,e)})};f.isElementInView=function(a){if(0<b(a).length){var d=b(a).offset().top;a=b(a).offset().top+b(a).outerHeight();var e=b(window).scrollTop()+window.innerHeight,f=b(window).scrollTop(),c=!1;e>d&&f<a&&(c=!0);return c}};f.getEanFromSmartProductId=function(a){var b;for(b in allProducts)if(allProducts.hasOwnProperty(b)&&
a===allProducts[b].smartProductID){var d=b;break}return d};Cog.registerStatic({name:"analytics.utils",sharedApi:f,api:e,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"}]})})(Cog.jQuery());
(function(){function b(b){var c=d([h.youtube,b.eventData.videoTitle,b.eventData.videoId]);l.pushComponent("Video",b.eventData.componentPosition,h.engagement,h.interest);a(b.eventData.videoId,b.eventData.videoTitle);l.addTrackedEvent(h.videoPlays,c,h.engagement,h.interest)}function e(b){var c=d([b.eventData.videoTitle,"Video Progress",b.eventData.progress]);l.pushComponent("Video",b.eventData.componentPosition,h.custom,h.read);a(b.eventData.videoId,b.eventData.videoTitle);l.addTrackedEvent(h.videoProgress,
c,h.custom,h.read)}function f(b){var c=d([h.youtube,b.eventData.videoTitle,b.eventData.videoId]);l.pushComponent("Video",b.eventData.componentPosition,h.engagement,h.interest);a(b.eventData.videoId,b.eventData.videoTitle);l.addTrackedEvent(h.videoCompletes,c,h.engagement,h.interest)}function k(b){var c=d([b.eventData.videoTitle,b.eventData.videoId]);l.pushComponent("Video",b.eventData.componentPosition,h.engagement,h.other);a(b.eventData.videoId,b.eventData.videoTitle);l.addTrackedEvent(h.VideoFastForwarded,
c,h.engagement,h.other)}function d(a){return a.filter(Boolean).join(" - ")}function a(a,b){digitalData.video=[];digitalData.video.push({videoid:a,videoname:b})}var m={},l,h;m.init=function(){l=this.external.utils;h=this.external.eventsDefinition.ctConstants;l.isAnalyticsConfigured()&&(Cog.addListener("video",h.videoPlays,b),Cog.addListener("video",h.videoProgress,e),Cog.addListener("video",h.videoCompletes,f),Cog.addListener("video",h.VideoFastForwarded,k))};Cog.registerStatic({name:"analytics.videoHandlers",
api:m,requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(){var b={safeCreateMbox:function(e){b.isTargetEnabled()?b.createMbox(e):console.error("Target is disabled for this domain")},createMbox:function(b){var e=[];e.push(b.elementId);e.push(b.mboxName);for(var k in b.properties)b.properties.hasOwnProperty(k)&&e.push(k+"\x3d"+b.properties[k]);mboxDefine.apply(window,e);mboxUpdate(b.mboxName)},isTargetEnabled:function(){return"undefined"!==typeof mboxDefine&&"undefined"!==typeof mboxUpdate}};Cog.registerStatic({name:"target.handler",api:{},sharedApi:b})})();
(function(b){var e={},f,k;e.onHeaderClick=function(d,a){d=b(d.currentTarget);d.parent().toggleClass("is-active");Cog.fireEvent("accordion",f.CLICK.ACCORDION_CLICK,{query:d.find(".accordion-title \x3e [title]")[0].title,componentPosition:a})};e.onRegister=function(b){var a=b.$scope;f=this.external.eventsDefinition;k=this.external.utils;a.on("click","\x3e div \x3e ul \x3e li.accordion-slide \x3e div.accordion-head",function(b){e.onHeaderClick(b,k.getComponentPosition(a))});a.on("click","\x3e div \x3e ul \x3e li.accordion-slide \x3e div.accordion-head \x3e h3.accordion-title \x3e a",
function(a){a.preventDefault()})};Cog.registerComponent({name:"accordion",api:e,selector:".accordion",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(a){this.$el=a;this.$channelContainerLinks=this.$el.find(".addthis_toolbox a");this.componentPosition=h.getComponentPosition(this.$el);this.toggleVisibility();this.addEventListeners()}function f(a,b){a&&b&&(window.addthis_config=window.addthis_config||{},window.addthis_config.pubid=a,a=document.createElement("script"),a.setAttribute("src",b),document.body.appendChild(a))}var k={},d,a,m,l,h;e.prototype={addEventListeners:function(){this.$channelContainerLinks.click(function(a){Cog.fireEvent("addThis",
l.CLICK.ADDTHIS_SHARE,{channel:this.getChannelName(a.target),position:this.componentPosition})}.bind(this));Cog.addListener("utils.cookieq","statusChanged",this.toggleVisibility.bind(this))},getChannelName:function(a){return("a"===a.tagName.toLowerCase()?b(a).attr("title"):b(a).closest("a").attr("title"))||a.text||""},toggleVisibility:function(){var b=m();b.current===a||b.current===d?this.$el.addClass("is-disabled"):this.$el.removeClass("is-disabled")}};k.init=function(a){var b=a.find(".addthis-script").data("key")||
"";a=a.find(".addthis-script").data("path")||"";f(b,a)};k.onRegister=function(b){m=this.external.cookieq.getStatus;d=this.external.cookieq.getAvailableStatuses().NONE;a=this.external.cookieq.getAvailableStatuses().REFUSED;h=this.external.utils;l=this.external.eventsDefinition;new e(b.$scope)};window.runOnWindowLoad(function(){var a=document.querySelector(".addThis-js-lazyLoad");if(a){var b=a.getAttribute("data-key");a=a.getAttribute("data-path");f(b,a)}});Cog.registerComponent({name:"addThis",api:k,
selector:".addthis",requires:[{name:"utils.cookieq",apiId:"cookieq"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){var b={},e,f;b.onRegister=function(b){var d=b.$scope;e=this.external.eventsDefinition;f=this.external.utils;d.on("click","a",function(a){var b=f.getComponentPosition(d);Cog.fireEvent("articleList",e.CLICK.ARTICLE_LINK,{query:a.currentTarget.href,componentPosition:b})})};Cog.registerComponent({name:"articleList",api:b,selector:".articleList",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a){Cog.fireEvent("bazaarvoice",d.OTHER.BAZAARVOICE);var b=a.find('[data-bv-show\x3d"rating_summary"]').get(0);if(a.find(".bv_stars_component_container").length)f(a);else{var e={childList:!0,attributes:!1,subtree:!0},h=new MutationObserver(function(b,d){b.forEach(function(b){b.addedNodes&&a.find(".bv_stars_component_container").length&&(f(a),d.disconnect())})});b&&h.observe(b,e)}}function f(a){a.find("svg").each(function(a,d){d=b(d);a=d.find("linearGradient[id]");var e=a.attr("id"),
c=e+"-"+ +new Date;d=d.children("[style*\x3d'#"+e+"']");a.attr("id",c);d.each(function(a,d){b(d).attr("style","fill: url(#"+c+") !important")})});return a}var k={},d;window.runOnWindowLoad(function(){var a=document.getElementById("bazaarvoice-lazyLoad");a&&(a.setAttribute("src",a.getAttribute("data-src")),a.removeAttribute("data-src"),a.addEventListener("load",function(){Cog.fireEvent("bazaarvoice","BV_LAZY_LOAD")}))});k.onRegister=function(a){var b=a.$scope;d=this.external.eventsDefinition;"undefined"!==
typeof $BV?new e(b):Cog.addListener("bazaarvoice","BV_LAZY_LOAD",function(){new e(b)})};Cog.registerComponent({name:"bazaarvoice",api:k,selector:".ratingsandreviews",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$links=b.find("a");this.componentPosition=f.getComponentPosition(b);f.trackLinks(this.$links,{componentName:"Breadcrumbs",componentPosition:this.componentPosition})}var e={},f;e.onRegister=function(e){f=this.external.utils;new b(e.$scope)};Cog.registerComponent({name:"breadcrumbs",api:e,selector:".breadcrumbs",requires:[{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){var e={},f=b("body");e.onRegister=function(b){var d=b.$scope;b=d.children().data("browsers");var a=function(){d.removeClass("is-open");f.removeClass("is-overlay-open");Cog.Cookie.create("browsers-accepted",!0,30)};b&&bowser.isUnsupportedBrowser(b,!0,window.navigator.userAgent)&&!Cog.Cookie.read("browsers-accepted")&&(d.addClass("is-open"),f.addClass("is-overlay-open"));d.on("click",".browsersupport-dialog-close",a);d.on("click",".btn-primary",function(b){a();b.preventDefault()})};Cog.registerComponent({name:"browsersupport",
api:e,selector:".browsersupport"})})(Cog.jQuery());
(function(b){function e(d,a){this.captchaProvider=a;this.$captcha=d;this.$brandElement=b("#brand");this.initGoogleCaptchaIfConfigured();this.initDeepBlueIfConfigured()}var f={},k=!1;e.prototype={initDeepBlueIfConfigured:function(){if(this.captchaProvider.isDeepblueCaptcha()&&this.$brandElement.length){var d=this.$brandElement.val();b.get("/sk-eu/services/deepblueCaptcha?brand\x3d"+d).done(function(a){this.$captcha.html(a)}.bind(this)).fail(function(){this.$captcha.html("Failed to obtain captcha image. Check the brand and public key.")}.bind(this))}},initGoogleCaptchaIfConfigured:function(){this.captchaProvider.isGoogleCaptcha()&&
(this.loadGoogleCaptchaScript(),this.deactivateErrorMsg(this.$captcha))},loadGoogleCaptchaScript:function(){k||(b("head").append('\x3cscript src\x3d"https://www.google.com/recaptcha/api.js"\x3e\x3c/script\x3e'),k=!0)},deactivateErrorMsg:function(b){window.grecaptcha&&grecaptcha.getResponse&&grecaptcha.getResponse()&&b.find(".error-msg.active").length&&b.find(".error-msg.active").removeClass("active");setTimeout(function(){this.deactivateErrorMsg(b)}.bind(this),2E3)}};f.onRegister=function(b){var a=
this.external.captchaProvider,d=a.getCaptcha(b.$scope);b=function(){new e(d,a)};d.data("lazyloaded")?window.runOnWindowLoad(b):b()};Cog.registerComponent({name:"captcha",api:f,selector:".captcha",requires:[{name:"utils.captchaProvider",apiId:"captchaProvider"}]})})(Cog.jQuery());
(function(b){function e(b,d){this.$el=b;this.$slidesList=this.$el.find(".carousel-slides");this.$slides=this.$slidesList.find(".carousel-slide");this.$firstImage=this.$slidesList.find(".carousel-slide:first-child img");this.$links=this.$slides.find("a");this.$controls=this.$el.find(".carousel-nav-item");this.$btnPrev=this.$el.find(".carousel-nav-prev");this.$btnNext=this.$el.find(".carousel-nav-next");this.slidesMaxHeight=this.$slidesList.data("height");this.delay=1E3*this.$slidesList.data("delay")||
0;this.autoRotate=this.$slidesList.data("rotate");this.currentIndex=0;this.status=d;this.componentPosition=a.getComponentPosition(b);this.init=function(){(new f).init.call(this)};this.init();this.bindUIEvents();this.handleAutoRotate(this.currentIndex);this.resizeView()}function f(){}var k={},d,a;e.prototype={bindUIEvents:function(){a.trackLinks(this.$links,{componentName:d.CLICK.CAROUSEL_CLICK,componentPosition:this.componentPosition});this.$controls.on("click","a",function(a){var d=b(a.target).parent();
d=this.$controls.index(d);a.preventDefault();this.showSlide(d);this.trackNavigation(d+1)}.bind(this));this.$btnPrev.on("click","a",function(a){a.preventDefault();this.trackNavigation("PREVIOUS");this.showPrevious()}.bind(this));this.$btnNext.on("click","a",function(a){a.preventDefault();this.trackNavigation("NEXT");this.showNext()}.bind(this));this.$slides.on("click","img",function(a){this.trackImageClick(a)}.bind(this));swipeDetector(this.$el.get(0),function(a){"left"===a?this.showNext():"right"===
a&&this.showPrevious()}.bind(this));b(window).resize(b.throttle(150,function(){this.resizeView()}.bind(this)));this.$btnNext.on("click",function(){this.trackNavigation("NEXT")}.bind(this));this.$btnPrev.on("click",function(){this.trackNavigation("PREVIOUS")}.bind(this))},showSlide:function(a){clearTimeout(this.timerId);var d=this.$slides.eq(this.currentIndex);a=0>a?this.$slides.length-1:a>=this.$slides.length?0:a;Number(a)!==Number(this.currentIndex)&&(this.$slides.stop(!0,!0),d.removeClass("is-active").fadeOut(function(){b(this).removeClass("is-active");
this.$controls.removeClass("is-active").eq(a).addClass("is-active")}.bind(this)),this.$slides.eq(a).fadeIn(function(){b(this).addClass("is-active")}));this.currentIndex=a;this.handleAutoRotate(a)},showNext:function(){this.showSlide(this.currentIndex+1)},showPrevious:function(){this.showSlide(this.currentIndex-1)},resizeView:function(){if(!this.status.isAuthor()){var a=0;this.$el.removeClass("is-ready");if(this.$firstImage.is(".lazyload"))this.$firstImage.on("load",function(){this.resizeView()}.bind(this));
else this.$slides.each(function(){var d=Math.round(b(this).height());a=d>a?d:a}),this.slidesMaxHeight&&a>this.slidesMaxHeight&&(a=this.slidesMaxHeight),this.$slidesList.css("height",a),this.$el.addClass("is-ready")}},handleAutoRotate:function(a){0<this.delay&&!0===this.autoRotate&&(this.timerId=setTimeout(function(){this.showSlide(a+1)}.bind(this),this.delay))},trackNavigation:function(a){Cog.fireEvent("carousel",d.CLICK.CAROUSEL_CLICK,{query:a,componentPosition:this.componentPosition})},trackImageClick:function(a){Cog.fireEvent("image",
d.CLICK.IMAGE_CLICK,{altText:b(a.target).attr("alt"),componentPosition:this.componentPosition})}};f.prototype.init=function(){var a=function(a){clearTimeout(this.timerId);this.isActive||(this.up=this.isActive=!0,a<this.currentIndex&&(this.up=!1),this.$slidesList.find(".carousel-slide.is-active").removeClass("is-active"),a>=this.$slides.length&&(this.currentIndex=0,a=1),0>a&&(this.currentIndex=this.$slides.length,a=this.$slides.length-1),a<this.currentIndex&&(this.$slidesList.find(".carousel-slide:last-child").prependTo(this.$slidesList),
this.$slidesList.css("left",-this.slidOffset)),this.$slidesList.animate({left:"+\x3d"+(this.up?"-":"")+this.slidOffset},400,function(){a>this.currentIndex&&this.$slidesList.find(".carousel-slide:first-child").appendTo(this.$slidesList);this.currentIndex=a;this.$slidesList.css("left","0");this.$slidesList.find(".carousel-slide").eq(this.activeListItemIndex).addClass("is-active");this.isActive=!1}.bind(this)))},d=0;this.$el.is(".carousel-slick--variant-1")?(d=this.$slidesList.css("width"),this.slidOffset=
parseInt(d,10)/3,this.$slidesList.css("width",4*this.slidOffset+"px"),this.activeListItemIndex=1,this.showSlide=a,this.$slidesList.find(".carousel-slide:last-child").prependTo(this.$slidesList),this.currentIndex=1,b(window).resize(b.throttle(150,function(){this.$slidesList.css("width","auto");this.init()}.bind(this)))):this.$el.is(".carousel-slick--variant-2")?(d=this.$slidesList.css("width"),this.slidOffset=parseInt(d,10)/4,this.$slidesList.css("width",5*this.slidOffset+"px"),this.activeListItemIndex=
0,this.showSlide=a):this.$slides.hide().first().show()};k.onRegister=function(b){d=this.external.eventsDefinition;a=this.external.utils;new e(b.$scope,this.external.status)};Cog.registerComponent({name:"carousel",api:k,selector:".carousel",requires:[{name:"utils.status",apiId:"status"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){var b={},e={},f={};b.onRegister=function(b){var d=b.$scope,a=d.attr("data-smart-product-id");e=this.external.utils;f=this.external.eventsDefinition;d.on("click",function(){Cog.fireEvent("buyitnow",f.CLICK.BIN_CLICK,{componentPosition:e.getComponentPosition(d),product:e.getEanFromSmartProductId(a),component:"Cartwire"})}.bind(this))};window.runOnWindowLoad(function(){var b=document.getElementById("cartWire-js-lazyLoad");b&&(b.src=b.getAttribute("data-src"),b.removeAttribute("data-src"),
b.id="cartWire-js-lazyLoaded")});Cog.registerComponent({name:"Cartwire",api:b,selector:".cartwire",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(a){this.$btnBuyItNow=a.children(".channelAdvisor-buy-it-now-btn");this.$retailersPopup=a.children(".channelAdvisor-popup");this.$btnClosePopup=this.$retailersPopup.children(".channelAdvisor-close-btn");this.bindUIEvents();"undefined"!==typeof this.$btnBuyItNow.offset()&&this.$btnBuyItNow.offset().top<this.$retailersPopup.height()&&this.$retailersPopup.addClass(d.positionBottom).css({top:a.height()})}var e={},f={},k={},d={isHidden:"is-hidden",positionBottom:"position-bottom"};
b.prototype.bindUIEvents=function(){this.$btnBuyItNow.on("click",function(){this.$retailersPopup.toggleClass(d.isHidden);Cog.fireEvent("buyitnow",f.CLICK.BIN_CLICK,{componentPosition:k.getComponentPosition(this.$btnBuyItNow),product:this.$btnBuyItNow.attr("data-ean"),component:"Channel Advisor"})}.bind(this));this.$btnClosePopup.on("click",function(){this.$retailersPopup.addClass(d.isHidden)}.bind(this))};e.onRegister=function(a){new b(a.$scope);k=this.external.utils;f=this.external.eventsDefinition};
Cog.registerComponent({name:"channelAdvisor",api:e,selector:".channelAdvisor",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(){function b(b){this.$el=b;this.$button=this.$el.find(".clic2buy-buy-it-now-btn");this.$productEan=this.$button.closest("div[data-widget-ean]").attr("data-widget-ean");this.componentPosition=f.getComponentPosition(b);this.addHandlers()}var e,f;b.prototype={addHandlers:function(){this.$button.on("click",function(){this.trackClick()}.bind(this))},trackClick:function(){var b=digitalData.product.filter(function(a){return a.productInfo.productID===this.$productEan}.bind(this)),d="";0<b.length&&
(d="Online - "+b[0].productInfo.productName);Cog.fireEvent("clic2buy",e.CLICK.CLIC2BUY_BUTTON_CLICK,{componentPosition:this.componentPosition,componentName:e.ctConstants.clic2buy,eventLabel:d})}};window.runOnWindowLoad(function(){var b=document.getElementById("clic2Buy-js-lazyLoad");b&&(b.src=b.getAttribute("data-src"),b.removeAttribute("data-src"),b.id="clic2Buy-js-lazyLoaded",b.addEventListener("load",function(){Cog.fireEvent("clic2BuyLazyLoad","C2B_LAZY_LOAD")},!0))});Cog.registerComponent({name:"clic2Buy",
api:{onRegister:function(k){e=this.external.eventsDefinition;f=this.external.utils;new b(k.$scope)},init:function(){"c2bWidget"in window&&c2bWidget.init();Cog.addListener("clic2BuyLazyLoad","C2B_LAZY_LOAD",function(){c2bWidget.init()});Cog.addListener("showMore","REVEAL_NEXT",function(){c2bWidget.init()})}},selector:".clic2buy",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b,e){function f(a){this.$el=a;this.$element=this.$el.find(".cc-smart-product-button");0<this.$element.length&&(this.smartProductIdConfigured=this.$element.attr("data-smart-product-id"),this.componentPosition=k.getComponentPosition(this.$el),this.ccIframeEvents())}b={};var k,d;window.runOnWindowLoad(function(){var a=e.getElementById("constantCommerce-lazyLoad");if(a){var b=a.getAttribute("data-src");a.src=b;a.removeAttribute("data-src")}});f.prototype={getProductNameFromId:function(){var a=
digitalData.product,b=k.getEanFromSmartProductId(this.smartProductIdConfigured);a=a.filter(function(a){return a.productInfo.productID===b}.bind(this));if(0<a.length)return"Online - "+a[0].productInfo.productName},ccIframeEvents:function(){var a=this.getProductNameFromId(),b=this.componentPosition;window.addEventListener("message",function(e){if(e&&e.data&&e.origin.match("constant.co")){var f=e.data;try{"string"===typeof e.data&&(f=JSON.parse(e.data))}catch(c){console.error("data: cannot be parsed",
e.data)}f&&"create-component"===f.action&&Cog.fireEvent("constantCommerce",d.CLICK.CONSTANT_COMMERCE_BUTTON_CLICK,{componentPosition:b,componentName:d.ctConstants.constantCommerce,eventLabel:a})}})}};b.onRegister=function(a){k=this.external.utils;d=this.external.eventsDefinition;new f(a.$scope)};Cog.registerComponent({name:"BuyItNowConstantCommerce",api:b,selector:".buyitnow",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.focusTrap",
apiId:"focusTrap"}]})})(Cog.jQuery(),document);
(function(b){function e(b){this.$nav=b;this.$links=this.$nav.find(k.selectors.itemLink);this.$nav.hasClass(k.classes.select)?this.covertToSelectBox():this.bindDefaultUIEvents()}var f={},k={selectors:{activeItemLink:".countrylanguageselector__item__link.is-active",componentContent:"\x3e.component-content",firstLink:".countrylanguageselector__item:first-child a",hasChildren:".has-children",itemLink:".countrylanguageselector__item__link",mobileMenu:".countrylanguageselector__mobile-menu",root:".countrylanguageselector__root",
select:".countryLanguageSelector--select"},classes:{disabled:"disabled",isActive:"is-active",isOpen:"is-open",select:"countryLanguageSelector--select",selectRoot:"countrylanguageselector__select__root"}};e.prototype.bindDefaultUIEvents=function(){this.$nav.on("tap click",k.selectors.mobileMenu,function(d){d.preventDefault();b(this).next(k.selectors.root).toggleClass(k.classes.isOpen);b(this).attr("aria-expanded",function(a,b){"false"===b&&(b=!1);return!b})});this.$nav.on("mouseenter focusin",k.selectors.hasChildren,
function(){b(this).addClass(k.classes.isOpen)}).on("mouseleave",k.selectors.hasChildren,function(){b(this).removeClass(k.classes.isOpen)}).on("focusout",k.selectors.hasChildren,function(){var d=b(this);setTimeout(function(){d.is(":focus")||d.find(":focus").size()||d.removeClass(k.classes.isOpen)},0)})};e.prototype.covertToSelectBox=function(){var d=b("\x3cdiv /\x3e",{"class":"controls"}),a=b("\x3cselect /\x3e",{"class":k.classes.selectRoot});d.append(a);this.$links.each(function(d,e){d=b(e);e=b("\x3coption /\x3e").attr("dir",
d.attr("dir")).attr("lang",d.attr("lang")).attr("value",d.attr("href")).text(d.text());d.hasClass(k.classes.isActive)&&e.attr("selected",!0);a.append(e)});this.$nav.addClass("countrylanguageselector__select").find(k.selectors.componentContent).append(d);if(1<this.$links.length)a.on("change",function(a){a.preventDefault();a=b(a.target).val();location.href=a});else d.addClass(k.classes.disabled),a.attr("tabindex","-1")};f.onRegister=function(b){new e(b.$scope)};Cog.registerComponent({name:"countryLanguageSelector",
api:f,selector:".countryLanguageSelector"})})(Cog.jQuery());
(function(b){function e(a){switch(p.determineFormType(a)){case p.FORM_TYPE.CONTACT_US:f(a,{submitLabel:"Contact Us Form Submitted",submitAction:h.ctConstants.forms,pageLoadLabel:"Contact Us Form Start",pageLoadAction:h.ctConstants.contactUsStart});break;case p.FORM_TYPE.SIGN_UP:f(a,{submitLabel:"Sign Up Form Submitted",submitAction:h.ctConstants.forms,pageLoadLabel:"Sign Up Start",pageLoadAction:h.ctConstants.signupStart});break;default:k(a)}}function f(a,e){e=e||{submitLabel:"Form Submitted",submitAction:h.ctConstants.forms,
pageLoadLabel:"Form Start",pageLoadAction:h.ctConstants.forms};var f=p.getFormName(a),g=c.getComponentPosition(a.find("form"))||0,k=e.pageLoadLabel+" | "+f;d(a,e.submitLabel+" | "+f,e.submitAction,g);b(document).ready(function(){m(h.LOAD.FORM_PAGE,k,e.pageLoadAction,g)})}function k(a){var b=a.find("a[id]").attr("id")||"",d=p.getFormName(a),e=c.getComponentPosition(a.find("form"))||0,f=d+" - "+b,g=h.ctConstants.forms;a.on("submit",function(){m(h.CLICK.FORM_CLICK,f,g,e)})}function d(b,c,d,e){b.on("submit",
function(f){a(b,f);m(h.CLICK.FORM_CLICK,c,d,e)})}function a(a,d){d.preventDefault();d=a.find("form");var e=a.find("\x3e.component-content"),f=e.data("success-redirect"),g=e.data("error-redirect");e=JSON.stringify(e.data("adapter-params"));var k=p.arrayToObject(d.serializeArray());k.adapterParams=e;p.isFormValid(d)&&p.isCaptchaValidOrNotExist(a)&&b.ajax({type:d.attr("method"),url:"/sk-eu/services/dcs",data:k,contentType:"application/x-www-form-urlencoded",success:function(b){if(b.success){var d=p.determineFormType(a),
e=p.getFormName(a),k=c.getComponentPosition(a.find("form"))||0;d===p.FORM_TYPE.CONTACT_US?m(h.SUBMIT.FORM,"Contact us Form Submit | "+e,h.ctConstants.contactUsSubmit,k):m(h.SUBMIT.FORM,"Successful Sign Up | "+e,h.ctConstants.signupSubmit,k);Cog.Cookie.create("UnileverID",b.unileverId,b.unileverIdTtlInDays);window.location.href=f+".html"}else window.location.href=g+".html"},error:function(){window.location.href=g+".html"}})}function m(a,b,c,d){Cog.fireEvent("form",a,{label:b,action:c||h.ctConstants.forms,
componentPosition:d})}var l={},h,c,p;var u=function(a,b){a.find("input:text, input:password, input:file, select, textarea").val("");a.find("input:radio").prop("checked",!1);a.find("input:checkbox").prop("checked",!1);b&&a.find("input:text, input:password, input:file, select, textarea").blur()};var q=function(a){a[0].reset();a.find("input, textarea").blur()};var g=function(){function a(a,b){a.is(":checked")?b.addClass("checked"):b.removeClass("checked")}return function(c){c.each(function(c,d){var e=
b(d),f=e.parent().find("label");f.on("click",function(a){a.preventDefault();d.checked=!d.checked});a(e,f);e.on("change",function(){a(e,f)})})}}();l.onRegister=function(a){h=this.external.eventsDefinition;c=this.external.utils;p=this.external.formUtils;a=a.$scope;var d=this.external.browser,f=this.external.status;a.find("textarea[maxlength]").bind("change keyup",function(){var a=b(this).attr("maxlength"),c=b(this).val();c.length>a&&b(this).val(c.substring(0,a))});g(a.find("input[type\x3dradio], input[type\x3dcheckbox]"));
a.find("button.clearButton").bind("click",function(){u(b(this.form))});d.msie&&10>d.version?(a.on("click","button.clearButton",function(){u(b(this.form),!0)}),a.find("input.reset").bind("click",function(a){a.preventDefault();q(b(this.form))}),a.find("button.editSubmit").bind("click",function(a){if(f.isAuthor())return!0;a.preventDefault();window.alert("Submit functionality is disabled in Edit mode - switch to Preview mode to use it.")})):(a.on("click","button.clearButton",function(){u(b(this.form))}),
a.find("button.editSubmit").bind("click",function(a){if(f.isAuthor())return!0;a.preventDefault();window.alert("Submit functionality is disabled in Edit mode - switch to Preview mode to use it.")}));e(a)};Cog.registerComponent({name:"form",api:l,selector:".form",requires:[{name:"utils.browser",apiId:"browser"},{name:"utils.status",apiId:"status"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.form",apiId:"formUtils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.altText=this.$el.find("img").attr("alt")||"";this.position=k.getComponentPosition(this.$el);this.bindUIEvents()}var e={},f,k;b.prototype.bindUIEvents=function(){this.$el.on("click",function(){Cog.fireEvent("image",f.CLICK.IMAGE_CLICK,{altText:this.altText,componentPosition:this.position})}.bind(this));var b=this.$el.find("a");0<b.length&&k.trackLinks(b,{componentName:"Image",componentPosition:this.position,href:b.attr("href"),type:k.isExternalLink(b.attr("href"),
b.attr("href").includes("smartlabel"))?f.ctConstants.ExternalLink:f.ctConstants.linkClick,label:this.altText||k.determineLinkTitle(b)})};e.onRegister=function(d){f=this.external.eventsDefinition;k=this.external.utils;new b(d.$scope)};Cog.registerComponent({name:"image",api:e,selector:".image",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a,b,c,d){a=a.attr(b);b=a.substring(0,a.indexOf("."));return a.replace(b,c).replace(/.png/g,d).replace(/.jpg/g,d)}function f(a,b,c){a.on("click",function(){k("NEXT",m.getComponentPosition(c))});b.on("click",function(){k("PREVIOUS",m.getComponentPosition(c))})}function k(b,d){Cog.fireEvent("imageGallery",a.CLICK.IMAGE_GALLERY_CLICK,{query:b,componentPosition:d})}var d={},a,m;d.onRegister=function(d){function h(a){a=a.filter(".is-active").next();a.length&&a.trigger("click")}function c(a){a=
a.filter(".is-active").prev();a.length&&a.trigger("click")}function k(a,b){b+=F.parent().width()/2-a.filter(".is-active").width()/2;b=Math.max(b,-1*F.width()+F.parent().width());b=Math.min(0,b);F.animate({left:b})}var l=d.$scope,q=l.find(".imageGallery-view img"),g=l.find(".imageGallery-view picture"),A=l.find(".imageGallery-view"),F=l.find(".imageGallery-thumbnails").find(".imageGallery-list").find(".imageGallery-list-inner"),C=F.find("li"),H=l.find(".imageGallery-view .imageGallery-arrow"),z=l.find(".imageGallery-arrow-left"),
t=l.find(".imageGallery-arrow-right"),I=l.find(".imageGallery-thumbnails .imageGallery-arrow"),E=l.find(".imageGallery-description"),G=C.eq(0),J=A.data("height"),K=0<g.length?g:q;swipeDetector(d.$scope.get(0),function(a){"left"===a?h(C):"right"===a&&c(C)}.bind(this));a=this.external.eventsDefinition;m=this.external.utils;C.on("click",function(a){a.preventDefault();a.stopPropagation();var c=b(this),d=c.find("a"),f=d.find("img");if(!c.hasClass("is-active")){C.removeClass("is-active");c.addClass("is-active");
K.on("load",function(){K.findSelf("img").fadeIn(200);E.text(d.data("description"))});a=F.parent().offset().left;var h=a+F.parent().width(),k=c.offset().left;c=k+c.outerWidth(!1);a>k?F.animate({left:"+\x3d"+(a-k)}):h<c&&F.animate({left:"-\x3d"+(c-h)});K.findSelf("img").fadeTo(200,0,function(){if(0<g.length){var a=f.attr("src"),c=a.indexOf("."),d=a.substring(0,c),h=a.substring(c,c+4);a=g.find("img");c=e(a,"src",d,h);a.attr("src",c);a.attr("data-src",c);g.find("source").each(function(){var a=b(this),
c=e(a,"srcset",d,h);a.attr("srcset",c);a.attr("data-srcset",c)});a.removeAttr("width").fadeTo(200,1)}else{c=f.data("height");a=!J||c<=J?c:J;var k=f.data("width");c=a*k/c;k=f.attr("src");k=k.includes(".rendition")?k.substring(0,k.indexOf(".rendition")):k;q.attr("width",parseInt(c,10));q.attr("height",parseInt(a,10));q.attr("src",k);q.fadeTo(200,1)}})}});I.on("click",function(a){a.preventDefault();a.stopPropagation();a=b(this).hasClass("imageGallery-arrow-left")?-1:1;a=parseInt(F.css("left"),10)-a*
C.eq(0).width()*2;a-=F.parent().width()/2-C.filter(".is-active").width()/2;k(C,a)});H.on("click",function(a){a.preventDefault();a.stopPropagation();F.stop(!1,!0);1===(b(this).hasClass("imageGallery-arrow-left")?-1:1)?h(C):c(C);a=C.filter(".is-active").position();k(C,-1*a.left);H.removeClass("is-disabled")});d=K.findSelf("img").attr("height");A=!J||d<=J?d:J;I=K.findSelf("img").attr("width");K.attr("width",parseInt(A*I/d,10));K.attr("height",parseInt(A,10));(function(){var a=G.outerWidth(!0);F.css("width",
C.length*a)})();f(t,z,l)};Cog.registerComponent({name:"imageGallery",api:d,selector:".imageGallery",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(a){this.$component=a;this.componentPosition=d.getComponentPosition(a.closest("[data-position]"));d.isAnalyticsConfigured()&&this.setupAnalytics();this.init()}var f={},k,d,a,m;window.runOnWindowLoad(function(){var a=document.getElementById("kritique-lazyLoad");a&&(a.src=a.getAttribute("data-src"),a.removeAttribute("data-src"),a.id="rr-widget",a.addEventListener("load",function(){Cog.fireEvent("kritique","KRITIQUE_LAZY_LOAD")}))});e.prototype={init:function(){this.$component.on("click",
"span.customReview",function(){this.goToReviews()}.bind(this))},goToReviews:function(){clearTimeout(this.scrollToReviews);var a=document.querySelector(".tabs-what-customers-think");a&&a.scrollIntoView&&(this.scrollToReviews=setTimeout(function(){a.scrollIntoView({behavior:"smooth",block:"start"})},100))},setupAnalytics:function(){this.productName=this.getProductOrRecipeName();this.helpfulHandler();this.readReviewsHandler();this.reportHandler();this.writeReviewHandler();this.reviewHandler();a||(this.widgetCloseHandler(),
this.formSubmissionHandler(),a=!0)},formSubmissionHandler:function(){b(document).on("click","form.rr-submission-form input.rr-button",function(){Cog.fireEvent("kritique",k.SUBMIT.KRITIQUE_FORM,{position:this.componentPosition,label:this.productName})}.bind(this))},helpfulHandler:function(){this.$component.on("click","a.helpful",function(){Cog.fireEvent("kritique",k.CLICK.KRITIQUE_HELPFUL,{position:this.componentPosition,label:this.productName,helpful:!0})}.bind(this));this.$component.on("click","a.un-helpful",
function(){Cog.fireEvent("kritique",k.CLICK.KRITIQUE_UNHELPFUL,{position:this.componentPosition,label:this.productName,helpful:!1})}.bind(this))},readReviewsHandler:function(){this.$component.on("click","span.customReview",function(a){b(a.target).hasClass("customReview")&&Cog.fireEvent("kritique",k.CLICK.KRITIQUE_READ_REVIEWS,{position:this.componentPosition,label:this.productName})}.bind(this))},reportHandler:function(){this.$component.on("click","a.report-btn",function(){Cog.fireEvent("kritique",
k.CLICK.KRITIQUE_REPORT,{position:this.componentPosition,label:this.productName})}.bind(this))},widgetCloseHandler:function(){b(document).on("click",".closeButton",function(){Cog.fireEvent("kritique",k.CLICK.KRITIQUE_WIDGET_CLOSE,{position:this.componentPosition,label:this.productName})}.bind(this))},writeReviewHandler:function(){this.$component.on("click","a.write-review-btn",function(){Cog.fireEvent("kritique",k.CLICK.KRITIQUE_WRITE_REVIEW,{position:this.componentPosition,label:this.productName})}.bind(this))},
reviewHandler:function(){m||("undefined"===typeof ratingReview.events&&(ratingReview.events={}),ratingReview.events.rrRender=function(){Cog.fireEvent("kritique",k.OTHER.KRITIQUE_RENDERER,{position:this.componentPosition,label:this.productName})}.bind(this),m=!0)},getProductOrRecipeName:function(){var a=this.$component.find(".rr-widget-container").attr("data-identifier-value");a=allProducts[a];var b=document.title;a&&(b=a.shortTitle);return b}};f.onRegister=function(a){k=this.external.eventsDefinition;
d=this.external.utils;"ratingReview"in window?new e(a.$scope):Cog.addListener("kritique","KRITIQUE_LAZY_LOAD",function(){new e(a.$scope)})};Cog.registerComponent({name:"kritique",api:f,selector:".kritique",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$button=this.$el.find(".show-more");this.$listing=this.$el.closest(".listing");this.$listingItems=this.$listing.find(".listing-item");this.listingLimit=parseInt(this.$button.attr("data-limit"),10);this.showNextLimit=parseInt(this.$button.attr("data-to-show"),10);this.listingType=this.$listing.data("itemtype")||"";this.buttonText=this.$el.text();this.componentPosition=f.getComponentPosition(b);this.hideToLimit();this.addHandlers()}var e,f;b.prototype={hideToLimit:function(){var b=
parseInt(this.$listing.attr("data-shown"),10);this.$listingItems.filter(":gt("+(b?b-1:this.listingLimit-1)+")").addClass("is-hidden");this.handleButtonVisibility()},showNext:function(){var b=this.$listingItems.filter(".is-hidden:lt("+this.showNextLimit+")");b.removeClass("is-hidden");this.$listing.attr("data-shown",this.$listingItems.filter(":not(.is-hidden)").length);this.trackImpression(b);this.handleButtonVisibility();"c2bWidget"in window&&Cog.fireEvent("showMore","REVEAL_NEXT")},addHandlers:function(){this.$button.on("click",
function(){this.showNext();this.trackClick()}.bind(this));Cog.addListener("listingCheckBoxesFilter","filterUpdate",function(){this.$listing.attr("data-shown","")}.bind(this))},handleButtonVisibility:function(){0===this.$listingItems.filter(".is-hidden").length&&this.$el.addClass("is-hidden")},trackClick:function(){Cog.fireEvent("showMoreButton",e.CLICK.LOAD_MORE_CLICK,{componentPosition:this.componentPosition,componentName:e.ctConstants.listing,eventLabel:this.listingType.toUpperCase()||this.buttonText.trim()})},
trackImpression:function(b){this.listingType===e.ctConstants.product&&Cog.fireEvent("listing",e.ctConstants.productImpression,{products:b,componentPosition:this.componentPosition,componentName:e.ctConstants.listing})}};Cog.registerComponent({name:"listingButton",api:{onRegister:function(k){e=this.external.eventsDefinition;f=this.external.utils;new b(k.$scope)}},selector:".listingButton",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a){this.$el=a;this.$componentContent=a.children(".component-content");this.initiallyShownCheckboxesCount=parseInt(this.$componentContent.data("config").initiallyShownCheckboxesCount,10);0<this.$el.find(".listingRadioFilter-items").length?(u++,this.$filterGroupId="radioButtonFilter"+u,this.$checkboxes=this.$el.find(".listingRadioFilter-input"),this.$filterGroupName=a.find(".listingRadioFilter-title"),this.$expandableCheckboxes=a.find(".listingRadioFilter-item:nth-child("+this.initiallyShownCheckboxesCount+
")").nextAll(),this.isRadioButtonFilter=!0):(p++,this.$filterGroupId="checkboxFilter"+p,this.$checkboxes=this.$el.find(".listingCheckBoxesFilter-input"),this.$filterGroupName=a.find(".listingCheckBoxesFilter-title"),this.$expandableCheckboxes=a.find(".listingCheckBoxesFilter-item:nth-child("+this.initiallyShownCheckboxesCount+")").nextAll(),this.isRadioButtonFilter=!1);this.$showMoreButton=a.find(".js-toggle-filters.more");this.$showLessButton=a.find(".js-toggle-filters.less");this.$targetListing=
b(".listing");this.listingConfig=JSON.parse(this.$targetListing.find("script[type\x3d'application/json']").eq(0).text());this.basePath=this.listingConfig.path;this.componentPosition=m.getComponentPosition(this.$el);this.listingPosition=m.getComponentPosition(this.$targetListing);this.initializeComponent();this.bindUIEvents();this.bindEnquire()}function f(a,b){a.html(b).removeClass("initialized");Cog.init({$element:a})}var k={},d={},a,m,l,h,c,p=0,u=0;e.prototype={initializeComponent:function(){this.$expandableCheckboxes.addClass("is-hidden");
0===this.$checkboxes.length?this.$componentContent.addClass("is-hidden"):this.$checkboxes.length<=this.initiallyShownCheckboxesCount&&(this.$showLessButton.addClass("is-hidden"),this.$showMoreButton.addClass("is-hidden"));this.updateFiltersFromUrl()},bindUIEvents:function(){this.$checkboxes.on("change",function(a){1<this.$checkboxes.filter(":checked").length&&this.isRadioButtonFilter&&(this.$checkboxes.prop("checked",!1),a.target.checked=!0);this.updateFilters(a,this.$filterGroupId,this.isRadioButtonFilter)}.bind(this));
this.$showMoreButton.on("click",function(){this.$showMoreButton.addClass("is-hidden");this.$showLessButton.removeClass("is-hidden");this.$expandableCheckboxes.removeClass("is-hidden")}.bind(this));this.$showLessButton.on("click",function(){this.$showLessButton.addClass("is-hidden");this.$showMoreButton.removeClass("is-hidden");this.$expandableCheckboxes.addClass("is-hidden");this.$el.removeClass("is-active")}.bind(this));Cog.addListener("checkboxFilters","updateFilters",function(){this.updateFilters(event,
this.$filterGroupId,this.isRadioButtonFilter)}.bind(this));Cog.addListener("checkboxFilters","clearFilters",function(){this.clearFilters()}.bind(this))},bindEnquire:function(){var a=this.mobileFilterToggle.bind(this);enquire.register("only screen and (max-width: "+h.maxMobile+"px)",{match:function(){this.$filterGroupName.on("click",a)}.bind(this),unmatch:function(){this.$filterGroupName.unbind("click",a);this.initializeComponent();this.$el.removeClass("is-active")}.bind(this)})},mobileFilterToggle:function(){this.$expandableCheckboxes.removeClass("is-hidden");
this.$showLessButton.removeClass("is-hidden");this.$showMoreButton.addClass("is-hidden")},getData:function(){var e=a.getGroupedTemplateUrl().replace("{path}",this.basePath);a.trackCheckboxFilters({componentName:"Listing Checkboxes Filter",componentPosition:this.componentPosition});d[e]?(f(this.$targetListing,d[e]),this.trackProductImpressionChange()):(this.$el.addClass("loading"),b.ajax(e,{method:"get",beforeSend:c.addWcmModeIfNeeded}).always(function(){this.$el.removeClass("loading")}.bind(this)).done(function(a){d[e]=
a;f(this.$targetListing,a);Cog.fireEvent("listingCheckBoxesFilter","filterUpdate");this.trackProductImpressionChange()}.bind(this)))},trackProductImpressionChange:function(){Cog.fireEvent("listing",l.productImpression,{componentName:"Listing",componentPosition:this.listingPosition,products:m.fetchVisibleListingItems(this.$targetListing)})},updateFilters:function(c,d,e){c=b(c.target);var f=c.val();c.prop("checked")?a.addFilterTag(f,d,e):a.removeFilterTag(f,d);this.updateUrl();this.getData()},clearFilters:function(){this.$checkboxes.filter(":checked").prop("checked",
!1);a.clearTags();this.updateUrl();this.getData()},updateFiltersFromUrl:function(){var d=c.getQueryParams(window.location.href)[this.$filterGroupId];if(d){var e=d.split(",").map(function(b){return a.decodeFilter(b)});this.$checkboxes.each(function(c,d){c=b(d);e.includes(c.val())&&(c.prop("checked",!0),a.addFilterTag(c.val(),this.$filterGroupId),c.parent().removeClass("is-hidden"))}.bind(this))}},updateUrl:function(){var b=this.$filterGroupId,d=window.location.href,e=c.getQueryParams(d,!0);delete e[b];
d=c.removeParameters(d);var f=a.getTagsForGroup(this.$filterGroupId),h;for(h in e)e.hasOwnProperty(h)&&(d=c.addOrUpdateQueryParam(d,h,encodeURIComponent(e[h])));f&&0<f.length&&(d=c.addOrUpdateQueryParam(d,b,encodeURIComponent(f)));window.history.pushState(d,document.title,d)}};k.onRegister=function(b){a=this.external.filters;l=this.external.eventsDefinition.ctConstants;m=this.external.utils;h=h||this.external.breakpoints;c=this.external.urlUtils;new e(b.$scope)};Cog.registerComponent({name:"listingCheckBoxesFilter",
api:k,selector:".listingCheckBoxesFilter",requires:[{name:"utils.filters",apiId:"filters"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.breakpoints",apiId:"breakpoints"},{name:"utils.url",apiId:"urlUtils"}]})})(Cog.jQuery());
(function(b){function e(e,c){function h(a,b){return a.reduceRight(function(a,c,d){return b(c)?d:a},-1)}function u(a,b){var c=a.find("select");c.on("change",function(){0===x[0].selectedIndex?(f.setFilterTags([x.val(),w.val()]),G(),Cog.fireEvent("checkboxFilters","clearFilter"),f.trackListingFilters({componentName:"Listing Filters",componentPosition:ca}),b(c.val())):(b(c.val()),x.val("").change())})}function q(a,b){var c=a.find("select");c.on("change",function(){f.setFilterTags([x.val(),w.val()]);G();
Cog.fireEvent("checkboxFilters","clearFilter");f.trackListingFilters({componentName:"Listing Filters",componentPosition:ca});b(c.val())})}function g(a,b){var c=a.find("select");c.on("change",function(){f.setSortingOrder(B.val());b(c.val());G();f.trackListingFilters({componentName:"Listing Filters",componentPosition:ca})})}function A(a){var b=document.createElement("option"),c=a.find("select");return function(d){c.html("");if(0===d.length||0===c.length)a.hide();else{var e=document.createDocumentFragment();
a.addClass("active");d.forEach(function(a){var c=b.cloneNode();c.value=a.value;c.innerHTML=a.label;e.appendChild(c)});c[0].appendChild(e);c[0].value=""}}}function F(a){return JSON.parse(a.find("script[type\x3d'application/json']").eq(0).text())}function C(a){var b=h(c,function(b){return b.value===a});return c[b].tags}function H(){var a={};return function(){var c="";c=0===N.length?f.getGroupedTemplateUrl():f.getTemplateUrl();c=c.replace("{path}",Ea.path);K.attr("action",c);if(a[c])return a[c].promise;
v.hide();K.addClass("loading");return b.ajax(K.attr("action"),{method:K.attr("method")||"get"}).always(function(){K.removeClass("loading")}).done(function(d){a[c]={data:d,promise:b.Deferred().resolve(d)};return d})}}function z(a){a=v.text().replace(/\b\d+\b/,a);v.text(a);v.addClass("active")}function t(c){return c.done(function(c){var e=F(b(c));da.html(e.itemsCount?c:"").removeClass("initialized");Cog.init({$element:da}).then(function(){Cog.fireEvent("listingFilters","selectChanged");Cog.fireEvent("kritique",
"reloadInlineRatings");z(e.itemsCount);if(a.isAnalyticsConfigured()){var b=a.fetchVisibleListingItems(da);0<b.length&&I(b)&&Cog.fireEvent("listing",d.productImpression,{componentName:"Listing",componentPosition:Z,products:b})}})}).fail(function(){da.html("");z(0)})}function I(c){var d="";b.each(c,function(){var c=a.resolveListingProductEan(b(this));allProducts[c]&&(d+=allProducts[c].shortTitle)});if(d===digitalData.lastTrackedProductImpression)return!1;digitalData.lastTrackedProductImpression=d;return!0}
function E(){var a=window.location.href,b=m.getQueryParams(a)[l.CATEGORY_PARAM],c=m.getQueryParams(a)[l.SUBCATEGORY_PARAM];a=m.getQueryParams(a)[l.ORDER_PARAM];b&&w.val(b).change();c&&x.val(c).change();a&&B.val(a).change()}function G(){var a=window.location.href,b=m.getQueryParams(a,!0);delete b[l.CATEGORY_PARAM];delete b[l.SUBCATEGORY_PARAM];delete b[l.ORDER_PARAM];a=m.removeParameters(a);for(var c in b)b.hasOwnProperty(c)&&(a=m.addOrUpdateQueryParam(a,c,encodeURIComponent(b[c])));w.val()&&(a=m.addOrUpdateQueryParam(a,
l.CATEGORY_PARAM,encodeURIComponent(w.val())));x.val()&&(a=m.addOrUpdateQueryParam(a,l.SUBCATEGORY_PARAM,encodeURIComponent(x.val())));B.val()&&(a=m.addOrUpdateQueryParam(a,l.ORDER_PARAM,encodeURIComponent(B.val())));window.history.pushState(a,document.title,a)}function J(a){a.preventDefault()}c=function(a){function b(){return a.reduce(function(a,b){return b.tags&&b.tags.constructor===Array?a.concat(b.tags):a},[]).filter(function(a,b,c){return h(c,function(b){return b.label===a.label&&a.value===b.value})===
b})}return a.map(function(a){return a.tags?a:{label:a.label,value:"",tags:b()}})}(c);var K=e.find(".filter-form"),v=K.find(".filter-quantity").eq(0),N=K.find(".filter-category"),y=K.find(".filter-subcategory"),D=K.find(".filter-order"),w=N.find("select"),x=y.find("select"),B=D.find("select"),da=e.next(".listing");da.length||(da=e.next().find(".listing"));da.length||(da=b(".listing").first());var Ea=F(da),ca=a.getComponentPosition(e),Z=a.getComponentPosition(da);z(Ea.itemsCount);(function(){var a=
H(),b=A(y),d=A(N);u(N,k(t,a,b,C));q(y,k(t,a));g(D,k(t,a));K.on("submit",k(t,a,J));Cog.addListener("listingCheckBoxesFilter","filterUpdate",function(){w.children(":first-child").prop("selected",!0);x.children(":first-child").prop("selected",!0)});b(C(""));d(c);E()})()}var f,k,d,a,m,l={CATEGORY_PARAM:"category",SUBCATEGORY_PARAM:"subcategory",ORDER_PARAM:"order",ALL_LABEL:"all"};Cog.registerComponent({name:"listingFilters",api:{onRegister:function(b){f=f||this.external.filters;k=k||this.external.compose;
d=this.external.eventsDefinition.ctConstants;a=this.external.utils;m=this.external.urlUtils;var c=b.$scope.find("script[type\x3d'application/json']");c.length&&(c=JSON.parse(c.text()),e(b.$scope,c))}},selector:".listingFilters",requires:[{name:"utils.filters",apiId:"filters"},{name:"utils.compose",apiId:"compose"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.url",apiId:"urlUtils"}]})})(Cog.jQuery());
(function(b){function e(e,d){function a(a,b){return{state:a,title:d.title,talkToUsMessage:d.talkToUsMessage,message:b}}var k=e.find(".livechat-content"),l=e.find(".livechat-template"),h=e.find(".livechat-offline button,.livechat-offline a");k.length&&(window.liveagent?b.when():b.ajax({url:d.salesforceDeploymentJsPath,dataType:"script",cache:!0})).then(function(){if(0!==l.length){var b=doT.template(l.text()),e=[a("online",d.chatOnlineMessage),a("offline",d.chatOfflineMessage)].reduce(function(a,c){return a+
b(c)},"");k.html(e)}}).then(function(){e.on("click",function(){k.find(".livechat-online").is(":visible")&&(Cog.fireEvent("livechat",f.CLICK.LIVECHAT_BUTTON_CLICK),liveagent.startChatWithWindow(d.salesforceButtonId,d.salesforceButtonId))});h.attr("tabindex","-1")}).then(function(){liveagent.init(d.salesforceLiveAgentEndpointUrl,d.salesforceOrgId,d.salesforceDeploymentId);liveagent.showWhenOffline(d.salesforceButtonId,k.find(".livechat-offline")[0]);liveagent.showWhenOnline(d.salesforceButtonId,k.find(".livechat-online")[0]);
liveagent.addButtonEventHandler(d.salesforceButtonId,function(a){liveagent.BUTTON_EVENT&&a===liveagent.BUTTON_EVENT.BUTTON_AVAILABLE?e.addClass("is-online").find(".component-content").removeClass("loading"):liveagent.BUTTON_EVENT&&a===liveagent.BUTTON_EVENT.BUTTON_UNAVAILABLE&&e.removeClass("is-online").find(".component-content").removeClass("loading")})})}var f;Cog.registerComponent({name:"livechat",api:{onRegister:function(b){f=this.external.eventsDefinition;b=b.$scope;var d=b.find("[data-livechat]").data("livechat")||
{};e(b,d)}},selector:".livechat",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(a){if(a.mapOptions.markers.length){var b;for(b in a.mapOptions.markers)if(a.mapOptions.markers.hasOwnProperty(b)&&a.mapOptions.markers[b].title.length){var c=a.mapOptions.markers[b];var d=new google.maps.Marker({position:new google.maps.LatLng(c.latitude,c.longitude),map:a.gmap,title:c.title});c.description.length&&(c=new google.maps.InfoWindow({content:c.description}),google.maps.event.addListener(d,"click",f(d,c,a.gmap)))}}}function f(a,b,d){return function(a,b){return function(){b.open(d,
a)}}(a,b)}function k(a){m=!0;var c=b.extend(h,a.data());a.height(c.height);var d=new google.maps.LatLng(c.latitude,c.longitude);a.mapOptions={zoom:c.zoom,center:d,markers:c.markers,mapTypeId:google.maps.MapTypeId[c.mapType]};a.gmap=new google.maps.Map(a[0],a.mapOptions);e(a);var f=a.parents(".tabs-content");f.size()&&Cog.addListener("tab","change",function(b){f.attr("id")===b.eventData.id&&google.maps.event.trigger(a.gmap,"resize")})}var d={},a=!1,m=!1,l=[],h={height:250,zoom:14,latitude:51.500134,
longitude:-.12623,mapType:"ROADMAP",markers:[]};d.callback=function(){l.each(function(){k(b(this))});l=[]};d.onRegister=function(c){l.push(c.$scope);var e=this.external.browser,f={};if(e.msie&&8>e.version)return!1;m?d.callback():a||(c.$scope.data("key")&&(f.key=c.$scope.data("key")),f.callback="Cog.component.map.callback",a||(c=document.createElement("script"),e=document.getElementsByTagName("script")[0],c.async=!0,c.src="https://maps.googleapis.com/maps/api/js?"+b.param(f),e.parentNode.insertBefore(c,
e),a=!0))};Cog.registerComponent({name:"map",api:d,selector:".map-canvas",requires:[{name:"utils.browser",apiId:"browser"}]});Cog.component.map=d})(Cog.jQuery());
(function(b){function e(b){this.$nav=b;this.hideLink();this.bindUIEvents()}var f={navs:[]};e.prototype.hideLink=function(){navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?(b(".mobile-link").parent().parent().removeClass("is-hidden"),b(".desktop-link").parent().parent().addClass("is-hidden")):
(b(".mobile-link").parent().parent().addClass("is-hidden"),b(".desktop-link").parent().parent().removeClass("is-hidden"))};e.prototype.bindUIEvents=function(){this.$nav.on("tap click",".navigation-mobile-menu",function(e){e.preventDefault();b(this).next(".navigation-root").toggleClass("is-open");b(this).attr("aria-expanded",function(b,a){"false"===a&&(a=!1);return!a})});if(!this.$nav.is(".navigation-horizontal")||b("html").hasClass("mod-touch"))this.$nav.on("tap click",".has-children \x3e .navigation-item-title \x3e .navigation-item-decoration",
function(e){e.preventDefault();e.stopPropagation();e=b(this).closest(".has-children");e.siblings(".has-children").not(e).removeClass("is-open").find(".has-children").removeClass("is-open");e.toggleClass("is-open")}).on("keydown",".has-children \x3e .navigation-item-title \x3e .navigation-item-decoration",function(e){13===e.which&&(e.stopPropagation(),e.preventDefault(),b(this).trigger("click"))}),this.$nav.on("click",".has-children \x3e .navigation-item-title \x3e.navigation-item-decoration",function(b){b.preventDefault();
b.stopPropagation()});else this.$nav.on("mouseenter focusin",".has-children",function(){b(this).addClass("is-open")}).on("mouseleave",".has-children",function(){b(this).removeClass("is-open")}).on("focusout",".has-children",function(){var e=b(this);setTimeout(function(){e.is(":focus")||e.find(":focus").size()||e.removeClass("is-open")},0)})};f.onRegister=function(b){f.navs.push(new e(b.$scope))};Cog.registerComponent({name:"navigation",api:f,selector:".navigation[class*\x3ddefault-]"});return f})(Cog.jQuery());
(function(b){function e(a,b){this.$el=a;this.$button=this.$el.find(".quickview-btn");this.currentEan=this.mainEan=this.$button.data("quickviewean").toString();this.snippetPath=this.$button.data("quickviewsnippetpath");this.snippetRootPath=this.prepareSnippetMainPath(this.snippetPath);this.focusTrap=b.focusTrap;this.componentPosition=d.getComponentPosition(this.$el);this.bindEvents();this.bindVariantListener()}var f={},k,d,a={},m=!1,l=b("body"),h;e.prototype={bindEvents:function(){this.$button.on("click",
function(a){m||this.initQuickView();h=this.$button;this.mainEan=b(a.target).data("quickviewean").toString();this.wrapQuickViewMarkupElements();this.getData(this.mainEan);this.onClickAnalytics(this.mainEan)}.bind(this));l.on("keydown",function(a){27===a.keyCode&&(b("#shoppable_pdp_container").is(":visible")&&b(".quickview-container").hasClass("is-active")?(b(".shoppable-item-close-button").trigger("click"),this.focusTrap(b(".quickview-container"))):b("#shoppable_pdp_container").is(":visible")?b(".shoppable-item-close-button").trigger("click"):
this.closeOverlay())}.bind(this));this.$button.on("mouseover",function(){h&&h.trigger("blur")})},initQuickView:function(){var a=b('\x3cdiv class\x3d"quickview-container"\x3e\x3cbutton class\x3d"quickview-close"\x3eX\x3c/button\x3e\x3cdiv class\x3d"quickview-wrapper"\x3e\x3cdiv class\x3d"quickview-content"/\x3e\x3cdiv/\x3e\x3cdiv/\x3e');a.find(".quickview-close").on("click",function(){this.closeOverlay()}.bind(this));a.find(".quickview-content").data({mainEan:this.mainEan,currentEan:this.currentEan});
l.append("\x3cdiv class\x3d'quickview-background'/\x3e").append(a);m=!0},wrapQuickViewMarkupElements:function(){this.$container=l.find(".quickview-container");this.$wrapper=this.$container.find(".quickview-wrapper");this.$content=this.$container.find(".quickview-content");this.$content.data({mainEan:this.mainEan})},getData:function(){"undefined"===typeof a[this.snippetPath]?b.get(this.snippetPath,function(c){"undefined"!==typeof c&&(a[this.snippetPath]=b(c).find(".snippetContent").get(0).innerHTML,
this.openOverlay())}.bind(this)):this.openOverlay()},openOverlay:function(){this.$content.html(a[this.snippetPath]);Cog.init();Cog.fireEvent("quickView","openOverlay");this.$content.find(".productVariantList-link[href\x3d'#"+this.mainEan+"']").addClass("is-active");this.$container.addClass("is-active");b("html").addClass("overlay-open");this.focusTrap(this.$container)},closeOverlay:function(){"undefined"!==typeof this.$container&&"undefined"!==typeof this.$button&&b("html").hasClass("overlay-open")&&
(b("html").removeClass("overlay-open"),this.$container.removeClass("is-active"),h&&h.trigger("focus"))},onClickAnalytics:function(a){Cog.fireEvent("productQuickView",k.CLICK.PRODUCT_QUICK_VIEW,{ean:a,componentPosition:this.componentPosition})},prepareSnippetMainPath:function(a){return a.substring(0,a.indexOf(this.mainEan))},prepareProductSnippetPath:function(){return this.snippetRootPath+this.mainEan+".html"},prepareProductVariantSnippetPath:function(){return this.snippetRootPath+this.mainEan+"."+
this.currentEan+".html"},bindVariantListener:function(){Cog.addListener("variantList","variantChanged",function(a){this.isCurrentQuickView()&&(this.setCurrentEan(a.eventData.ean),this.isMainProductEan(this.currentEan)?this.snippetPath=this.prepareProductSnippetPath():this.snippetPath=this.prepareProductVariantSnippetPath(),this.wrapQuickViewMarkupElements(),this.getData(this.currentEan))}.bind(this))},setCurrentEan:function(a){this.currentEan=a;b(".quickview-content").data("currentEan",a)},isCurrentQuickView:function(){return this.mainEan===
b(".quickview-content").data("mainEan")},isMainProductEan:function(a){return this.mainEan===a}};f.onRegister=function(a){k=this.external.eventsDefinition;d=this.external.utils;new e(a.$scope,this.external.focusTrap)};Cog.registerComponent({name:"productQuickView",api:f,selector:".productQuickView",requires:[{name:"utils.focusTrap",apiId:"focusTrap"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(b){this.$el=b;this.bindEvents();this.init();this.position=d.getComponentPosition(this.$el);this.prm=a.getPrmHandler(b)}var f={indicatorDisabled:!1,scrollDelay:500,scrollDuration:500,requestMaxLength:2048,separator:",",tagPrefix:"tags:",tagJoinMode:"%20OR%20",timer:null,selectors:{step:".quiz-step",currentStep:".quiz-step.current",firstStep:".quiz-step[data-step\x3d'0']",inactiveStep:".quiz-step[aria-hidden\x3d'true']:not([data-step\x3d'0'])",item:".quiz-target .quizCTA.component",
next:".quizCTA-button",previous:".quiz-buttons-previous",reset:".quiz-buttons-reset",indicator:".quiz-indicator",container:".quiz-container",target:".quiz-target",search:".searchResults.component",hidden:".is-hidden",multipleNext:".quiz-buttons-next",quizCTA:".quizCTA",quizPRMQuestionComponent:".quizPRMQuestion \x3e .component-content"},classNames:{active:"is-active",current:"current",hidden:"is-hidden",quizCtaActive:"active"},attributes:{answerId:"data-prm-answer-id",questionType:"data-question-type",
slidePath:"data-slide-path",tags:"data-tags"},preloadId:"quiz-preload-content",quizStepTemplateId:"quiz_step_template",preloadContainerHTML:'\x3cdiv class\x3d"$id" style\x3d"display:none"\x3e\x3c/div\x3e',isMobile:!1,sectionQuizType:""},k,d,a,m;e.prototype={init:function(){this.$quizIndiactor=this.$el.find(f.selectors.indicator);this.$quizContainer=this.$el.find(f.selectors.container);this.startHeight=this.$quizContainer.css("height");this.step_template=this.$el.find("."+f.quizStepTemplateId).html();
this.preLoaded={};this.preLoadedPromises={};this.stage=-1;this.options=this.$el.find("[data-options]").data("options");this.tags=[];f.prevId=this.$el.prev("[id]").attr("id");f=b.extend({},f,this.options);f.preLoadStrategy=parseInt(f.preLoadStrategy||2,10);this.$quizContainer.css("min-height",this.startHeight);this.isMobile();this.initIndicator();if(0!==f.preLoadStrategy){this.$el.append(f.preloadContainerHTML.replace("$id",f.preloadId));var a=new MutationObserver(this.contentChanged.bind(this));a.observe(this.$el.find("."+
f.preloadId)[0],{attributes:!1,childList:!0});this.preLoad(this.$el.find(f.selectors.currentStep))}},bindEvents:function(){var a=this;this.$el.on("click keydown",f.selectors.item,function(c){var d=b(c.currentTarget),e=b(c.target);if("keydown"!==c.type||13===c.keyCode||32===c.keyCode)"single"===f.sectionQuizType?0===e.closest(f.selectors.next).length&&(c.preventDefault(),a.next({target:d.find(f.selectors.next)[0]})):"multiple"===f.sectionQuizType&&(e.closest(f.selectors.quizCTA).hasClass(f.classNames.quizCtaActive)?
(e.closest(f.selectors.quizCTA).removeClass(f.classNames.quizCtaActive),c=e.closest(f.selectors.quizCTA).find("["+f.attributes.answerId+"]").attr(f.attributes.answerId),e=e.closest(f.selectors.quizCTA).find("["+f.attributes.answerId+"]").attr(f.attributes.tags),e=this.tags.indexOf(e),-1<e&&this.tags.splice(e,1),a.prm.removeAnswer(c)):(e.closest(f.selectors.quizCTA).addClass(f.classNames.quizCtaActive),a.selectMultipleItems({target:d.find(f.selectors.next)[0]})))}.bind(this));this.$el.on("click",f.selectors.next,
function(c){c.preventDefault();var d=b(c.target).closest(f.selectors.target).find("div["+f.attributes.questionType+"]").attr(f.attributes.questionType);"undefined"!==typeof d&&"single"!==d||a.next(c)});this.$el.on("click",f.selectors.multipleNext,function(c){var d=b(c.target);c=d.closest(f.selectors.step);var e=c.find(f.selectors.quizPRMQuestionComponent).attr(f.attributes.slidePath);d=d.text().trim();a.addPanel({path:e,$section:c});a.indicatorNext();a.clickCtaAnalytics(d,e)});this.$el.on("click",
f.selectors.previous,function(b){b.preventDefault();a.previous(b)});this.$el.on("click",f.selectors.reset,function(b){b.preventDefault();a.reset()})},isMobile:function(){"matchMedia"in window&&window.matchMedia("(max-width: "+l.minTablet+"px)").matches&&(f.isMobile=!0,f.scrollDelay=0,f.scrollDuration=0)},setViewMobile:function(){f.isMobile&&f.prevId&&(window.location="#"+f.prevId)},selectMultipleItems:function(a){var c=b(a.target);a=c.closest(f.selectors.item);var d=c.attr("href"),e=c.data("tags"),
h=c.attr(f.attributes.answerId);c=c.text().trim();e&&this.tags.push(e);this.prm.addAnswer(h,f.sectionQuizType);a.addClass(f.classNames.active);this.clickCtaAnalytics(c,d)},next:function(a){var c=b(a.target);a=c.closest(f.selectors.step);var d=c.closest(f.selectors.item),e=c.attr("href"),h=c.data("tags"),g=c.attr(f.attributes.answerId);c=c.text().trim();h&&this.tags.push(h);this.prm.addAnswer(g,f.sectionQuizType);d.addClass(f.classNames.active);a.addClass(f.classNames.active);this.addPanel({path:e,
$section:a});this.indicatorNext();this.clickCtaAnalytics(c,e)},previous:function(a){a=b(a.target);var c=a.closest(f.selectors.step);"multiple"===f.sectionQuizType?a.closest(f.selectors.currentStep).find(f.selectors.item+"."+f.classNames.quizCtaActive).each(function(a,c){a=b(c).find("["+f.attributes.tags+"]").attr(f.attributes.tags);a=this.tags.indexOf(a);-1<a&&this.tags.splice(a,1)}.bind(this)):"single"===f.sectionQuizType&&this.tags.pop();this.shift({$section:c,reverse:!0});this.indicatorPrevious()},
reset:function(){var a=b(f.selectors.firstStep);this.stage=-1;this.tags=[];this.prm.setScope(a,!0);this.shift({$section:b(f.selectors.currentStep),reverse:!0,$prev:a});this.$el.find(f.selectors.inactiveStep).remove();this.setIndicator()},checkPreloadContent:function(a){var c=this.preLoaded[a];if(!c)return!1;c=b.parseHTML(c);return 0<b(c).findSelf(f.selectors.search).length?(this.preLoaded[a]="",!1):!0},addPanel:function(a){var c=b(this.step_template).appendTo(this.$quizContainer),d=a.path,e=this;
this.prm.setScope(c);this.checkPreloadContent(d)?(c.find(f.selectors.target).html(this.preLoaded[d]),setTimeout(function(){e.shift({$section:a.$section});_.defer(function(){e.preLoad(c)})},-1===this.stage?0:f.scrollDelay)):d&&b.ajax({url:e.getSearchUrl(d),method:"GET",success:function(h){-1!==h.indexOf("\x3cbody")&&(h=b(h).find(".content")[0].outerHTML);e.preLoaded[d]=h;c.find(f.selectors.target).append(h);c.find(f.selectors.hidden).removeClass(f.classNames.hidden);e.shift({$section:a.$section});
_.defer(function(){e.preLoad(c);e.prmForm=m.getPrmForm(c);e.prmForm.insertPrmAnswers(e.prm.getAnswers());e.quizResultAnalytics(c)})}})},quizResultAnalytics:function(a){var c=[];a.find("[data-ean]").each(function(a,d){c.push(b(d).attr("data-ean"))});Cog.fireEvent("quizResult",k.CLICK.QUIZ_RESULT,{componentPosition:this.position,productEans:c,slideNumber:this.stage})},clickCtaAnalytics:function(a,b){Cog.fireEvent("quizCta",k.CLICK.QUIZ_CTA,{componentPosition:this.position,nextSlideUrl:b,answer:a,slideNumber:this.stage,
isStartPage:0===this.stage})},shift:function(a){var c=a.$section,d=a.$prev,e=1.1*this.$quizContainer.width(),h=c.next(),g=e,k=-1*e,m=this;a.reverse&&(h=d?d:c.prev(),g=-1*e,k=e);h.height()>this.$quizContainer.height()&&this.$quizContainer.height(h.height());c.removeClass(f.classNames.current).css("left","0px").animate({left:k+"px"},f.scrollDuration,function(){c.attr("aria-hidden","true").removeClass(f.classNames.active);c.find("."+f.classNames.active).removeClass(f.classNames.active);a.reverse&&c.remove()});
h.css("left",g+"px").attr("aria-hidden","false").animate({left:"0px"},f.scrollDuration,function(){h.addClass(f.classNames.current);var c=h.find(f.selectors.target);m.prm.setScope(c);Cog.init({$element:c});h.find(f.selectors.item).attr("tabindex","0").attr("role","button");m.$quizContainer.height("");m.$quizContainer.css("min-height",h.height()+"px");m.setViewMobile();f.sectionQuizType=c.find(""+f.selectors.quizPRMQuestionComponent+"["+f.attributes.questionType+"]").attr(f.attributes.questionType);
"single"===f.sectionQuizType||"undefined"===f.sectionQuizType||0<b(".quiz-step.current .searchResults").length?m.prm.removeMultipleNextButton():0<c.find(f.selectors.quizCTA+"."+f.classNames.quizCtaActive).length?m.prm.showMultipleNextButton():m.prm.hideMultipleNextButton();"single"===f.sectionQuizType&&a.reverse&&m.tags.pop()})},initIndicator:function(){f.indicatorDisabled||0===this.$quizIndiactor.find("li").length?this.$quizIndiactor.remove():this.setIndicator()},indicatorNext:function(){this.stage+=
1;this.setIndicator()},indicatorPrevious:function(){--this.stage;this.setIndicator()},setIndicator:function(){this.indicatorDisabled||(this.$quizIndiactor.attr("aria-hidden",-1===this.stage?"true":"false").find("[aria-current]").removeAttr("aria-current"),-1<this.stage&&this.$quizIndiactor.find('[data-step\x3d"'+this.stage+'"]').attr("aria-current","step"))},contentChanged:function(){2===f.preLoadStrategy&&this.preLoad()},preLoad:function(a){if(0!==f.preLoadStrategy){a=a||this.$el.find("."+f.preloadId);
a=a.find(f.selectors.next+":not(.prefetch)");var c=b.when({}),d=this;a.each(function(a,e){e=b(e);a=e.attr("href");d.preLoadedPromises.hasOwnProperty(a)||(e.addClass("prefetch"),e=d.getDeferred(a),d.preLoadedPromises[a]=e,c=c.then(e))})}},getDeferred:function(a){var c=this;return function(){var d=b.Deferred();b.ajax({url:c.getUrl(a),method:"GET",success:function(d){-1!==d.indexOf("\x3cbody")&&(d=b(d).find(".content")[0].outerHTML);c.$el.find("."+f.preloadId).append(d);c.preLoaded[a]=d},error:function(b){b=
b||{status:"unknown"};c.preLoaded[a]=b.statusText||b.status},complete:function(){d.resolve()}});return d.promise()}},getSearchUrl:function(a){var b=this.encodeTags(this.tags),d=location.origin.length,e=(a.includes("?")?"\x26":"?")+"q\x3d";a=this.getUrl(a);for(d=f.requestMaxLength-(d+a.length+e.length);b.length>d;)this.tags.shift(),b=this.encodeTags(this.tags);return a+e+b},getUrl:function(a){return a=a.replace(".html","/_jcr_content/content.html")},encodeTags:function(a){var c=[];b.each(a,function(a,
b){b&&(a=b.split(":").join("\\:"),a=this.parseMultipleTags(a),c.push(f.tagPrefix+"(*"+a+"*)"))}.bind(this));return c.join(f.tagJoinMode)},parseMultipleTags:function(a){var b="*)"+f.tagJoinMode+f.tagPrefix+"(*";return a.split(",").join(b)}};var l;Cog.registerComponent({name:"product.selector.quiz",api:{onRegister:function(b){l=this.external.breakpoints;k=this.external.eventsDefinition;d=this.external.utils;a=this.external.prmHandler;m=this.external.prmForm;new e(b.$scope)}},selector:".quiz.component",
requires:[{name:"product.selector.quiz.prmAnswersRegistry",apiId:"prmHandler"},{name:"product.selector.quiz.prmForm",apiId:"prmForm"},{name:"utils.breakpoints",apiId:"breakpoints"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(a){this.$componentContent=a.children().first();this.$showMoreBtn=a.find(".recipeListing-show-more-btn");this.$list=this.$componentContent.find(".recipeListing-list");this.$links=this.$list.find("a");this.itemsToShow=parseInt(this.$componentContent.data("items-to-show"),10);this.getRecipesUrl=this.$showMoreBtn.data("morepath");this.$sortDropdown=this.$componentContent.find("#sortOrder");this.$filterDropdowns=this.$componentContent.find(".recipeListing-main-filters select");
this.filters="";this.componentPosition=m.getComponentPosition(a);this.favouriteRecipesList="";this.isFavouriteMode=this.$componentContent.hasClass("favourite-recipes");this.favouriteRecipesEmptyParsys=a.find(".favourite-recipes-empty");this.questionId=(this.questionId=this.$componentContent.data("question-id"))?this.questionId.toString():this.questionId;this.selectDropdowns();this.isFavouriteMode?"undefined"!==typeof gigya?this.fetchFavouritesGigya():this.fetchFavouritesFromLocalStorage():(this.$showMoreBtn.length&&
(this.getRecipesUrl=this.$showMoreBtn.data("morepath"),this.sorting=this.$sortDropdown.children(":selected").val(),this.offset=this.itemsToShow,this.fetchNextRecipes()),this.bindUIEvents())}var f={},k,d,a,m,l;e.prototype.buildUrl=function(){var a=window.location.href,b=l.getQueryParams(a,!0);delete b.t;delete b.s;a=l.removeParameters(a);for(var d in b)b.hasOwnProperty(d)&&(a=l.addOrUpdateQueryParam(a,d,encodeURIComponent(b[d])));return a};e.prototype.updateUrl=function(){var a=this.buildUrl();this.filters&&
(a=l.addOrUpdateQueryParam(a,"t",this.filters));this.sorting&&(a=l.addOrUpdateQueryParam(a,"s",this.sorting));this.pushBrowserState(a)};e.prototype.pushBrowserState=function(a){window.history.pushState(a,document.title,a)};e.prototype.selectDropdowns=function(){var a=l.getQueryParams(window.location.href,!0),c=a.t;a=a.s;c&&(c=c.split(","),this.$filterDropdowns.each(function(){b(this).find("option").each(function(a,d){-1<c.indexOf(d.value)&&b(this).closest("select").val(d.value)})}));this.updateFilterValues();
a&&this.$sortDropdown.val(a)};e.prototype.updateFilterValues=function(){this.filters=this.$filterDropdowns.children(":selected").toArray().filter(function(a){return a.hasAttribute("value")}).map(function(a){return b(a).val()}).join(",")};e.prototype.fetchFavouritesGigya=function(){gigya.accounts.getAccountInfo({callback:function(a){0===a.errorCode&&this.setFavourtiesFromGigya(a)}.bind(this)})};e.prototype.fetchFavouriteRecipes=function(){this.getRecipesUrl=this.$componentContent.data("fetchfavourites");
this.sorting=this.$sortDropdown.children(":selected").val();this.offset=0;this.fetchNextRecipes(this.bindUIEvents.bind(this))};e.prototype.setFavourtiesFromGigya=function(a){a=a.data.campaign;for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e.questionAnswers;if(this.questionId&&e.id===this.questionId)for(e=0;e<f.length;e++){var g=f[e];if(g.questionID===this.questionId){g=g.answer;for(var h=0;h<g.length;h++)c.push(g[h])}}}this.favouriteRecipesList=b.grep(c,function(a){return 2===parseInt((a.Text||"0").match(/w*(\d+)/)[1],
10)}).map(function(a){return a.ID}).join(",");this.fetchFavouriteRecipes()};e.prototype.fetchFavouritesFromLocalStorage=function(){var a=window.localStorage.getItem("FAVOURITES")||"[]";try{var c=JSON.parse(a)}catch(p){c=[]}this.favouriteRecipesList=b.grep(c,function(a){return 2===a.itemGroup}).map(function(a){return a.ID}).join(",");this.fetchFavouriteRecipes()};e.prototype.bindUIEvents=function(){this.$showMoreBtn.on("click",function(){this.$list.append(k);Cog.init(this.$list);Cog.fireEvent("recipeListing",
d.CLICK.LOAD_MORE_CLICK,{componentPosition:this.componentPosition});Cog.fireEvent("kritique","reloadInlineRatings");this.fetchNextRecipes()}.bind(this));this.$sortDropdown.on("change",function(){this.sorting=this.$sortDropdown.children(":selected").val();this.updateUrl();this.refreshListState()}.bind(this));this.$filterDropdowns.on("change",function(){var a=this.$filterDropdowns.children(":selected").toArray();this.updateFilterValues();this.updateUrl();this.refreshListState();this.trackFilter(a)}.bind(this));
this.$links.on("click",function(e){var c=b(e.currentTarget);e=c.attr("title");c=c.attr("href");Cog.fireEvent("recipeListing",d.CLICK.LINK_CLICK,{componentName:a.recipeListing,recipeTitle:e,recipeUrl:c,componentPosition:this.componentPosition})}.bind(this));this.isFavouriteMode&&(this.$list.append(k),Cog.init(this.$list),Cog.fireEvent("recipeListing",d.CLICK.LOAD_MORE_CLICK,{componentPosition:this.componentPosition}),Cog.fireEvent("kritique","reloadInlineRatings"),this.bindUnfavouriteEvents(),Cog.fireEvent("recipeListing",
"favourites-fetched"))};e.prototype.bindUnfavouriteEvents=function(){this.displayedFavourites=[];this.$list.find(".recipeListing-item").each(function(a,c){a=b(c).find("[name\x3dfavourite-item]").data("options");this.displayedFavourites.push({ID:a.itemId,$item:c})}.bind(this));Cog.addListener("favourite","TOGGLE_FAVOURITE",function(a){var b=_.findIndex(this.displayedFavourites,function(b){return b.ID===a.eventData.ID});0<=b&&(this.displayedFavourites[b].$item.remove(),this.displayedFavourites.splice(b,
1),0===this.displayedFavourites.length?(this.favouriteRecipesEmptyParsys.removeClass("is-hidden"),this.$componentContent.addClass("is-hidden")):Cog.fireEvent("recipeListing","favourite-removed"))}.bind(this))};e.prototype.trackFilter=function(a){a=a.map(function(a){return b(a).text()}).join(" | ");Cog.fireEvent("recipeListing",d.CHANGE.FILTER_CHANGE,{eventLabel:a,componentPosition:this.componentPosition})};e.prototype.fetchNextRecipes=function(a){var c=this.getRecipesUrl;this.isFavouriteMode?c+="?recipeId\x3d"+
this.favouriteRecipesList:(c+="?o\x3d"+this.offset+"\x26s\x3d"+this.sorting,c+=this.filters?"\x26t\x3d"+this.filters:"");this.isFavouriteMode&&""===this.favouriteRecipesList?(this.favouriteRecipesEmptyParsys.removeClass("is-hidden"),this.$componentContent.addClass("is-hidden"),"function"===typeof a&&a()):b.get(c,function(b){b?(k=b,this.$showMoreBtn.removeClass("is-hidden")):(k="",this.$showMoreBtn.addClass("is-hidden"));this.offset+=this.itemsToShow;"function"===typeof a&&a()}.bind(this))};e.prototype.refreshListState=
function(){this.offset=0;this.fetchNextRecipes(function(){this.$list.html(k);Cog.init(this.$list);Cog.fireEvent("kritique","reloadInlineRatings");this.fetchNextRecipes()}.bind(this))};f.onRegister=function(b){d=this.external.eventsDefinition;a=this.external.eventsDefinition.ctConstants;m=this.external.utils;l=this.external.urlUtils;new e(b.$scope)};Cog.registerComponent({name:"recipeListing",api:f,selector:".recipeListing",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",
apiId:"utils"},{name:"utils.url",apiId:"urlUtils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$button=this.$el.find(".atml-button");this.$scrambledConfig=this.$el.find(".scrambled-config").data("config");this.position=k.getComponentPosition(this.$el);"undefined"!==typeof this.$scrambledConfig&&(this.bindUIEvents(),b=document.createElement("script"),b.setAttribute("src",this.$scrambledConfig.scriptPath),document.body.appendChild(b))}var e={},f,k;b.prototype.bindUIEvents=function(){var b={EAN:this.$scrambledConfig.recipeId,shortTitle:document.title};
this.$button.on("click",function(){Cog.fireEvent("recipe",f.CLICK.RECIPE_TO_BASKET,{componentPosition:this.position,eventLabel:b.shortTitle,productData:b})}.bind(this))};e.onRegister=function(d){f=this.external.eventsDefinition;k=this.external.utils;new b(d.$scope)};Cog.registerComponent({name:"recipeToBasket",api:e,selector:".recipeToBasket",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(a){this.$el=a;this.$image=this.$el.find("img");this.$links=this.$el.find("a");this.position=d.getComponentPosition(this.$el);this.bindUIEvents()}var f={},k,d;e.prototype.bindUIEvents=function(){this.$image.on("click",function(a){a=b(a.target).attr("alt");Cog.fireEvent("image",k.CLICK.IMAGE_CLICK,{altText:a,componentPosition:this.position})}.bind(this));d.trackLinks(this.$links,{componentName:"Rich Text",componentPosition:this.position})};f.onRegister=function(a){k=this.external.eventsDefinition;
d=this.external.utils;new e(a.$scope)};Cog.registerComponent({name:"richText",api:f,selector:".richText",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$nutrientsItems=this.$el.find(".recipeNutrients-list .recipeNutrients-item");this.$button=this.$el.find(".show-all");this.showOnlyCore();this.addHandlers()}b.prototype={showOnlyCore:function(){this.$nutrientsItems.filter('[data-is-core\x3d"false"]').addClass("is-hidden")},showAll:function(){this.$nutrientsItems.removeClass("is-hidden");this.$button.addClass("is-hidden")},addHandlers:function(){this.$button.on("click",function(){this.showAll()}.bind(this))}};
Cog.registerComponent({name:"recipeNutrients",api:{onRegister:function(e){new b(e.$scope)}},selector:".recipeNutrients"})})();
(function(b){function e(){Scrambled.init()}var f={},k={},d={};window.runOnWindowLoad(function(){var a=document.getElementById("scrambled-lazyLoad");a&&(a.src=a.getAttribute("data-src"),a.removeAttribute("data-src"),a.addEventListener("load",function(){Cog.fireEvent("scrambled","SCRAMBLED_LAZY_LOAD")}))});f.onRegister=function(a){var f=a.$scope,l=b("body");k=this.external.utils;d=this.external.eventsDefinition;"Scrambled"in window?e():Cog.addListener("scrambled","SCRAMBLED_LAZY_LOAD",e);f.on("click",
function(){l.css("overflow","auto");Cog.fireEvent("buyitnow",d.CLICK.BIN_CLICK,{componentPosition:k.getComponentPosition(f),product:f.attr("data-product-id"),component:"Scrambled"})}.bind(this))};Cog.registerComponent({name:"scrambled",api:f,selector:".scrambled",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.componentPosition=k.getComponentPosition(b);this.$clearButton=b.find(".refineSearchClearButton");this.$searchButton=b.find(".refineSearchSubmitButton");this.$refineSearchInput=b.find(".refineSearchInput");this.$refineSearchHeader=b.find(".refineSearchHeader");this.setInitialState();this.bindUIEvents();this.onSiteSearchResult(this.$refineSearchInput.val(),this.componentPosition)}var e={},f,k;b.prototype={setInitialState:function(){""!==this.$refineSearchInput.val().trim()&&
this.$refineSearchHeader.addClass("is-visible");this.updateSearchButtonState()},bindUIEvents:function(){this.$clearButton.on("click",function(b){b.preventDefault();this.$refineSearchInput.val("");this.$refineSearchHeader.removeClass("is-visible");this.updateSearchButtonState()}.bind(this));this.$refineSearchInput.on("input",function(){this.$refineSearchHeader.removeClass("is-visible");this.updateSearchButtonState()}.bind(this));this.$searchButton.on("click",function(){this.onSiteSearch(this.$refineSearchInput.val(),
this.componentPosition)}.bind(this))},updateSearchButtonState:function(){""!==this.$refineSearchInput.val().trim()?this.$searchButton.prop("disabled",!1):this.$searchButton.prop("disabled",!0)},onSiteSearch:function(b,a){Cog.fireEvent("refineSearchBox",f.CLICK.SITE_SEARCH,{type:"Refine Search Box",action:f.ctConstants.siteSearch,label:b,componentPosition:a,keyword:b})},onSiteSearchResult:function(b,a){if(""!==this.$refineSearchInput.val().trim()){var d=parseInt(this.$refineSearchHeader.data("result-count"),
10);Cog.fireEvent("refineSearchBox",f.CLICK.SITE_SEARCH,{type:"Refine Search Box",action:f.ctConstants.searchResults,label:b+" - "+d,componentPosition:a,keyword:b,resultNumber:d})}}};e.onRegister=function(d){f=this.external.eventsDefinition;k=this.external.utils;new b(d.$scope)};Cog.registerComponent({name:"refineSearchBox",api:e,selector:".refineSearchBox",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(b){function e(e,f){this.$elem=e;this.focusTrap=f.focusTrap;this.$button=this.$elem.find(".button");this.$input=this.$elem.find(a.searchInput);this.$suggestionItems=this.$elem.find(a.suggestionItems);this.$viewAll=this.$elem.find(a.viewAll);this.componentPosition=d.getComponentPosition(e);this.endpoint="/sk-eu/services/search/suggestions?q\x3d{q}\x26solrCoreName\x3d"+this.$elem.find("input[name\x3d'solrCoreName']").val();this.advancedSuggestionsUrl=this.$elem.find(a.advancedSuggestions).data("path")+
".advanced.results.html?q\x3d{query}";this.previousQuery="";this.manualSuggestions=this.$elem.find(".searchBox-manual-suggestion").toArray().map(function(a){return a.value});this.suggestionsContainerTemplate=doT.template(this.$elem.find(".suggestions-container-template").text());this.updateQuerySuggestions(this.manualSuggestions,"");this.bindUIEvents();""!==b(this.$elem).find("input.search-query").val().trim()&&b(this.$elem).find("input.search-query").trigger("keyup")}var f={},k,d,a={searchInput:".search-query",
suggestion:".searchBox-suggestion",suggestions:".searchBox-suggestions",advancedSuggestions:".searchBox-advanced-suggestions",advancedSuggestionsLinks:".searchBox-advanced-suggestions a",suggestionItems:".suggestions-item",viewAll:"a.view-all"};e.prototype={bindUIEvents:function(){this.$button.on("click",this.onButtonClick.bind(this));this.$elem.on("click",a.suggestion,this.onSuggestionClick.bind(this));this.$input.on("keyup",b.debounce(250,this.onKeyUp.bind(this)));this.$elem.on("keydown",this.onKeyDown.bind(this));
this.attachTrackingToSuggestions()},onButtonClick:function(a){""===this.$input.val().trim()&&a.preventDefault();this.onSiteSearch(this.$input.val(),this.componentPosition)},onSuggestionItemClick:function(){var a=this.$input.val().trim();this.onSiteSearch(a,this.componentPosition)},onSuggestionClick:function(d){d=b(d.target).closest(a.suggestion).text();this.$input.val(d);this.$button.trigger("click")},onKeyUp:function(){var a=this.$input.val().trim();a!==this.previousQuery&&(3>a.length?(this.updateQuerySuggestions(this.manualSuggestions,
a),this.updateAdvancedSuggestions(""),this.previousQuery=a):this.fetchAndUpdateSuggestions(a))},onKeyDown:function(d){var e=b(d.target);e.is(a.searchInput+", "+a.suggestion+", "+a.advancedSuggestionsLinks)&&38===d.which?this.handleArrowUp(e):40===d.which&&this.handleArrowDown(e)},handleArrowUp:function(b){b.is(a.searchInput)?this.$suggestions.find(a.suggestion+":last").focus():b.is(a.suggestion)&&0===b.parent().prev().length?this.$input.focus():b.is(a.suggestion)&&b.parent().prev().children().focus()},
handleArrowDown:function(b){b.is(a.searchInput)?this.$suggestions.find(a.suggestion+":first").focus():b.is(a.suggestion)&&0===b.parent().next().length?this.$input.focus():b.is(a.suggestion)&&b.parent().next().children().focus()},createSuggestionsContainer:function(a,b){var d=b.toLowerCase();return this.suggestionsContainerTemplate({suggestions:a.map(function(a){var c=a.toLowerCase().indexOf(d);if(-1<c){var e=b.length;a=a.slice(0,c)+"\x3cb\x3e"+a.slice(c,c+e)+"\x3c/b\x3e"+a.slice(c+e)}return{value:a}})})},
updateQuerySuggestions:function(b,d){this.$elem.find(a.suggestions).replaceWith(this.createSuggestionsContainer(b,d));this.$suggestions=this.$elem.find(a.suggestions)},updateAdvancedSuggestions:function(d){this.$elem.find(a.advancedSuggestions).html(d);this.onSiteSearchResult(this.previousQuery,this.componentPosition);this.attachTrackingToSuggestions();d=b(".overlay-container");this.focusTrap(d,d.find(".search-query"))},attachTrackingToSuggestions:function(){this.$suggestionItems=this.$elem.find(a.suggestionItems);
this.$viewAll=this.$elem.find(a.viewAll);this.$suggestionItems.on("click",this.onSuggestionItemClick.bind(this));this.$viewAll.on("click",this.onSuggestionItemClick.bind(this))},fetchAndUpdateSuggestions:function(a){b.get(this.endpoint.replace("{q}",a),function(b){b&&b.suggestions&&this.updateQuerySuggestions(b.suggestions,a)}.bind(this));var d=this.advancedSuggestionsUrl.replace("{query}",a);b.get(d,this.updateAdvancedSuggestions.bind(this))},onSiteSearch:function(a,b){Cog.fireEvent("searchBoxWithSuggestions",
k.CLICK.SITE_SEARCH,{type:"Search Box With Suggestions",action:k.ctConstants.siteSearch,label:a,componentPosition:b,keyword:a})},onSiteSearchResult:function(a,d){if(3<=a.length){var e=0;b(".results-count[value]").each(function(a,b){e+=parseInt(b.getAttribute("value"),10)});Cog.fireEvent("searchBoxWithSuggestions",k.CLICK.SITE_SEARCH,{type:"Search Box With Suggestions",action:k.ctConstants.searchResults,label:e+" - "+a,componentPosition:d,keyword:a,resultNumber:e})}}};f.onRegister=function(a){k=this.external.eventsDefinition;
d=this.external.utils;new e(a.$scope,this.external.focusTrap)};Cog.registerComponent({name:"searchBoxWithSuggestions",api:f,selector:".searchBoxWithSuggestions",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.focusTrap",apiId:"focusTrap"}]})})(Cog.jQuery());
(function(b){function e(a){this.$el=a;this.componentPosition=d.getComponentPosition(a);this.$componentContent=a.children(".component-content");this.$showMoreButton=a.find(".js-toggle-filters.more");this.$showLessButton=a.find(".js-toggle-filters.less");this.$checkboxWrappers=a.find(".checkbox");this.$checkboxes=a.find(".filter-checkbox");this.visibleOptionsNumber=parseInt(this.$componentContent.data("config").visibleOptions,10);this.$expandableOptions=a.find(".checkbox:nth-child("+this.visibleOptionsNumber+
")").nextAll();this.bindUIEvents();this.bindEnquire();this.updateSelectedFiltersStatus();this.updateFiltersGroupsStatus();this.analyticEvents()}var f={},k,d,a;e.prototype={bindUIEvents:function(){this.$showMoreButton.on("click",function(){this.$showMoreButton.addClass("is-hidden");this.$showLessButton.removeClass("is-hidden");this.$expandableOptions.removeClass("is-hidden")}.bind(this));this.$showLessButton.on("click",function(){this.$showLessButton.addClass("is-hidden");this.$showMoreButton.removeClass("is-hidden");
this.$expandableOptions.addClass("is-hidden");this.$el.removeClass("is-active")}.bind(this));this.$checkboxWrappers.on("click",".filter-checkbox, .filter-category-link",function(a){var d=b(a.target);a=b(a.delegateTarget);d.hasClass("filter-checkbox")&&a.find(".filter-category-link").get(0).click();d.hasClass("filter-category-link")&&this.$componentContent.addClass("is-disabled")}.bind(this))},bindEnquire:function(){var b=this.mobileFilterToggle.bind(this);enquire.register("only screen and (max-width: "+
a.maxMobile+"px)",{match:function(){this.$el.on("click",b)}.bind(this),unmatch:function(){this.$el.unbind("click",b);this.$expandableOptions.addClass("is-hidden");this.$showLessButton.addClass("is-hidden");this.$showMoreButton.removeClass("is-hidden");this.$el.removeClass("is-active")}.bind(this)})},mobileFilterToggle:function(){this.$expandableOptions.removeClass("is-hidden");this.$showLessButton.removeClass("is-hidden");this.$showMoreButton.addClass("is-hidden")},analyticEvents:function(){var a=
[];b.each(this.$checkboxes,function(b,d){null!==d.getAttribute("checked")&&(b=d.parentNode.innerText.trim(),a.push(b.slice(0,b.lastIndexOf(" "))))});if(0!==a.length)this.onFilterClick(a.join("|"),this.componentPosition)},updateSelectedFiltersStatus:function(){this.$checkboxes.length?this.$checkboxes.filter(":checked").length?(this.$componentContent.addClass("filter-is-selected"),this.$expandableOptions.removeClass("is-hidden"),this.$showMoreButton.addClass("is-hidden"),this.$showLessButton.removeClass("is-hidden")):
this.$componentContent.removeClass("filter-is-selected"):this.$el.addClass("is-empty")},updateFiltersGroupsStatus:function(){this.$checkboxes.length<=this.visibleOptionsNumber&&(this.$showMoreButton.addClass("is-hidden"),this.$showLessButton.addClass("is-hidden"))},onFilterClick:function(a,b){Cog.fireEvent("searchFilter",k.CLICK.SEARCH_FILTER,{filterOption:a,componentPosition:b})}};f.onRegister=function(b){k=this.external.eventsDefinition;d=this.external.utils;a=a||this.external.breakpoints;new e(b.$scope)};
Cog.registerComponent({name:"searchFilter",api:f,selector:".searchFilter",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.breakpoints",apiId:"breakpoints"}]})})(Cog.jQuery());
(function(b){function e(a,b){this.$el=a;this.searchResultsPage=2;this.resultsType=a.data("itemtype")||"";this.componentPosition=p.getComponentPosition(a);this.$componentContent=a.children(".component-content");this.$gridButton=a.find(".switchToGridButton");this.$listButton=a.find(".switchToListButton");this.$sortOrder=a.find(".sortOrder");this.$showMoreButton=a.find(".searchResults-more");this.$searchResultsContents=a.find(".searchResults-section-contents");this.$productItems=a.find(".item-product");
this.$searchItems=a.find(".searchResults-item");this.$quickViewButtons=a.find(".quickview-btn");this.$articleLinks=a.find(".item-article a");this.$productLinks=a.find(".item-product a");this.$ctaLinks=a.find(".view-all a");this.isQuizMode=0<a.find(".quiz-component").length;this.focusTrap=b.focusTrap;m=this.$componentContent.data("cookieq")&&this.$componentContent.data("cookieq").active;this.bindUIEvents();this.setInitialState();u.polyfill(this.$el,".item-article .searchResults-icon a, .item-recipe .searchResults-icon a")}
function f(a){m||(Cog.Cookie.read("searchResultsView")&&Cog.Cookie.erase("searchResultsView"),Cog.Cookie.create("searchResultsView",a))}var k={},d=window.location.href,a={},m,l=!1,h=b("body"),c,p,u;e.prototype={bindUIEvents:function(){this.$gridButton.on("click",function(){this.$componentContent.addClass("display-grid").removeClass("display-list");f("grid")}.bind(this));this.$listButton.on("click",function(){this.$componentContent.addClass("display-list").removeClass("display-grid");f("list")}.bind(this));
this.$sortOrder.on("change",function(){var a=window.location.href.replace(/#+$/,""),b=this.$sortOrder.val();p.pushComponent("Search results",p.getComponentPosition(this.$el),c.ctConstants.engagement,c.ctConstants.interest);p.addTrackedEvent(c.ctConstants.filter,b,c.ctConstants.engagement,c.ctConstants.interest);window.location.href=k.external.url.addOrUpdateQueryParam(a,"s",b)}.bind(this));this.$showMoreButton.on("click",function(a){a=b(a.target).data("morepath")+window.location.search+"\x26p\x3d"+
this.searchResultsPage;this.searchResultsPage+=1;b.get(a,function(a){if(a){var d=b(a).appendTo(this.$searchResultsContents);Cog.init({$element:b(a)});Cog.fireEvent("searchResults","showMore");this.checkEndOfSearchResults();a=d.find(".quickview-btn");this.bindQuickViewActions(a);this.resultsType===c.ctConstants.product&&this.trackImpression(d);Cog.fireEvent("favourite","ADD_ICON_FOR_DYNAMIC_LOADED_ITEMS",{$element:this.$searchResultsContents})}}.bind(this));Cog.fireEvent("showMoreButton",c.CLICK.LOAD_MORE_CLICK,
{eventLabel:this.resultsType.toUpperCase()||this.$showMoreButton.text(),componentName:c.ctConstants.searchResults,componentPosition:this.componentPosition})}.bind(this));this.bindAnalytics();this.bindQuickViewActions(this.$quickViewButtons)},bindAnalytics:function(){p.trackLinks(this.$articleLinks,{componentName:c.ctConstants.searchResults,componentPosition:this.componentPosition,type:c.ctConstants.article});p.trackLinks(this.$productLinks,{componentName:c.ctConstants.searchResults,componentPosition:this.componentPosition,
type:c.ctConstants.product});p.trackLinks(this.$ctaLinks,{componentName:c.ctConstants.searchResults,componentPosition:this.componentPosition,type:c.ctConstants.cta});this.$productItems&&0<this.$productItems.length&&!this.isQuizMode&&this.trackImpression(this.$productItems)},bindQuickViewActions:function(a){b.each(a,function(a,c){var d=b(c);d.on("click",function(){var a=d.data("quickviewsnippetpath");l||this.initQuickView();this.$container=h.find(".quickview-container");this.$wrapper=this.$container.find(".quickview-wrapper");
this.$content=this.$container.find(".quickview-content");this.getData(a);this.$activeQuickViewButton=d}.bind(this))}.bind(this));h.on("keydown",function(a){27===a.keyCode&&this.closeOverlay()}.bind(this))},checkEndOfSearchResults:function(){var a=this.$el.find(".searchResults-last-page");a.length&&(a.remove(),this.$showMoreButton.hide())},setInitialState:function(){var a=Cog.Cookie.read("searchResultsView"),b=k.external.url.getQueryParams(d).s;this.$componentContent.addClass("display-grid");a||m?
"list"===a&&this.$componentContent.removeClass("display-grid").addClass("display-list"):Cog.Cookie.create("searchResultsView","grid");b&&this.$sortOrder.val(b);this.$searchItems.length||h.addClass("no-results");this.$componentContent.removeClass("is-hidden")},initQuickView:function(){var a=b('\x3cdiv class\x3d"quickview-container"\x3e\x3cbutton class\x3d"quickview-close"\x3eX\x3c/button\x3e\x3cdiv class\x3d"quickview-wrapper"\x3e\x3cdiv class\x3d"quickview-content"/\x3e\x3cdiv/\x3e\x3cdiv/\x3e');
a.find(".quickview-close").on("click",function(){this.closeOverlay()}.bind(this));h.append("\x3cdiv class\x3d'quickview-background'/\x3e").append(a);l=!0},getData:function(c){"undefined"===typeof a[c]?b.get(c,function(d){"undefined"!==typeof d&&(a[c]=b(d).find(".snippetContent").get(0).innerHTML,this.openOverlay(c))}.bind(this)):this.openOverlay(c)},openOverlay:function(c){this.$content.html(a[c]);Cog.init(this.$content);this.focusTrap(this.$container);this.$container.addClass("is-active");b("html").addClass("overlay-open")},
closeOverlay:function(){"undefined"!==typeof this.$container&&"undefined"!==typeof this.$activeQuickViewButton&&(b("html").removeClass("overlay-open"),this.$container.removeClass("is-active"),this.$activeQuickViewButton.focus())},trackImpression:function(a){Cog.fireEvent("listing",c.ctConstants.productImpression,{componentName:c.ctConstants.searchResults,componentPosition:this.componentPosition,products:a})}};k.onRegister=function(a){a=a.$scope;c=this.external.eventsDefinition;p=this.external.utils;
u=this.external.objectFit;new e(a,this.external.focusTrap)};Cog.registerComponent({name:"searchResults",api:k,selector:".searchResults",requires:[{name:"utils.focusTrap",apiId:"focusTrap"},{name:"utils.url",apiId:"url"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.objectFit",apiId:"objectFit"}]})})(Cog.jQuery());
(function(){function b(b){this.$button=b.find(".button");this.$input=b.find(".search-query");this.bindUIEvents()}var e={};b.prototype={bindUIEvents:function(){this.$button.on("click",this.onButtonClick.bind(this))},onButtonClick:function(b){""===this.$input.val().trim()&&b.preventDefault()}};e.onRegister=function(e){new b(e.$scope)};Cog.registerComponent({name:"searchBox",api:e,selector:".searchBox"})})();
(function(){function b(b){this.$links=b.find("a");this.componentPosition=f.getComponentPosition(b);f.trackLinks(this.$links,{componentName:"Search Tab Navigation",componentPosition:this.componentPosition})}var e={},f;e.onRegister=function(e){f=this.external.utils;new b(e.$scope)};Cog.registerComponent({name:"searchTabNavigation",api:e,selector:".searchTabNavigation",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.showButton=b.data("show-button");this.type=b.data("type");this.placeholderId=b.data("placeholder-id");this.eanNumber=b.data("ean");this.$button=b.find(".shopalyst-btn");this.shopalystProperties={type:this.type};"undefined"!==typeof this.showButton&&this.init()}var e={},f={},k={};window.runOnWindowLoad(function(){var b=document.getElementById("shopalyst-lazyLoad");if(b){var a=b.getAttribute("data-src");b.setAttribute("src",a);b.removeAttribute("data-src");
b.addEventListener("load",function(){_shopalyst.init(shopalyst.publisherId,shopalyst.placementId,shopalyst.campaignId);Cog.fireEvent("shopalystLazyLoad","SHOPALYST_LAZY_LOAD")})}});b.prototype={init:function(){this.showButton?(this.validate(),this.bindUIEvents()):(this.show(),window.addEventListener("message",function(b){b&&b.data&&b.origin.match("(shortlyst)?(shopalyst)?")&&(b=b.data)&&"merchant_clicked"===b.event&&b.productId&&parseInt(b.productId,10)===this.eanNumber&&Cog.fireEvent("shopalyst",
k.ctConstants.shopalystRetailerClicked,{productEan:b.productId,position:f.getComponentPosition(this.$el)})}.bind(this)))},show:function(){if("undefined"!==typeof _shopalyst)switch(this.type){case "merchantSelector":_shopalyst.addEANToCart(this.eanNumber);break;default:_shopalyst.showBinWidget(this.eanNumber,this.placeholderId,this.shopalystProperties)}},validate:function(){"undefined"!==typeof this.eanNumber&&"undefined"!==typeof this.placeholderId&&"undefined"!==typeof this.type||this.$button.attr("disabled",
!0)},bindUIEvents:function(){this.$button.bind("click",function(b){b.preventDefault();this.show()}.bind(this))}};e.onRegister=function(d){"undefined"!==typeof _shopalyst?new b(d.$scope):Cog.addListener("shopalystLazyLoad","SHOPALYST_LAZY_LOAD",function(){new b(d.$scope)}.bind(this))};e.init=function(){f=this.external.utils;k=this.external.eventsDefinition;Cog.addListener("shopalyst",k.ctConstants.shopalystRetailerClicked,function(b){b.eventData&&b.eventData.productEan&&Cog.fireEvent("buyitnow",k.CLICK.BIN_CLICK,
{componentPosition:b.eventData.position,product:b.eventData.productEan,component:"Shopalyst"})})};Cog.registerComponent({name:"shopalyst",api:e,selector:".shopalyst",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$links=b.find("a");this.componentPosition=f.getComponentPosition(b);f.trackLinks(this.$links,{componentName:"Sitemap",componentPosition:this.componentPosition})}var e={},f;e.onRegister=function(e){f=this.external.utils;new b(e.$scope)};Cog.registerComponent({name:"sitemap",api:e,selector:".sitemap",requires:[{name:"analytics.utils",apiId:"utils"}]})})();
(function(){function b(b){this.$el=b;this.analyticsSetup()}var e={},f;b.prototype={analyticsSetup:function(){this.$el.on("click",function(){Cog.fireEvent("smartlabel",f.CLICK.SMARTLABEL_CLICK,{pageType:digitalData.page.category.pageType})})}};e.onRegister=function(e){f=this.external.eventsDefinition;new b(e.$scope)};Cog.registerComponent({name:"smartlabel",api:e,selector:".smartlabel",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();
(function(){window.runOnWindowLoad(function(){var b=document.getElementById("stackla-lazyLoad");b&&(b.src=b.getAttribute("data-src"),b.removeAttribute("data-src"))})})(Cog.jQuery());
(function(b){function e(e){var f=b(window).height()/2,d=b(window).width()/2;window.open(e.target.href,"","menubar\x3d1,resizable\x3d1,scrollbars\x3d1,width\x3d"+d+",height\x3d"+f);return!1}Cog.registerComponent({name:"table",api:{onRegister:function(b){b=b.$scope;b.find("table tr:even").addClass("even");b.find(".table-button").click(e)}},selector:".table"})})(Cog.jQuery());
(function(b){function e(a){this.$scope=a;this.init();this.bindEvents()}var f={tabs:[]},k,d;e.prototype.init=function(){var a=this.$scope;this.$contents=a.find("\x3e .component-content \x3e .tabs-content");this.$contents.addClass("is-hidden");this.isVertical=a.hasClass("tabs-vertical")};e.prototype.bindEvents=function(){function a(a){f.$contents.addClass("is-hidden");var b=f.$contents.filter(a.find("a").attr("href"));b.removeClass("is-hidden");e.removeClass("is-active");a.addClass("is-active");Cog.fireEvent("tab",
"change",{id:b.attr("id"),index:a.index(),container:b})}var e=this.$scope.find("\x3e .component-content \x3e .tabs-nav .tabs-nav-item"),f=this;this.navWidth=this.$scope.find("\x3e .component-content \x3e .tabs-nav").width();this.listHeight=this.listWidth=0;e.each(function(){f.listWidth+=b(this).outerWidth(!0);f.listHeight+=b(this).outerHeight(!0)});this.isVertical?this.setContentHeight():this.navWidth<this.listWidth&&this.initializeScrolling();e.on("click",function(e){var c=d.getComponentPosition(this.$scope),
f=b(e.currentTarget),h=b(e.target).closest(".tabs-nav-item"),m=h.find(".text-wrapper").text();h=h.index()+1;f.hasClass("is-active")||e.stopPropagation();e.preventDefault();a(f);Cog.fireEvent("tabs",k.CLICK.TABS_CLICK,{label:m+" - "+h+" - "+window.location.href,componentPosition:c})}.bind(this));a(e.filter(".is-active"));Cog.addListener("tab","select",function(b){b=b.eventData.index||0;b=Math.min(Math.max(0,b),e.length-1);a(e.eq(b))})};e.prototype.initializeScrolling=function(){var a=this.$scope.find(".tabs-nav-switcher"),
d=a.filter(".tabs-nav-switcher-right"),e=a.filter(".tabs-nav-switcher-left"),f=this.$scope.find(".tabs-nav-list"),c=this;d.removeClass("is-hidden");a.on("click",function(){var a=b(this).hasClass("tabs-nav-switcher-right")?-20:20;a=parseInt(f.css("left"),10)+a;0>a?(e.removeClass("is-hidden"),-1*a>=c.listWidth-c.navWidth?d.addClass("is-hidden"):d.removeClass("is-hidden")):e.addClass("is-hidden");f.stop().animate({left:a+"px"})})};e.prototype.setContentHeight=function(){var a=this;this.$contents.each(function(){b(this).height()<
a.listHeight&&b(this).css("min-height",a.listHeight+"px")})};f.onRegister=function(a){k=this.external.eventsDefinition;d=this.external.utils;f.tabs.push(new e(a.$scope))};Cog.registerComponent({name:"tabs",api:f,selector:".tabs[class*\x3ddefault-]",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$tagLinks=this.$el.find(".taglist-tag-link");this.position=k.getComponentPosition(this.$el);this.bindUIEvents()}var e={},f,k;b.prototype={bindUIEvents:function(){this.$tagLinks.on("click",function(b){Cog.fireEvent("tagList",f.CLICK.TAGS_CLICK,{tagName:$(b.target).text(),componentPosition:this.position})}.bind(this))}};e.onRegister=function(d){f=this.external.eventsDefinition;k=this.external.utils;new b(d.$scope)};Cog.registerComponent({name:"tagList",api:e,
selector:".taglist",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})();(function(){var b={},e;b.init=function(){"undefined"!==typeof mboxArgs&&(e=this.external.targetHandler,e.safeCreateMbox({mboxName:"adobe-templated-mbox",elementId:"content",properties:mboxArgs}))};Cog.register({name:"target.dataIntegration",api:b,requires:[{name:"target.handler",apiId:"targetHandler"}]})})();
(function(b){function e(e){function f(){Cog.fireEvent("turnto",d.CLICK.TURNTO_SEE_QUESTION,{position:a})}function c(){Cog.fireEvent("turnto",d.SUBMIT.TURNTO_QUESTION,{position:a})}function m(){Cog.fireEvent("turnto",d.SUBMIT.TURNTO_ANSWER,{position:a})}var l=e.attr("tt-sitekey"),q=e.attr("tt-prodId"),g=e.attr("tt-widgetScript"),A=e.attr("tt-itemJs"),F=e.attr("tt-locale");a=k.getComponentPosition(e.parent());(function(a,b){window.TurnToItemSku=b;window.turnToConfig={locale:F,siteKey:a,skipCssLoad:!0,
setupType:"dynamicEmbed",eventHandlers:{instantClick:f,questionSubmit:c,answerSubmit:m}}})(l,q);b.getScript(g);b.getScript(A);(function(c){c.on("click",".TTflagAnswer",function(){Cog.fireEvent("turnto",d.CLICK.TURNTO_INACCURATE,{position:a})});b(".TTseeQuestions").on("click",function(){Cog.fireEvent("turnto",d.CLICK.TURNTO_TEASER_SEE_QUESTION,{position:a})})})(e)}var f={},k,d,a,m=document.getElementById("turnToLazyLoaded");f.onRegister=function(a){k=this.external.utils;d=this.external.eventsDefinition;
m?m&&"complete"===document.readyState?(m.removeAttribute("id"),new e(a.$scope)):window.runOnWindowLoad(function(){m.removeAttribute("id");new e(a.$scope)}):new e(a.$scope)};Cog.registerComponent({name:"turnto",api:f,selector:".turnto",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){var e={preprocess:{twitter:function(b,e){e=e.blankLinks?' target\x3d"_blank"':"";b.text=b.text.replace(/(^|\s)http:\/\/t.co\/(\w+)/,'$1\x3ca href\x3d"http://t.co/$2"'+e+"\x3ehttp://t.co/$2\x3c/a\x3e").replace(/(^|\s)@(\w+)/g,'$1\x3ca href\x3d"http://www.twitter.com/$2"'+e+"\x3e@\x3cstrong\x3e$2\x3c/strong\x3e\x3c/a\x3e").replace(/(^|\s)#(\w+)/g,'$1\x3ca href\x3d"http://twitter.com/search?q\x3d%23$2\x26src\x3dhash"'+e+"\x3e#\x3cstrong\x3e$2\x3c/strong\x3e\x3c/a\x3e");var d=function(a){a=
a.split(" ");a=a[1]+" "+a[2]+", "+a[5]+" "+a[3];a=Date.parse(a);return new Date(a)}(b.created_at);b.created_at=function(a){return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()}(d);b.target=e;b.retwitted=!1;"undefined"!==typeof b.retweeted_status&&(b.retwitted=b.retweeted_status.user.name);return b}},onRegister:function(f){var k,d;var a=function(a,c){b.getJSON(a,function(a){e.processData.call(e,a,c,f)})};e.scope=k=f.$scope;var m=b(k).find(".component-content");if(d=m.data("providerPath")){var l=
m.data("refresh-interval");a.call(k,d,m.data());l&&function(b,c,d){window.setInterval(function(){a.call(b,c,d)},1E3*l)}(k,d,m.data())}},processData:function(f,k,d){if("undefined"===typeof f.feedType)return!1;var a=e.getTemplate(f.feedType),m="";_.forEach(f.statuses,function(b){"function"===typeof e.preprocess[f.feedType]&&(b=e.preprocess[f.feedType](b,k));m+=_.template(a,b)});b(d.$scope).find(".feed-provider-feeds").html(m);Cog.fireEvent("twitter","feedsLoaded");return!0},getTemplate:function(e){return b("."+
e+"-template")[0].innerHTML}};Cog.registerComponent({name:"feedProvider",api:e,selector:".twitter",requires:["utils.bodySettings"]})})(Cog.jQuery());
(function(b){function e(d,c){function e(){var d=b("#ytapi");d.length||(d=b(document.createElement("script")),d.attr({src:c.api||"https://www.youtube.com/iframe_api",id:"ytapi"}),b("head").prepend(d),a=!0)}function h(){return new YT.Player(C,{videoId:c.id,width:"100%",height:"100%",playerVars:{modestbranding:1,autoplay:c.autoplay?1:0,controls:c.showControls?1:0,showinfo:0,rel:0,fs:1,enablejsapi:1,iv_load_policy:3,html5:1},events:{onReady:function(a){z=a.target;b(z.getIframe()).attr("unselectable",
"on").attr("tabindex","-1");c.mute&&z.mute();d.addClass("video-ready");!c.videoTitle&&z.getVideoData&&(c.videoTitle=z.getVideoData().title||"");!t&&z.getDuration&&(t=z.getDuration());var e=Cog.addListener("overlay","close",function(){clearInterval(I);z.pauseVideo&&z.pauseVideo();Cog.removeListener(e)});c.fastforwardTriggered=!1},onStateChange:function(a){switch(a.target.getPlayerState()){case 1:d.addClass("video-ready");I=setInterval(q,500);100===H&&(H=0);0===H&&l!==k.videoPlays&&(Cog.fireEvent("video",
k.videoPlays,{componentPosition:c.componentPosition,videoId:c.id,videoTitle:c.videoTitle}),l=k.videoPlays);break;case 0:c.loop&&z.playVideo(),Cog.fireEvent("video",k.videoCompletes,{componentPosition:c.componentPosition,videoId:c.id,videoTitle:c.videoTitle}),l=k.videoCompletes,H=100,clearInterval(I)}},onPlaybackRateChange:g}})}function q(){25<=parseInt(z.getCurrentTime()/t*100,10)-H&&(H+=25,Cog.fireEvent("video",k.videoProgress,{componentPosition:c.componentPosition,videoId:c.id,videoTitle:c.videoTitle,
progress:H+"%"}),l=k.videoProgress)}function g(a){!c.fastforwardTriggered&&1<a.data&&(Cog.fireEvent("video",k.VideoFastForwarded,{componentPosition:c.componentPosition,videoId:c.id,videoTitle:c.videoTitle}),c.fastforwardTriggered=!0,l=k.VideoFastForwarded)}function A(){function c(){var a=d.offset().top,b=g.scrollTop()+1.5*g.innerHeight();return"complete"===document.readyState&&a<b}function f(){c()&&e();a&&(b.each(m,function(a,b){g.off("scroll",b)}),m=[])}var g=b(window),h=b.throttle(100,!1,f);m.push(h);
g.on("scroll",h);window.runOnWindowLoad(f);f()}c=c||{};var F=document.createElement("div"),C=F.id="yt-"+Math.round(Date.now()*Math.random()),H=0,z,t,I;d.append(F);c.cookieqActive&&(c.api="https://az417220.vo.msecnd.net/YouTube/iframe_api");c.isConfigured&&(A(),f.then(h))}var f=b.Deferred(),k,d,a=!1,m=[],l;window.onYouTubeIframeAPIReady=function(){f.resolve()};Cog.registerComponent({name:"video",api:{onRegister:function(a){a=a.$scope;var b=a.find(".video-content"),f=b.data("video")||{},h="undefined"===
typeof Modernizr.videoautoplay?!0:Modernizr.videoautoplay;k=this.external.eventsDefinition.ctConstants;d=this.external.utils;f.autoplay=h&&f.autoplay;f.componentPosition=d.getComponentPosition(a);if(a.hasClass("as-background")&&(this.external.coverBg(b),f.autoplay=f.loop=f.mute=!0,f.showControls=!1,!Modernizr.videoautoplay))return;b.addClass("cover-ready");e(a.find(".video-holder"),f)}},selector:".video",requires:[{name:"utils.coverBg",apiId:"coverBg"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},
{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(a){a=b(a).data();return _.filter([{src:a.srcMp4,type:"video/mp4"},{src:a.srcOgg,type:"video/ogg"},{src:a.srcWebm,type:"video/webm"}],"src")}function f(b){this.$el=b;this.$video=b.find("video");this.mediaElement=null;this.$thumbnails=this.$el.find(a.thumbnailsListContainerSelector);this.$thumbnailsList=this.$thumbnails.find("ul");this.$thumbnailsItems=this.$thumbnails.find("li");this.$arrows=this.$el.find(a.thumbnailsArrowsSelector);this.listContainerWidth=this.$thumbnails.width();
this.thumbnailWidth=this.$thumbnailsItems.eq(0).outerWidth(!0);this.autoPlayNext=this.$el.find(a.videoWrapper).data("autoplay-next-video");this.initialize();this.bindEvents()}var k={},d="playpause progress current duration tracks volume fullscreen".split(" "),a={thumbnailsListContainerSelector:".videoGallery-list",thumbnailsArrowsSelector:".videoGallery-arrow",descriptionSelector:".videoGallery-description",titleSelector:".videoGallery-heading",videoWrapper:".videoGallery-video"};f.prototype={initialize:function(){var a=
this;this.$thumbnailsList.css("width",this.thumbnailWidth*this.$thumbnailsItems.length);this.$video.mediaelementplayer({features:d,enableAutosize:!0,plugins:["flash"],pluginPath:k.external.settings.themePath+"/assets/swf/",flashName:"flashmediaelement.swf",success:this.onMejsSuccess.bind(this)});b(window).resize(b.throttle(150,function(){a.listContainerWidth=a.$thumbnails.width();a.$thumbnailsList.css({left:0});a.$arrows.filter(".videoGallery-arrow-left").addClass("is-disabled");a.$arrows.filter(".videoGallery-arrow-right").removeClass("is-disabled")}))},
bindEvents:function(){var a=this;Cog.addListener("overlay","close",this.onOverlayClose,{scope:this,disposable:!0});this.$thumbnailsItems.on("click",function(){var d=b(this);a.reloadVideo({src:e(d),autoplay:!0,title:d.data("title"),poster:d.find("img").attr("src"),description:d.data("description")});a.$thumbnailsItems.removeClass("is-active");d.addClass("is-active")});this.$arrows.click("click",function(){a.$thumbnailsList.stop(!1,!0);var d=b(this),e=a.thumbnailWidth*a.$thumbnailsItems.length,c=parseInt(a.$thumbnailsList.css("left"),
10),f=d.hasClass("videoGallery-arrow-left")?1:-1;c+=a.thumbnailWidth*f;e=e-a.listContainerWidth+a.listContainerWidth%a.thumbnailWidth;a.$arrows.removeClass("is-disabled");0>=c&&-1*c<=e?a.$thumbnailsList.animate({left:c}):d.addClass("is-disabled");c+=a.thumbnailWidth*f;0>=c&&-1*c<=e||d.addClass("is-disabled")})},reloadVideo:function(b){var d=this.mediaElement,e=this.$el.find(a.descriptionSelector),c=this.$el.find(a.titleSelector);d.pause();d.setSrc(b.src);d.load();b.poster&&(this.$video.attr("poster",
b.poster),this.$video.parents(".mejs-inner").find(".mejs-poster").css({"background-image":"url('"+b.poster+"')",display:"block"}));b.autoplay&&d.play();e.text(b.description);c.text(b.title)},onOverlayClose:function(){this.$el.parents(".overlay-container").size()&&(this.mediaElement.stop(),this.mediaElement.remove(),Cog.finalize(this.$el))},onMejsSuccess:function(a){var b=this,d=this.$thumbnailsItems;this.mediaElement=a;a.addEventListener("ended",function(){var a=d.filter(".is-active").eq(0).next();
a.length&&(b.reloadVideo({src:e(a),autoplay:b.autoPlayNext,title:a.data("title"),poster:a.find("img").attr("src"),description:a.data("description")}),d.removeClass("is-active"),a.addClass("is-active"))})}};k.onRegister=function(a){new f(a.$scope)};Cog.registerComponent({name:"videoGallery",api:k,selector:".videoGallery",requires:[{name:"utils.bodySettings",apiId:"settings"}]})})(Cog.jQuery());
(function(b){function e(b){this.$el=b;this.tpl=doT.template(b.find("[type\x3d'text/x-dot-template']").text());this.$input=b.find(".virtualAgent-input");this.$reset=b.find(".virtualAgent-reset");this.$question=b.find(".virtualAgent-question");this.$answer=b.find(".virtualAgent-answer");this.$results=b.find(".virtualAgent-results");this.$noresults=b.find(".virtualAgent-noresults");this.$footer=b.find(".virtualAgent-footer");this.$footerLink=this.$footer.find("a");this.$relatedQuestions=b.find(".virtualAgent-related-questions");
this.config=b.find(".configuration").data();this.componentPosition=k.getComponentPosition(b);this.bindUIEvents();this.config&&this.config.searchUrl&&this.attachTypeahead(this.$input,this.configureEntries(this.config.searchUrl))}var f,k;e.prototype={bindUIEvents:function(){this.$input.on("typeahead:select",function(b,a){if(!a)return!1;this.renderDescription(a);this.eventAnalytic(a.question,this.componentPosition)}.bind(this));this.$input.on("typeahead:render",function(d,a){this.$results.removeClass("is-loading");
if(a&&a.isEmpty){this.$noresults.show();this.$results.hide();this.$footer.show();var e=0}else this.$results.show(),this.$noresults.hide(),e=b(".virtualAgent").find(".tt-suggestion").length||0;a&&this.eventAnalytic(e+" - "+d.currentTarget.value,this.componentPosition)}.bind(this));this.$input.on("typeahead:asyncrequest",function(){this.$results.addClass("is-loading");this.$results.children().hide();this.$footer.hide()}.bind(this));this.$input.on("typeahead:asyncreceive",function(){this.$results.removeClass("is-loading")}.bind(this));
this.$input.on("typeahead:asynccancel",function(){this.$noresults.show();this.$footer.show()}.bind(this));this.$input.on("keypress",function(b){if(13===b.which)return b.preventDefault(),!1});this.$input.on("input",function(){0<this.$input.val().length?this.$reset.show():this.$reset.hide()}.bind(this));this.$reset.on("click",function(){this.$input.typeahead("val","");this.$reset.hide();this.$noresults.hide();this.$footer.hide();this.$results.removeClass("is-loading").children().hide()}.bind(this));
this.$el.on("click",".virtualAgent-related-question",function(d){var a=b(d.target).data();this.renderDescription({knowledgeBaseId:a.entryId,question:a.entryQuestion,answer:a.entryAnswer});d.preventDefault();this.eventAnalytic(a.entryQuestion,this.componentPosition)}.bind(this));k.trackLinks(this.$footerLink,{isCta:!0,componentName:"Virtual Agent",componentPosition:this.componentPosition,category:f.ctConstants.engagement,subcategory:f.ctConstants.interest});this.onloadAnalytics(this.position)},configureEntries:function(b){return new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),
queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:b+"?searchTerm\x3d\x26QUERY\x26",wildcard:"\x26QUERY\x26",transform:function(a){0===a.length&&(a=[{isEmpty:!0}]);return a}}})},attachTypeahead:function(b,a){b.typeahead({minLength:3,highlight:!0},{source:a,limit:10,display:"question"})},renderDescription:function(d){this.$results.addClass("is-loading");this.$input.typeahead("val",d.question);b.get(this.config.relatedUrl+"?id\x3d"+d.knowledgeBaseId+"\x26searchTerm\x3d"+d.question,function(a){a=
JSON.parse(a);this.$question.text(d.question);this.$answer.text(d.answer);this.$relatedQuestions.html(this.tpl(a));this.$results.removeClass("is-loading");this.$results.children().fadeIn(500);this.$footer.show()}.bind(this))},eventAnalytic:function(b,a){Cog.fireEvent("virtualAgent",f.CLICK.VIRTUAL_AGENT_CLICK,{label:b,componentPosition:a})},onloadAnalytics:function(b){Cog.fireEvent("virtualAgent",f.LOAD.VIRTUAL_AGENT,{componentPosition:b})}};Cog.registerComponent({name:"virtualAgent",api:{onRegister:function(b){f=
this.external.eventsDefinition;k=this.external.utils;new e(b.$scope)}},selector:".virtualAgent",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());(function(b){Cog.registerComponent({name:"backToTop",api:{onRegister:function(e){e.$scope.on("click",function(e){e.preventDefault();b("html, body").animate({scrollTop:0},700)})}},selector:".reference-icon-link .back-to-top"})})(Cog.jQuery());
(function(b){Cog.registerComponent({name:"checkboxItem",api:{onRegister:function(e){e.$scope.find("[type\x3d'checkbox'][role\x3d'radio']").on("click",function(e){e=b(e.target);if(e.is(":checked")){var f=e.attr("data-radiogroup");b("[type\x3d'checkbox'][role\x3d'radio'][data-radiogroup\x3d'"+f+"']").prop("checked",!1);e.prop("checked",!0)}})}},selector:".reference-checkbox-item"})})(Cog.jQuery());
(function(b){Cog.registerComponent({name:"datePicker",api:{onRegister:function(e){if(!this.external.check.isTouch()){e=e.$scope;var f=b.extend({selectYears:100,selectMonths:!0,format:"mm-dd-yyyy",formatSubmit:"yyyy-mm-dd",labelMonthNext:"",labelMonthPrev:"",labelMonthSelect:"",labelYearSelect:"",weekdaysFull:"      ".split(" "),hiddenName:!0,max:!0},e.data("datepicker"));e.pickadate(f)}}},selector:".reference-datepicker input[type\x3ddate]",requires:[{name:"utils.touchCheck",apiId:"check"}]})})(Cog.jQuery());
(function(){function b(a){this.$el=a;this.$button=a.find("a");this.basePath=f.removeParameters(this.$button.attr("href"));this.init()}var e={},f,k,d,a;b.prototype.init=function(){this.$el.parents(".quickview-container").length&&Cog.addListener("variantList","variantChanged",function(a){a=f.addOrUpdateQueryParam(this.basePath,"ean",a.eventData.ean);this.$button.attr("href",a)}.bind(this));this.$button.on("click",function(b){Cog.fireEvent("storeLocator",d.CLICK.STORE_LOCATOR_CTA,{label:b.target.text,
position:a})})};e.onRegister=function(e){f=this.external.url;new b(e.$scope);k=this.external.analyticsUtils;d=this.external.eventsDefinition;a=k.getComponentPosition(e.$scope)};Cog.registerComponent({name:"findInStoreButton",api:e,selector:".reference-find-in-store-button",requires:[{name:"utils.url",apiId:"url"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"analyticsUtils"}]})})();
(function(){var b={},e,f;b.onRegister=function(b){this.$el=b.$scope;e=this.external.utils;f=this.external.eventsDefinition.ctConstants;this.$el.on("click",function(b){e.addTrackedEvent(f.clickstosocialplatforms,b.target.href,f.advocacy,f.lead)}.bind(this))};Cog.registerComponent({name:"iconLink",api:b,selector:"#footer .footer-social-links .reference-icon-link a",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b,e){function f(f){this.options={retryMax:48,retryDelay:250};this.relocateTimer=null;this.retryCount=0;this.$el=f;this.$link=this.$el.find(".link-to-tab-item");this.destinationClass=this.$link.data("tab-item");this.$destinationTabItem=[];try{this.$destinationTabItem=b(".tabs .tabMenuItem."+this.destinationClass)}catch(c){e.log("content error:",this.destinationClass,c)}this.qs=d.getFromQueryString("tab-item");a(this);this.relocateTimer=setTimeout(this.relocateElement,0)}var k={},d,a,m,l=
b("body");e=e||{log:function(){}};(function(){l.on("mouseup",".bv-mbox-close",function(a){a=b(a.target).closest(".bv-mbox");var c=b('.bv-form input[name\x3d"productid"]').val();c=b('[data-bv-product-id\x3d"'+c+'"]').find('[data-tab-item\x3d"tab-item-reviews"]').attr("href");a.length&&1===a.find(".bv-mbox-current .bv-submission-thankyou").length&&c&&(location.href=c)})})();f.prototype={init:function(){this.$destinationTabItem.length?(this.bindEvents(),this.checkQureystring()):this.linkToTabItem()},
relocateElement:function(){clearTimeout(this.relocateTimer);var a=this.$el.parent().find(".ratingsandreviews");a=this.getButtonsWrapper(a);if(a.length){var b=this.$el.clone();b.appendTo(a).show();this.$el.remove();this.$link=b.find(".link-to-tab-item");this.init()}else this.retryCount<this.options.retryMax&&(this.retryCount+=1,this.relocateTimer=setTimeout(this.relocateElement,this.options.retryDelay))},getButtonsWrapper:function(a){return a.children(".bazaarvoice").length?a.find(".bv_main_container_row_flex").last():
[]},scrollToTabItem:function(){this.scrollTo({$el:this.$destinationTabItem});this.$destinationTabItem.trigger("click")},linkToTabItem:function(){var a=this.$link.attr("href"),b="tab-item\x3d"+this.destinationClass;a&&"#"!==a&&(a=-1===a.indexOf("?")?a+"?"+b:a+"\x26"+b,this.$link.attr("href",a))},bindEvents:function(){this.$link.on("click",this.scrollToTabItem.bind(this))},scrollTo:function(a){var c=a.$el.offset().top-(a.offset||10),d=a.callback||function(){};b("html, body").animate({scrollTop:c},a.duration||
700,d)},checkQureystring:function(){if(this.qs&&this.qs===this.destinationClass&&!m){m=!0;var a=this;a.$destinationTabItem.trigger("click");_.defer(function(){a.$destinationTabItem.closest(".tabs-nav").attr("id",a.qs);a.scrollTo({$el:a.$destinationTabItem,duration:1E3,callback:function(){location.hash=a.qs}})},3E3)}}};k.onRegister=function(b){a=a||this.external.bindAll;d=d||this.external.querystring;new f(b.$scope)};Cog.registerComponent({name:"linkToTabItem",api:k,selector:".reference-link_to_tab_item",
requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.querystring",apiId:"querystring"}]})})(Cog.jQuery(),window.console);
(function(b){function e(b){this.$el=b;a=this.$el.find(".print-preview-trigger").detach();d.append(this.$el);this.bindUIEvents()}var f={},k,d=b("body"),a;e.prototype.bindUIEvents=function(){k||(k=!0,d.on("click","[data-action\x3d'print']",function(a){a.preventDefault();this.printFromPreview()}.bind(this)),d.on("click","[data-action\x3d'close-preview']",function(a){a.preventDefault();this.previewClose()}.bind(this)),d.on("mouseup keydown","[data-action\x3d'show-preview']",function(a){"mouseup"===a.type?
(a.preventDefault(),this.previewOpen()):13===a.keyCode&&this.previewOpen()}.bind(this)));Cog.addListener("storelocator","results:select",this.addPrintIcon)};e.prototype.addPrintIcon=function(){_.defer(function(){b(".storeresults-list \x3e .active").find(".storeresults-name").prepend(a)},50)};e.prototype.previewOpen=function(){b(window).scrollTop(0);d.addClass("print-preview")};e.prototype.previewClose=function(){d.removeClass("print-preview")};e.prototype.printFromPreview=function(){window.print()};
f.onRegister=function(a){new e(a.$scope)};Cog.registerComponent({name:"printControls",api:f,selector:".parametrizedhtml.reference-print-controls",requires:[]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$gridViewButton=this.$el.find(".switchToGridButton");this.$listViewButton=this.$el.find(".switchToListButton");this.$resultsWrapper=this.$el.closest(".product-results-wrapper");this.switchToGrid();this.switchToList();this.setDefaultState()}var e={};b.prototype={switchToList:function(){this.$listViewButton.on("click",function(){this.$resultsWrapper.addClass("display-list").removeClass("display-grid")}.bind(this))},switchToGrid:function(){this.$gridViewButton.on("click",
function(){this.$resultsWrapper.removeClass("display-list").addClass("display-grid")}.bind(this))},setDefaultState:function(){this.$resultsWrapper.removeClass("display-list").addClass("display-grid")}};e.onRegister=function(e){new b(e.$scope)};Cog.registerComponent({name:"switchView",api:e,selector:".displayModeSwitches"})})(Cog.jQuery());
(function(b){function e(d){this.$contactUsBoxes=d;this.$tilesHolder=this.$contactUsBoxes.find(".tiles-holder");this.$tile=this.$tilesHolder.find(k);this.$tile.on("click",function(){var a=b(this).find("a").last();window.location.href=a.attr("href")})}var f={},k=b("[class*\x3d'contact-tile--']");f.onRegister=function(b){new e(b.$scope)};Cog.registerComponent({name:"contact-us-boxes",api:f,selector:".composite-contact_us_boxes"})})(Cog.jQuery());
(function(b){function e(a){a.preventDefault();return a}function f(a){a.find("[id]").each(function(){var c=b(this),d=c.attr("id");var e=Math.random().toString(36).substring(6);c.attr("id",e);a.find("a[href\x3d'#"+d+"']").attr("href","#"+e)})}function k(a){this.$holder=a;this.selectCurrentLanguage();this.clone();this.makeHolderAccessible();this.handleKeyboard()}function d(a){this.$holder=a;this.$mainWrapper=b("#wrapper");this.$currLevel3=this.$currLevel2=this.$currLevel=null;p(this);this.buildHTML();
this.bindEvents()}function a(a){this.$holder=a;this.$items=a.find(".tabs-nav-item");this.items=[];p(this);this.initItems()}function m(a,b){this.$holder=a;this.$content=b;this.state="idle";this.$childLinks=this.$content.find(".navigation-item \x3e a");this.isStandaloneLink=1===this.$childLinks.length;this.isActive=this.$content.find(".navigation-item").hasClass("is-active");p(this);this.checkActive();this.bindEvents()}function l(a){this.bindDOM(a);this.bindEvents()}function h(a){this.bindDOM(a);this.measureHeaderHeight();
this.bindEvents();this.onScroll()}var c=!1;k.prototype={open:function(){this.$select.addClass("is-enabled")},close:function(){this.$select.removeClass("is-enabled")},clone:function(){this.$select=this.$holder.clone();this.$select.addClass("navigation-select-box");this.$holder.after(this.$select)},selectCurrentLanguage:function(){var a=document.location.pathname.split("/");this.$holder.find("a").each(function(c,d){c=(d.parentNode.className.match(/page-(\w+)/)||[""])[1].split("_");var e=c.filter(function(b){return 0<
a.indexOf(b)});c.length===e.length&&b(d).addClass("is-active")})},makeHolderAccessible:function(){this.$holder.find("a").attr("role","menuitem")},handleKeyboard:function(){var a=this.$holder.find(".navigation-item-title"),c=this.$select.find("a");a.on("focus",function(){this.$select.addClass("is-active")}.bind(this));a.on("keydown",function(a){13===a.keyCode&&(a.preventDefault(),this.open(),c.first().focus())}.bind(this));_.forEach(c,function(a,d){a=b(a);a.on("focus",_.debounce(this.open.bind(this),
1));a.on("blur",this.close.bind(this));a.on("keydown",function(a){40===a.keyCode&&(a.preventDefault(),c[d+1]&&b(c[d+1]).focus());38===a.keyCode&&(a.preventDefault(),c[d-1]&&b(c[d-1]).focus())})}.bind(this))}};d.prototype={buildHTML:function(){this.$navViewport=b("\x3cdiv class\x3d'nav-mobile-viewport' /\x3e");this.$navWrapper=b("\x3cdiv class\x3d'nav-mobile-wrapper' /\x3e");this.$navHolder=b("\x3cdiv class\x3d'nav-mobile' /\x3e");this.$navButton=b("\x3cdiv class\x3d'nav-button' /\x3e");this.$navButtonClose=
b("\x3cdiv class\x3d'nav-button-close' /\x3e");this.$supplementary=this.$holder.find(".header-supplementary").clone();var a=b("\x3cdiv class\x3d'back-button-wrapper' /\x3e"),c=this.$holder.find(".header-main .tabs").clone();this.$navViewport.append(this.$navWrapper);this.$navWrapper.append(this.$navButtonClose);this.$navWrapper.append(this.$navHolder);this.$navHolder.append(c);this.$navHolder.append(this.$supplementary);c.find(".tabs-nav-item \x3e a").each(function(d,e){d=b(e).find(".tabMenuItem").clone();
d.removeClass().addClass("back-button");c.find(e.hash).find(".tabContent").prepend(a.clone().append(d))});c.find(".navigation-item.has-children").each(function(c,d){c=b(d).find("\x3e .navigation-item-title").clone();c.removeClass().addClass("back-button");c=b("\x3cli /\x3e").append(a.clone().append(c));b(d).find("\x3e .navigation-root").prepend(c)});this.$holder.find(".header-main \x3e .component-content \x3e .content").append(this.$navButton);f(this.$navViewport);this.$holder.find("\x3e .inner \x3e .component-content").append(this.$navViewport)},
removeScroll:function(a){a=a.offset().top+a.outerHeight();this.$mainWrapper.css("overflow","hidden");this.$mainWrapper.css("height",Math.max(a,window.innerHeight))},resetScroll:function(){this.$mainWrapper.css("overflow","");this.$mainWrapper.css("height","");this.$navHolder.css("min-height","")},refreshScroll:function(a){this.$currLevel=a;this.$navWrapper.hasClass("is-active")&&(this.resetScroll(),window.scrollTo(0,0),_.defer(function(){this.removeScroll(a)}.bind(this)))},openNav:function(){this.$navWrapper.addClass("is-active");
this.refreshScroll(this.$supplementary);c=!0;Cog.fireEvent("navigation","mobileOpen")},closeNav:function(){this.$navWrapper.find(".navigation-item.has-children").removeClass("is-active");this.$navWrapper.removeClass("is-active");this.$navWrapper.removeClass("level-2");this.$navWrapper.removeClass("level-3");this.$navWrapper.find(".is-enabled").removeClass("is-enabled");c=!1;Cog.fireEvent("navigation","mobileClose");_.defer(function(){this.resetScroll()}.bind(this))},isStandaloneLink:function(a){a=
a.find(".navigation-item \x3e a");return 1===a.length?(document.location.href=a.attr("href"),!1):!0},openLevel2:function(a){a=this.$navWrapper.find(a.currentTarget.hash);if(!this.isStandaloneLink(a))return!1;this.$currLevel2=a;this.$navWrapper.addClass("level-2");this.$navWrapper.find(".tabs-content").removeClass("is-enabled");this.$currLevel2.addClass("is-enabled");this.refreshScroll(this.$currLevel2);this.$currLevel=this.$currLevel2},openLevel3:function(a){this.$navWrapper.addClass("level-3");this.$currLevel3=
b(a.currentTarget).parent().addClass("is-active");this.refreshScroll(this.$currLevel3)},backLevel3:function(){this.$navWrapper.find(".navigation-item.has-children").removeClass("is-active");this.$navWrapper.removeClass("level-3");this.refreshScroll(this.$currLevel2)},backLevel2:function(){this.$navWrapper.find(".navigation-item.has-children").removeClass("is-active");this.$currLevel2.removeClass("is-enabled");this.$navWrapper.removeClass("level-2");this.$navWrapper.removeClass("level-3");this.refreshScroll(this.$supplementary)},
bindEvents:function(){this.$navWrapper.find(".tabs-nav-item \x3e a").on("click",u(this.openLevel2,e));this.$navWrapper.find(".navigation-item.has-children \x3e .navigation-item-title").on("click",u(this.openLevel3,e));this.$navWrapper.find(".navigation-root .back-button").on("click",u(this.backLevel3,e));this.$navWrapper.find(".tabContent \x3e .back-button-wrapper \x3e .back-button").on("click",u(this.backLevel2,e));this.$navButton.on("click",this.openNav);this.$navButtonClose.on("click",this.closeNav);
b(window).on("resize",b.debounce(300,this.fn(function(){this.refreshScroll(this.$currLevel)})))}};a.prototype={initItems:function(){this.$items.each(this.fn(function(a,c){a=b(c);c=a.find("\x3e a");c=b(c[0].hash);this.items.push(new m(a,c))}))}};m.prototype={on:function(){"idle"!==this.state&&(this.off(),this.$holder.addClass("is-enabled"),this.isStandaloneLink||this.$content.addClass("is-enabled"))},off:function(){"open"!==this.state&&(this.$content.removeClass("is-enabled"),this.isActive||this.$holder.removeClass("is-enabled"))},
go:function(){this.isStandaloneLink&&(document.location.href=this.$childLinks.attr("href"))},checkActive:function(){this.isActive&&this.$holder.addClass("is-enabled")},setState:function(a){this.state=a},bindEvents:function(){var a=b.debounce(80,this.on),c=b.debounce(400,this.off);this.$holder.on("click",u(this.go,e));this.$holder.add(this.$content).on("mouseenter",u(a,this.fn(this.setState,"open"))).on("mouseleave",u(c,this.fn(this.setState,"idle")))}};l.prototype={focus:function(){this.$content.attr("tabindex",
0).one("blur focusout",function(){this.$content.removeAttr("tabindex")}.bind(this));this.$content.get(0).focus()},bindDOM:function(a){this.$link=a;this.$content=b("#content")},bindEvents:function(){this.$link.on("click",this.focus.bind(this))}};h.prototype={isSticky:!1,stick:function(){this.isSticky=!0;this.$header.addClass("is-sticky").css("height",this.headerHeight);this.$body.addClass("has-sticky-header")},unstick:function(){this.isSticky=!1;this.$header.removeClass("is-sticky").css("height","auto");
this.$body.removeClass("has-sticky-header")},onScroll:function(){if(c)return!1;!this.isSticky&&window.pageYOffset>this.supplementaryHeaderHeight?this.stick():this.isSticky&&window.pageYOffset<this.supplementaryHeaderHeight&&this.unstick()},onMobileOpen:function(){this.unstick()},onResize:function(){this.measureHeaderHeight()},measureHeaderHeight:function(){this.headerHeight=this.$header.height();this.supplementaryHeaderHeight=this.$supplementaryHeader.is(":visible")?this.$supplementaryHeader.height():
0},bindEvents:function(){this.$window.on("scroll",_.throttle(this.onScroll.bind(this),100));this.$window.on("resize",_.debounce(this.onResize.bind(this),300));Cog.addListener("navigation","mobileOpen",this.onMobileOpen.bind(this));Cog.addListener("navigation","mobileClose",this.onScroll.bind(this))},bindDOM:function(a){this.$header=a;this.$supplementaryHeader=this.$header.find(".header-supplementary").first();this.$window=b(window);this.$body=b("body")}};var p,u,q={onRegister:function(b){p=p||this.external.bindAll;
u=u||this.external.compose;b=b.$scope;new k(b.find(".box-language-selector .navigation-root.navigation-level1"));new d(b);new a(b.find(".header-main .tabs-main-navigation"));new l(b.find(".richText-skip-to-content a"));new h(b)}};Cog.registerComponent({name:"header",api:q,selector:"[class*\x3dreference-header]",requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.compose",apiId:"compose"}]});return q})(Cog.jQuery());
(function(b){function e(d){this.$articleList=d;this.$itemWrapper=this.$articleList.find(".listing-item");this.$listingItem=this.$itemWrapper.find("\x3e .component-content");this.$listingItem.on("click",function(){b(this).find("a").last().trigger("click")});this.$listingItem.find("a").on("click",function(a){a.stopPropagation();window.location.href=b(this).attr("href")});k.polyfill(this.$itemWrapper,".image-small \x3e .component-content")}var f={},k;f.onRegister=function(b){k=this.external.objectFit;
new e(b.$scope)};Cog.registerComponent({name:"article-list",api:f,selector:".listing-article-list",requires:[{name:"utils.objectFit",apiId:"objectFit"}]})})(Cog.jQuery());
(function(b){function e(a){this.$el=a;this.$wrapper=a.find(".listing-items");this.$listingItems=this.$wrapper.find(".listing-item");this.$wrapper.wrap("\x3cdiv class\x3d'listing-carousel'\x3e\x3c/div\x3e");this.$carousel=a.find(".listing-carousel");this.componentPosition=l.getComponentPosition(a);this.setUpItemsPerSlide();this.buildAndAppendControls();this.initIScroll();this.bindEvents();this.updateButtonsState()}function f(a){var b=0;a.each(function(a,c){b+=c.offsetWidth});return b}function k(a,
c){a.css("width","");c.each(function(a,c){b(c).css("width","").css("width",c.getBoundingClientRect().width)});a.css("width",f(c))}var d={},a=b(window),m,l,h,c={snap:!0,bounce:!1,eventPassthrough:"ontouchstart"in window,useTransition:!0,mouseWheel:!1,scrollX:!0,scrollY:!1};e.prototype={bindEvents:function(){this.iscroll.on("scrollEnd",function(){this.updateButtonsState();this.updateActiveIndicator();this.toggleItems()}.bind(this));this.iscroll.on("scrollStart",function(){this.$listingItems.removeClass("is-hidden")}.bind(this));
this.$prevBtn.on("click",function(){this.trackNavigation("PREVIOUS");this.goToNextSlide(-1)}.bind(this));this.$nextBtn.on("click",function(){this.trackNavigation("NEXT");this.goToNextSlide(1)}.bind(this));this.$controls.on("click","button",function(){this.$listingItems.removeClass("is-hidden")}.bind(this));a.on("resize",b.throttle(150,function(){this.refresh()}.bind(this)));this.$indicators.on("click",".indicator",function(a){this.iscroll.goToPage(b(a.target).data("slide"),0,600);this.updateActiveIndicator();
this.trackNavigation(this.$indicators.find(".indicator.is-active").index()+1)}.bind(this));Cog.addListener("tab","change",function(a){a.eventData&&0<this.$carousel.closest(a.eventData.container).length&&this.refresh()}.bind(this))},refresh:function(){k(this.$wrapper,this.$listingItems);this.iscroll.refresh();this.updateButtonsState();this.refreshIndicators();f(this.$listingItems)>this.$carousel[0].getBoundingClientRect().width?this.$controls.removeClass("is-hidden"):this.$controls.addClass("is-hidden");
this.toggleItems()},toggleItems:function(){var a=this.$carousel[0].getBoundingClientRect().width,c=b(window).width();c>h.sizes.mobile[1]?_.forEach(this.$listingItems,function(c){c=b(c);var d=Math.ceil(c.position().left);-1>d||d>=a?c.addClass("is-hidden"):c.removeClass("is-hidden")}):_.forEach(this.$listingItems,function(a){var d=b(a),e=Math.ceil(d.offset().left);a=a.getBoundingClientRect().width;0>e+a||e>=c?d.addClass("is-hidden"):d.removeClass("is-hidden")})},buildAndAppendControls:function(){this.$prevBtn=
b("\x3cbutton title\x3d'previous' aria-label\x3d'scroll to previous' class\x3d'previous' /\x3e");this.$nextBtn=b("\x3cbutton title\x3d'next' aria-label\x3d'scroll to next' class\x3d'next' /\x3e");this.$indicators=b("\x3cul class\x3d'indicators'/\x3e");this.$controls=b("\x3cdiv class\x3d'carousel-controls'/\x3e").append(this.$prevBtn,this.$indicators,this.$nextBtn).appendTo(this.$carousel)},goToNextSlide:function(a){this.iscroll.isInTransition||(this.iscroll.disable(),this.iscroll.goToPage(this.iscroll.currentPage.pageX+
a,0,600),setTimeout(function(){this.iscroll.enable()}.bind(this),600),this.updateActiveIndicator())},updateButtonsState:function(){b.each([{$elm:this.$prevBtn,pos:0},{$elm:this.$nextBtn,pos:this.iscroll.pages.length-1}],function(a,b){this.iscroll.currentPage.pageX===b.pos?b.$elm.addClass("disabled"):b.$elm.removeClass("disabled")}.bind(this))},setUpItemsPerSlide:function(){var a=this.$el.attr("class"),b=a.match(/listing-cols-(\d)-mobile/),c=a.match(/listing-cols-(\d)-tablet/);a=a.match(/listing-cols-(\d)(?:\s|$)/);
this.itemsPerSlide={mobile:b?b[1]:1,tablet:c?c[1]:3,desktop:a?a[1]:4}},refreshIndicators:function(){var a="",c=b(window).width(),d=this.$listingItems.length,e=Math.ceil(d/this.itemsPerSlide.mobile);c>h.sizes.notebook[1]?e=Math.ceil(d/this.itemsPerSlide.desktop):c>h.sizes.mobile[1]&&(e=Math.ceil(d/this.itemsPerSlide.tablet));this.$indicators.empty();for(c=0;c<e;c++)a+="\x3cli class\x3d'indicator-wrapper'\x3e\x3cbutton data-slide\x3d'"+c+"' class\x3d'indicator' aria-label\x3d'slide "+c+"'\x3e\x3c/button\x3e\x3c/li\x3e";
this.$indicators.html(a);this.updateActiveIndicator()},updateActiveIndicator:function(){var a=(this.iscroll.currentPage.pageX?this.iscroll.currentPage.pageX:0)+1;this.$indicators.find(".indicator.is-active").removeClass("is-active");this.$indicators.find("li:nth-child("+a+") \x3e .indicator").addClass("is-active")},trackNavigation:function(a){Cog.fireEvent("carousel",m.CLICK.CAROUSEL_CLICK,{query:a,componentPosition:this.componentPosition})},initIScroll:function(){this.iscroll=new IScroll(this.$carousel[0],
c);this.refresh();b(window).width()<=h.sizes.mobile[1]&&(this.iscroll.goToPage(1,0,0),this.toggleItems(),this.updateActiveIndicator())}};d.onRegister=function(a){m=this.external.eventsDefinition;l=this.external.utils;h=this.external.breakpoints;new e(a.$scope)};Cog.registerComponent({name:"carousel-iscroll",api:d,selector:".listing--as-carousel",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.breakpoints",apiId:"breakpoints"}]})})(Cog.jQuery());
(function(){Cog.registerComponent({name:"country-selector-dropdown",api:{onRegister:function(b){b.$scope.on("change",function(){window.location.href=this.value})}},selector:".country-selector-dropdown select[name\x3d'country']"})})(Cog.jQuery());
(function(b){var e=[],f=[],k={},d=function(a){return function(d,e){var f=[],c=new RegExp(d,"i");b.each(a,function(a,b){c.test(b)&&f.push(b)});e(f)}};k.init=function(){b(".accordion--country-selector a.navigation-item-title").each(function(){f.push(b(this));e.push(b(this).attr("title"))})};k.onRegister=function(a){a=a.$scope;var k=a.find(".search-query"),l=a.find(".form-search");k.typeahead({hint:!0,highlight:!0,minLength:3},{name:"countries",source:d(e)});k.on("typeahead:select",function(a){var c=
b(a.currentTarget).val().toLowerCase();f.forEach(function(a){a.attr("title").toLowerCase()===c&&(window.location.href=a.attr("href"))})});l.on("submit",function(){var a=k.val().toLowerCase();f.forEach(function(b){b.attr("title").toLowerCase()===a&&(b=b.attr("href"),l.attr("action",b))})})};Cog.registerComponent({name:"searchBox-autocomplete",api:k,selector:".searchBox--autocomplete"})})(Cog.jQuery());
(function(b,e){function f(a){this.$el=a;d(this);this.init()}var k={_country:{selector:"[name\x3dcountry]"},_title:{selector:".fieldset-accordion legend"},_content:{selector:".fieldset-accordion .fields"},_inquiryType:{selector:"[name\x3dinquiryType]"},_email:{selector:"[name\x3demail]",limit:70,country:["us","ca"]},_prefix:{selector:"[name\x3dprefix]",limit:10,country:["us","ca"]},_firstName:{selector:"[name\x3dgivenName]",limit:30,country:["us","ca"]},_lastName:{selector:"[name\x3dfamilyName]",limit:30,
country:["us","ca"]},_streetAddress1:{selector:"[name\x3dstreetAddress1]",limit:40,country:["us","ca"]},_streetAddress2:{selector:"[name\x3dstreetAddress2]",limit:40,country:["us","ca"]},_city:{selector:"[name\x3dlocality]",limit:30,country:["us","ca"]},_postalCode:{selector:"[name\x3dpostalCode]",limit:10,country:["us"]},_postalCode_Ca:{selector:"[name\x3dpostalCode]",country:["ca"]},_phone:{selector:"[name\x3dphone]",limit:10,country:["us","ca"]},_ext:{selector:"[name\x3dext]",limit:6,country:["us",
"ca"]},_phone2:{selector:"[name\x3dphone2]",limit:10,country:["us","ca"]},_ext2:{selector:"[name\x3dext2]",limit:6,country:["us","ca"]},_upcCode:{selector:"[name\x3dupcCode]",limit:12,country:["us","ca"]},_upcCodeDetails:{selector:"[name\x3dupcCodeDetails]"},_manufactoringCode:{selector:"[name\x3dmanufacturingCode]",limit:50,country:["us","ca"]},_manufactoringCodeDetails:{selector:"[name\x3dmanufacturingCodeDetails]"},_store:{selector:"[name\x3dstoreNamePurchasedLocation]",limit:50,country:["us",
"ca"]},_comments:{selector:"[name\x3dcomments]",limit:1E3,country:["us","ca"]}},d;f.prototype={init:function(){this.bindDOM();this.bindEvents();this.getCountry();this.setMaxLength();this.createMandatoryMark()},onClickTitle:function(a){if(13===a.which||"click"===a.type)this.$el.find(k._title.selector).toggleClass("is-active"),this.$el.find(k._content.selector).toggleClass("is-active")},getCountry:function(){return this.country=this.$country.val().toLowerCase()},isFieldInCurrentCountry:function(a){return e.includes(a,
this.country)},bindDOM:function(){this.$title=this.$el.find(k._title.selector).attr("tabindex","0");this.$upcCode=this.$el.find(k._upcCode.selector);this.$upcCodeLabel=this.findLabel(this.$upcCode);this.$upcCodeDetails=this.$el.find(k._upcCodeDetails.selector);this.$upcCodeDetailsLabel=this.findLabel(this.$upcCodeDetails);this.$manufactoringCode=this.$el.find(k._manufactoringCode.selector);this.$manufactoringCodeLabel=this.findLabel(this.$manufactoringCode);this.$manufactoringCodeDetails=this.$el.find(k._manufactoringCodeDetails.selector);
this.$manufactoringCodeDetailsLabel=this.findLabel(this.$manufactoringCodeDetails);this.$inquiryType=this.$el.find(k._inquiryType.selector);this.$country=this.$el.find(k._country.selector)},findLabel:function(a){return a.closest(".selectField, .textField, .form-element, .component").find(".control-label")},bindEvents:function(){this.$title.on("click keypress",this.onClickTitle);this.$upcCodeDetails.on("change",this.onUpcCodeDetailsChange.bind(this));this.$manufactoringCodeDetails.on("change",this.onManufactoringCodeDetailsChange.bind(this));
this.$inquiryType.on("change",this.onInquiryTypeChange.bind(this))},createMandatoryMark:function(){this.$mandatoryMark=b('\x3cspan class\x3d"required"\x3e*\x3c/span\x3e')},makeFieldMandatory:function(a,b){1>b.find("span.required").length&&this.$mandatoryMark.clone().appendTo(b);a.attr("required",!0)},makeFieldNotMandatory:function(a,b){b.find("span.required").remove();a.attr("required",!1)},onUpcCodeDetailsChange:function(){"Full"===this.$upcCodeDetails.val()?this.makeFieldMandatory(this.$upcCode,
this.$upcCodeLabel):this.makeFieldNotMandatory(this.$upcCode,this.$upcCodeLabel)},onManufactoringCodeDetailsChange:function(){var a=this.$manufactoringCodeDetails.val();"Full"===a||"Partial"===a?this.makeFieldMandatory(this.$manufactoringCode,this.$manufactoringCodeLabel):this.makeFieldNotMandatory(this.$manufactoringCode,this.$manufactoringCodeLabel)},onInquiryTypeChange:function(){"Product Concern"===this.$inquiryType.val()?(this.makeFieldMandatory(this.$upcCodeDetails,this.$upcCodeDetailsLabel),
this.makeFieldMandatory(this.$manufactoringCodeDetails,this.$manufactoringCodeDetailsLabel)):(this.makeFieldNotMandatory(this.$upcCodeDetails,this.$upcCodeDetailsLabel),this.makeFieldNotMandatory(this.$manufactoringCodeDetails,this.$manufactoringCodeDetailsLabel))},setMaxLength:function(){e.forEach(k,function(a){var d=this.isFieldInCurrentCountry(a.country);a.limit&&d&&b(a.selector).attr("maxlength",a.limit)}.bind(this))}};Cog.registerComponent({name:"formEmailUs",api:{onRegister:function(a){d=d||
this.external.bindAll;new f(a.$scope)}},selector:".email-us-form",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery(),_);
(function(b){function e(d){this.$item=d;d=b('\x3cbutton class\x3d"'+k.button.selector+'"\x3e\x3c/button\x3e').appendTo(this.$item);var a=this.$item.find(".imageGallery-view"),e='\x3cdiv class\x3d"'+k.zoom.selector+'"\x3e\x3c/div\x3e',f,h=function(a){if("keyup"!==a.type||27===a.keyCode)a=u(f),b(window).off("resize",h),b(document).off("keyup",h),f.off(),f.removeClass("is-active"),f.css("opacity",0),setTimeout(function(){f.remove()},a)},c=function(a){var c=new Image;c.src=a.src;c.setAttribute("alt",
a.alt||"");c.setAttribute("aria-visible","true");c.addEventListener("load",function(){var a=c.naturalWidth,d=c.naturalHeight,e=b(window).width(),g=b(c);c.setAttribute("height",d);c.setAttribute("width",a);f.addClass("is-active").append(g);g.css({minWidth:a+"px"}).addClass(k.img.selector);"static"===g.css("position")?f.scrollLeft(a/2-e/2):p(g)})},p=function(a){var c=a.height(),d=b(window).height(),e,h,k;f.on("mousemove",function(b){e=c-d;h=1-b.clientY/d;k=-e+h*e;a.css("top",k+"px")})},u=function(a){var b=
10;(a=a.css("transition-duration"))&&-1===a.indexOf(" ")&&(b=parseFloat(a));a&&-1===a.indexOf("ms")&&(b*=1E3);return b};d.on("click",function(){var d=a.find("img"),g=d.attr("src"),l=d.attr("alt")||document.title;g&&(f=b(e).appendTo("body").addClass(k.zoom.selector).on("click",h),b(window).on("resize",h),b(document).on("keyup",h),requestAnimationFrame(function(){f.css("opacity",1);c({src:g,alt:l})}))})}var f={},k={button:{selector:"imageGallery-with-zoom__button"},zoom:{selector:"imageGallery-with-zoom__overlay"},
img:{selector:"imageGallery-with-zoom__image"}};f.onRegister=function(b){new e(b.$scope)};Cog.registerComponent({name:"gallery-zoom",api:f,selector:".imageGallery-with-zoom"})})(Cog.jQuery());
(function(b,e){function f(a){this.$el=a;d(this);this.init()}var k={_country:{selector:"[name\x3dlocale]"},_email:{selector:"[name\x3demail]",limit:70,country:["en-us","en-ca"]},_firstName:{selector:"[name\x3dgivenName]",limit:30,country:["en-us","en-ca"]},_lastName:{selector:"[name\x3dfamilyName]",limit:30,country:["en-us","en-ca"]},_postalCode:{selector:"[name\x3dpostalCode]",limit:10,country:["en-us"]},_postalCode_Ca:{selector:"[name\x3dpostalCode]",country:["en-ca"]}},d;f.prototype={init:function(){this.bindDOM();
this.getCountry();this.setMaxLength()},getCountry:function(){return this.country=this.$country.val().toLowerCase()},isFieldInCurrentCountry:function(a){return e.includes(a,this.country)},bindDOM:function(){this.$country=this.$el.find(k._country.selector)},setMaxLength:function(){e.forEach(k,function(a){var d=this.isFieldInCurrentCountry(a.country);a.limit&&d&&b(a.selector).attr("maxlength",a.limit)}.bind(this))}};Cog.registerComponent({name:"formSignUp",api:{onRegister:function(a){d=d||this.external.bindAll;
new f(a.$scope)}},selector:".sign-up-form",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery(),_);
(function(b){function e(a){this.$variantLists=a.find(".productVariantList");this.$listingItems=a.find(".listing-item");this.componentPosition=d.getComponentPosition(this.$variantLists);0!==this.$variantLists.length&&(this.initialize(),this.bindUIEvents())}var f={},k,d;e.prototype={initialize:function(){function a(a,d){a.find("svg").each(function(a,e){e=b(e);a=e.find("linearGradient[id]");var c=a.attr("id"),f=c+"-"+ +new Date+"-"+d;e=e.children("[style*\x3d'#"+c+"']");a.attr("id",f);e.each(function(a,
c){b(c).attr("style","fill: url(#"+f+") !important")})});return a}var d=location.hash.substr(1);b.each(this.$listingItems,function(d,e){var c=b(e).find(".ratingsandreviews");b(this).attr("data-ean",b(e).find(".productVariantList \x3e .component-content").data("ean"));c.length&&a(c,d)});this.markActive(d)},bindUIEvents:function(){this.$variantLists.on("click",".productVariantList-link",function(a){a=b(a.target).attr("href").substr(1);Cog.fireEvent("productVariant",k.CLICK.PRODUCT_VARIANT_CLICK,{componentPosition:this.componentPosition,
ean:a})}.bind(this));b(window).on("hashchange",function(){var a=location.hash.substr(1);a&&this.markActive(a)}.bind(this))},markActive:function(a){function d(a,c,d){a.addClass("is-hidden").filter("[data-ean\x3d'"+d+"']").removeClass("is-hidden");b.each(c,function(){b(this).find(".productVariantList-link").removeClass("is-active").filter("[href\x3d'#"+d+"']").addClass("is-active")})}function e(a,c){a.addClass("is-hidden").first().removeClass("is-hidden");b.each(c,function(){var a=b(this).find(".productVariantList-link");
a.removeClass("is-active");a.filter(".productVariantList-parent-product").addClass("is-active")})}0<this.$listingItems.filter("[data-ean\x3d'"+a+"']").length?d(this.$listingItems,this.$variantLists,a):e(this.$listingItems,this.$variantLists)}};f.onRegister=function(a){k=this.external.eventsDefinition;d=this.external.utils;new e(a.$scope)};Cog.registerComponent({name:"listing-product-variants",api:f,selector:".listing--product-variants",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},
{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());(function(b){function e(e){this.$navigationTiles=e;this.$item=this.$navigationTiles.find(".navigation-item");this.$item.on("click",function(){var e=b(this).find("a").last();window.location.href=e.attr("href")})}Cog.registerComponent({name:"navigation-image-as-link",api:{onRegister:function(b){new e(b.$scope)}},selector:".navigation-image-as-link"})})(Cog.jQuery());
(function(b,e){function f(a){this.$el=a;this.$container=b(d.selectors.scope);this.$loginLink=this.$container.find(d.selectors.loginLink);this.$loggedInLinks=this.$container.find(d.selectors.loggedInLinks);this.$mobileProfileTitle=this.$container.find(d.selectors.mobileProfileTitle);this.$desktopProfileTitle=this.$container.find(d.selectors.desktopProfileTitle);this.$desktopProfileTitleParent=this.$desktopProfileTitle.closest("li");this.bindUIEvents();e.accounts.verifyLogin({callback:function(a){this.setState(a)}.bind(this)})}
var k={},d={selectors:{scope:".reference-header",loginLink:".gigya-login-link",loggedInLinks:".gigya-logged-in-links",logoutLink:".gigya-logout",mobileProfileTitle:".nav-mobile .gigya-logged-in-links-title",desktopProfileTitle:".header-supplementary .gigya-logged-in-links-title"},classes:{active:"is-active"}};f.prototype={logout:function(){e.accounts.logout();window.location.reload(!0)},bindUIEvents:function(){this.$container.on("click",d.selectors.logoutLink,function(a){a.preventDefault();this.logout()}.bind(this));
this.$desktopProfileTitle.on("focus",function(){this.$desktopProfileTitleParent.addClass(d.classes.active)}.bind(this));this.$desktopProfileTitleParent.on("blur","a",function(){setTimeout(function(){this.hasFocus()||this.$desktopProfileTitleParent.removeClass(d.classes.active)}.bind(this),10)}.bind(this));this.$desktopProfileTitleParent.on("mouseenter",function(){this.$desktopProfileTitleParent.addClass(d.classes.active)}.bind(this));this.$desktopProfileTitleParent.on("mouseleave",function(){this.$desktopProfileTitleParent.removeClass(d.classes.active)}.bind(this))},
setState:function(a){a&&"FAIL"!==a.status?this.showLoggedInMenu():this.showLoggedOutMenu()},hasFocus:function(){var a=!1;this.$desktopProfileTitleParent.find("a").each(function(d,e){if(!a&&b(e).is(":focus"))return a=!0,!1});return a},showLoggedInMenu:function(){this.$loggedInLinks.attr("aria-hidden","false");this.$loginLink.remove();this.$mobileProfileTitle.remove()},showLoggedOutMenu:function(){this.$loginLink.attr("aria-hidden","false");this.$loggedInLinks.remove()}};k.onRegister=function(a){window.gigya?
new f(a.$scope):Cog.addListener("gigya","GIGYA-LAZYLOADED",function(){new f(a.$scope)}.bind(this))};Cog.registerComponent({name:"navigation-gigya",api:k,selector:".navigation-gigya",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery(),window.gigya);
(function(b){function e(e){e.preventDefault();Cog.Cookie.create("newsletter-prompt-displayed","seen");b(".button-close").closest(".newsletter-container").fadeOut();b(".overlay-container").removeClass("newsletter-container");b(".overlay-background").fadeOut().removeClass("newsletter-overlay")}Cog.register({name:"newsletter-sign-up-trigger",api:{init:function(){var f=this.external.status.isAuthor(),k=b(".richText--newsletter-trigger");if(f)k.show();else{f=!1;var d=Cog.Cookie.read("newsletter-prompt-displayed");
"seen"===d?f=!1:(d?isNaN(parseInt(d,10))||(d=parseInt(d,10),sessionStorage.getItem("newsletter.currentPage")!==location.pathname&&(d+=1),Cog.Cookie.create("newsletter-prompt-displayed",d.toString())):(d=0,Cog.Cookie.create("newsletter-prompt-displayed",d.toString())),1<=d?(sessionStorage.removeItem("newsletter.currentPage"),f=!0):sessionStorage.setItem("newsletter.currentPage",location.pathname));f&&(Cog.Cookie.create("newsletter-prompt-displayed","seen"),k.find("a.lightbox").trigger("click"),b(".overlay-background").addClass("newsletter-overlay"),
b(".overlay-container").first().attr("class","newsletter-container"),b("body").on("click",".button-close",e))}}},selector:".richText--newsletter-trigger",requires:[{name:"utils.status",apiId:"status"}]})})(Cog.jQuery());
(function(b){function e(e){return function(f,d){function a(){p.removeClass("active")}var k=/\.rendition\.\d+x\d+/,l,h=f.find(".zoom-in-icon"),c=f.find("img").eq(0);f=b('\x3cbutton title\x3d"close" class\x3d"zoom-out-icon" /\x3e');var p=b('\x3cdiv class\x3d"zoom-holder" /\x3e');var u=b('\x3cdiv class\x3d"zoom-photo" /\x3e');var q=b("\x3cimg\x3e");p.append(u);p.append(f);d.append(p);h.on("click",function(){e(c.attr("src").replace(k,""),q).then(function(){u.append(q);p.addClass("active");u.css({"min-width":q[0].width,
"min-height":q[0].height});l=l||new IScroll(p[0],{mouseWheel:!0,scrollX:!0,freeScroll:!0});l.scrollTo(Math.min(-.5*(q[0].width-p.outerWidth()),0),0,0)})});f.on("click",a);return{open:function(){p.addClass("active")},close:a}}}Cog.registerComponent({name:"photo-zoom",api:{onRegister:function(f){var k=e(this.external.loadImg),d=f.$scope;0<d.find(".listing--product-variants").length&&d.find(".listing-item").each(function(a,e){k(b(e),d)})}},selector:".full-photo-holder-bleed, .full-photo-holder",requires:[{name:"utils.loadImg",
apiId:"loadImg"}]})})(Cog.jQuery());(function(b){Cog.register({name:"prefill-form",api:{init:function(){var e=this.external.querystring.getFromQueryString("email");if(localStorage.getItem("newsletter.signup.email")||e)b(".form--redirect").find(":input#email").val(e?e:localStorage.getItem("newsletter.signup.email")),localStorage.removeItem("newsletter.signup.email")}},selector:".form--redirect",requires:[{name:"utils.querystring",apiId:"querystring"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.allowFocus();this.bindEvents()}var e={};b.prototype={allowFocus:function(){var b=this.$el.find("p"),e=b.text();b.replaceWith("\x3cbutton\x3e"+e+"\x3c/button\x3e");this.$button=this.$el.find("button")},bindEvents:function(){this.$button.on("click",function(){window.print()}.bind(this))}};e.onRegister=function(e){new b(e.$scope)};Cog.registerComponent({name:"printButton",api:e,selector:".richText--print"})})();
(function(b){function e(b){this.$el=b;this.$buttons=b.find(".button-primary, .button-secondary, .button-tertiary, .inline-button");this.totalElements=b.find(".recipeList--as-carousel").data("total-elements");this.appendTotal()}var f={};e.prototype.appendTotal=function(){this.totalElements&&b.each(this.$buttons,function(e,d){e=b(d).text()+" ("+this.totalElements+")";b(d).text(e)}.bind(this))};f.onRegister=function(b){new e(b.$scope)};Cog.registerComponent({name:"subcategorySection",api:f,selector:".composite-subcategory-section"})})(Cog.jQuery());
(function(b){function e(a){this.isRecipesCarousel=a.hasClass("recipeList--as-carousel");this.componentPosition=h.getComponentPosition(a.parent());this.isRecipesCarousel?this.initRecipeListingCarousel(a):(this.$carousel=a.find("\x3e .component-content"),this.$wrapper=this.$carousel.find("\x3e .content"),this.$listingItems=this.$wrapper.find(".reference-recipe-category-carousel-item"))}function f(a){var b=0;a.each(function(a,c){b+=c.offsetWidth});return b}function k(a,c){a.css("width","");c.each(function(a,
c){b(c).css("width","").css("width",c.getBoundingClientRect().width)});a.css("width",f(c))}var d={},a=b(window),m,l,h,c={snap:!0,bounce:!1,eventPassthrough:"ontouchstart"in window,useTransition:!0,mouseWheel:!1,scrollX:!0,scrollY:!1};e.prototype={initCarousel:function(){this.buildAndAppendControls();this.initIScroll();this.bindEvents();this.updateButtonsState()},initRecipeListingCarousel:function(a){this.$carousel=a.find(".recipeListing-wrapper");this.$wrapper=this.$carousel.find(".recipeListing-list");
this.$listingItems=this.$wrapper.find(".recipeListing-item");a.hasClass("favourite-recipes")?(Cog.addListener("recipeListing","favourites-fetched",function(){this.$listingItems=this.$wrapper.find(".recipeListing-item");this.initCarousel()}.bind(this)),Cog.addListener("recipeListing","favourite-removed",function(){this.$listingItems=this.$wrapper.find(".recipeListing-item");this.refresh()}.bind(this))):this.initCarousel()},bindEvents:function(){this.iscroll.on("scrollEnd",function(){this.updateButtonsState()}.bind(this));
this.$prevBtn.on("click",function(){this.goToNextSlide(-1);this.trackNavigation("PREVIOUS")}.bind(this));this.$nextBtn.on("click",function(){this.goToNextSlide(1);this.trackNavigation("NEXT")}.bind(this));a.on("resize",b.throttle(150,function(){this.refresh()}.bind(this)))},trackNavigation:function(a){Cog.fireEvent("recipeListing",l.CLICK.CAROUSEL_CLICK,{navDirect:a,componentPosition:this.componentPosition})},refresh:function(){k(this.$wrapper,this.$listingItems);this.iscroll.refresh();this.updateButtonsState();
f(this.$listingItems)>this.$carousel[0].getBoundingClientRect().width?this.$controls.removeClass("is-hidden"):this.$controls.addClass("is-hidden")},buildAndAppendControls:function(){this.$prevBtn=b("\x3cbutton title\x3d'previous' aria-label\x3d'scroll to previous' class\x3d'previous' /\x3e");this.$nextBtn=b("\x3cbutton title\x3d'next' aria-label\x3d'scroll to next' class\x3d'next' /\x3e");this.$controls=b("\x3cdiv class\x3d'carousel-controls'/\x3e").append(this.$prevBtn,this.$nextBtn).insertAfter(this.$carousel)},
goToNextSlide:function(a){this.iscroll.isInTransition||(this.iscroll.disable(),this.iscroll.goToPage(this.iscroll.currentPage.pageX+a,0,600),setTimeout(function(){this.iscroll.enable()}.bind(this),600))},updateButtonsState:function(){b.each([{$elm:this.$prevBtn,pos:0},{$elm:this.$nextBtn,pos:this.iscroll.pages.length-1}],function(a,b){this.iscroll.currentPage.pageX===b.pos?b.$elm.addClass("disabled"):b.$elm.removeClass("disabled")}.bind(this))},initIScroll:function(){this.iscroll=new IScroll(this.$carousel[0],
c);this.refresh();b(window).width()<=m.sizes.mobile[1]&&this.iscroll.pages&&0<this.iscroll.pages.length&&this.iscroll.goToPage(1,0,0)}};d.onRegister=function(a){l=this.external.eventsDefinition;h=this.external.utils;m=this.external.breakpoints;new e(a.$scope)};Cog.registerComponent({name:"carousel-iscroll-recipes",api:d,selector:".recipeList--as-carousel, .recipe-category-carousel",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"},{name:"utils.breakpoints",
apiId:"breakpoints"}]})})(Cog.jQuery());
(function(b){function e(d){this.$el=d;this.$qsDataEls=this.$el.find(".data-querystring");this.qsData=k.getQueryParams();this.$qsDataEls.length&&!b.isEmptyObject(this.qsData)&&this.processQSElements()}var f={},k;e.prototype.processQSElements=function(){var d=this;this.$qsDataEls.each(function(a,e){a=b(e).text();d.qsData[a]&&(b(e).find(":contains('"+a+"')").length?b(e).addClass("processed").find(":contains('"+a+"')").text(d.qsData[a]):b(e).text(d.qsData[a]).addClass("processed"))})};f.onRegister=function(b){k=
this.external.url;new e(b.$scope)};Cog.registerComponent({name:"richTextWithQSData",api:f,selector:".richText-with-querystring-data",requires:[{name:"utils.url",apiId:"url"}]})})(Cog.jQuery());
(function(b,e){function f(b){this.$el=b;0<this.countFilters()&&0<this.countSearchResults()&&this.$el.addClass("is-not-empty")}var k={};f.prototype={countFilters:function(){return this.$el.find(".checkbox").length},countSearchResults:function(){var d=b(".datalayer-search-results-count"),a=0;0<d.length&&e.forEach(d,function(d){d=b(d);d=window.parseInt(d.html(),10);a+=d});return a}};k.onRegister=function(b){new f(b.$scope)};Cog.registerComponent({name:"searchFiltersBox",api:k,selector:".search-filters"})})(Cog.jQuery(),
_);
(function(b){function e(d){d=b(d);d.hasClass("html--shoppable-checkout")&&Cart&&(a=d.find("iframe"),k(),f())}function f(){m+=1;try{var b=Cart.get_checkout_url();"string"===typeof b&&a.attr("src",b)}catch(h){h&&20>m&&setTimeout(function(){f()},250)}}function k(){window.addEventListener("message",function(a){var b=a.data;"string"===typeof b&&0===b.indexOf("LUX_DATA")&&(a=JSON.parse(a.data.replace("LUX_DATA:","")),a.luxtype&&"redirect"===a.luxtype&&window.location.replace(a.url))})}var d={},a,m=0;d.init=
function(a){"ShoppableApi"in window?new e(a):Cog.addListener("shoppable","SHOPPABLE_LAZY_LOAD",function(){new e(a)}.bind(this))};Cog.register({name:"shoppableCheckout",api:d,selector:".html--shoppable-checkout"})})(Cog.jQuery());
(function(b){function e(a){k(a,function(b){d(b,function(c){q&&l(b,c,a)});b=b||{};h(a,b)},function(){h(a,{});console.log("Reading products for order number: "+a+" failed")})}function f(a){a.setRequestHeader("Authorization","Bearer "+A)}function k(c,d,e){b.ajax({url:a()+"/v3/order/"+c,beforeSend:f,success:d,error:e})}function d(c,d){var e=c.map(function(a){return a.part_number}).join(",");b.ajax({url:a()+"/v3/product?part_numbers\x3d"+e,beforeSend:f,success:function(a){a=m(c,a);d(a)},error:function(){console.log("Reading products for partNumbers: "+
e+" failed")}})}function a(){return ShoppableApi?ShoppableApi.framesApiCall||"//api.shoppable.com":"//api.shoppable.com"}function m(a,b){var c={};b=1===a.length?[b]:b[0];b.forEach(function(a){a.colors.forEach(function(a){a.sizes.forEach(function(a){c[a.id]=a})})});return c}function l(a,b,c){olapicRequireCheckoutScript("//photorankstatics-a.akamaihd.net/static/frontend/checkout/olapic.checkout.helper.js",function(){olapicCheckout.init(g);a.forEach(function(a){for(var c=0;c<a.quantity;c++)olapicCheckout.addProduct(b[a.sku].upc,
a.price)});olapicCheckout.addAttribute("transactionId",c);olapicCheckout.addAttribute("currencyCode",a[0]&&a[0].currency||"USD");olapicCheckout.execute()})}function h(a,b){Cog.fireEvent("shoppable",F.SHOPPABLE_PURCHASE,{orderNumber:a,products:b})}var c={},p=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}("oid"),u=b("[name\x3d'olapic-checkout-analytics-data']"),
q="Olapic"===u.attr("data-social-aggregation-provider"),g=u.attr("data-olapic-api-key"),A=u.attr("data-shoppable-auth-token"),F;c.onRegister=function(a){a=a.$scope;var b=a.text();F=this.external.eventsDefinition.OTHER;a.text(b+p);e(p)};Cog.registerComponent({name:"shoppableOrderNumber",api:c,selector:".text-shoppable-order-number",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"}]})})(Cog.jQuery());
(function(b){function e(b){this.$el=b;this.$wrapper=this.$el.find("\x3e .component-content");this.$tab=this.$el.find(".tabs-nav");this.$tabItems=this.$el.find(".tabs-nav-item");this.$contents=this.$el.find(".tabs-content");this.bindEnquire()}e.prototype={bindEnquire:function(){var e=this.onClose.bind(this);enquire.register("only screen and (max-width: "+f.maxNotebook+"px)",{match:function(){b.each(this.$tabItems,function(d,a){d=b(a);this.findCorrespondingContent(d).detach().insertAfter(d)}.bind(this));
this.$tab.on("click",".is-active",e)}.bind(this),unmatch:function(){this.$contents.detach().appendTo(this.$wrapper);this.$tab.unbind("click",e);this.showHiddenTabs()}.bind(this)})},onClose:function(e){var d=b(e.currentTarget),a=this.findCorrespondingContent(d);e.preventDefault();d.removeClass("is-active");a.addClass("is-hidden")},showHiddenTabs:function(){if(!this.$tabItems.hasClass("is-active")){var b=this.$tabItems.first(),d=this.findCorrespondingContent(b);b.addClass("is-active");d.removeClass("is-hidden")}},
findCorrespondingContent:function(e){var d=e.find("\x3e a").attr("href").substring(1);e=b.grep(this.$contents.toArray(),function(a){return a.id===d});return b(e)}};var f;Cog.registerComponent({name:"tabsTabsProductDetails",api:{onRegister:function(b){f=f||this.external.breakpoints;new e(b.$scope)}},selector:".tabs-product-details",requires:[{name:"utils.breakpoints",apiId:"breakpoints"}]})})(Cog.jQuery());
(function(b){function e(b){this.$textArea=b.find("textarea");this.$componentContent=b.children(".component-content");this.setUpErrorMessage();this.bindUIEvents()}var f={};e.prototype={setUpErrorMessage:function(){var e=this.$componentContent.data("required-error-message");this.$errorMessage=this.$componentContent.children("error-msg");this.$errorMessage.length||(this.$errorMessage=b('\x3cspan class\x3d"error-msg"\x3e').text(e).appendTo(this.$componentContent))},bindUIEvents:function(){this.$textArea.bind("blur",
function(){2>this.$textArea.val().trim().length?(this.$componentContent.addClass("error"),this.$errorMessage.addClass("active")):(this.$componentContent.removeClass("error"),this.$errorMessage.removeClass("active"))}.bind(this))}};f.onRegister=function(b){new e(b.$scope)};Cog.registerComponent({name:"textAreaExtendedValidation",api:f,selector:".textArea--extended-validation"})})(Cog.jQuery());
(function(b){function e(b,a){b=(b.attr("data-tab-id")||b.attr("href")).substring(1);return a.filter("[id\x3d'"+b+"']")}function f(b){this.$tabs=b;this.$navItems=b.find(".tabs-nav-item");this.$navItemLinks=this.$navItems.children("a");this.$tabsContents=b.find(".tabs-content");b.find(".navigation-item-decoration").removeAttr("tabindex");this.bindUIEvents()}var k={};f.prototype.bindUIEvents=function(){this.$navItemLinks.on("focusin",function(d){d=b(d.target);var a=e(d,this.$tabsContents);this.$navItems.removeClass("is-enabled");
this.$tabsContents.removeClass("is-enabled");d.parent().addClass("is-enabled");1<a.find(".navigation-item").length&&a.addClass("is-enabled")}.bind(this));this.$navItemLinks.last().on("focusout",function(){this.$navItems.removeClass("is-enabled");this.$tabsContents.removeClass("is-enabled")}.bind(this));this.$tabs.on("keydown",function(b){this.keyDownHandler(b)}.bind(this))};f.prototype.keyDownHandler=function(b){switch(b.which){case 32:case 9:this.focusIntoSubMenu(b);break;case 27:this.exitMenu()}};
f.prototype.focusIntoSubMenu=function(d){var a=b(document.activeElement),f=a.parent();a=e(a,this.$tabsContents);var k=!!d.shiftKey;f.hasClass("tabs-nav-item")&&1<a.find(".navigation-item").length&&!k?(d.preventDefault(),a.find(".navigation-item \x3e a").first().focus()):this.focusOntoNextMenuItem(d)};f.prototype.exitMenu=function(){b(document.activeElement).parents(".tabs-content").length&&(this.$navItems.removeClass("is-enabled"),this.$tabsContents.removeClass("is-enabled"))};f.prototype.focusOntoNextMenuItem=
function(d){var a=b(d.target).parents(".tabs-content");if(a.length){var e=a.find("a").filter(function(){return"hidden"!==b(this).css("visibility")}),f=e.get(0)===d.target;e=e.get(-1)===d.target;if(f&&d.shiftKey||e)a=a.attr("id"),a=this.$tabs.find("a[href\x3d'#"+a+"'], a[data-tab-id\x3d'#"+a+"']").parent(),a=d.shiftKey?a.children():a.next().children(),d.preventDefault(),a.focus()}};k.onRegister=function(b){new f(b.$scope)};Cog.registerComponent({name:"TabsMainNavigation",api:k,selector:".tabs-main-navigation"});
return k})(Cog.jQuery());
(function(){function b(b){this.$el=b;this.$button=this.$el.find(".clic2buy-buy-it-now-btn");this.$productEan=this.$button.closest("div[data-widget-ean]").attr("data-widget-ean");this.componentPosition=f.getComponentPosition(b);this.addHandlers()}var e,f;b.prototype={addHandlers:function(){this.$button.on("click",function(){this.trackClick()}.bind(this))},trackClick:function(){var b=digitalData.product.filter(function(a){return a.productInfo.productID===this.$productEan}.bind(this)),d="";0<b.length&&
(d="Online - "+b[0].productInfo.productName);Cog.fireEvent("clic2buy",e.CLICK.CLIC2BUY_BUTTON_CLICK,{componentPosition:this.componentPosition,componentName:e.ctConstants.clic2buy,eventLabel:d})}};window.runOnWindowLoad(function(){var b=document.getElementById("clic2Buy-js-lazyLoad");b&&(b.src=b.getAttribute("data-src"),b.removeAttribute("data-src"),b.id="clic2Buy-js-lazyLoaded",b.addEventListener("load",function(){Cog.fireEvent("clic2BuyLazyLoad","C2B_LAZY_LOAD")},!0))});Cog.registerComponent({name:"clic2Buy",
api:{onRegister:function(k){e=this.external.eventsDefinition;f=this.external.utils;new b(k.$scope)},init:function(){"c2bWidget"in window&&c2bWidget.init();Cog.addListener("clic2BuyLazyLoad","C2B_LAZY_LOAD",function(){c2bWidget.init()});Cog.addListener("showMore","REVEAL_NEXT",function(){c2bWidget.init()})}},selector:".clic2buy",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b,e){function f(){return"undefined"!==typeof gigya}function k(){gigya.accounts.getAccountInfo({callback:function(a){if(0===a.errorCode){a=a.data.campaign;for(var b=0;b<a.length;b++){var c=a[b];if(l&&c.id===l){a=c.questionAnswers;for(b=0;b<a.length;b++)if(c=a[b],c.questionID===l){h=c.answer;a=sessionStorage.getItem("beforeLoginFavItem")||"{}";(a=JSON.parse(a))&&a.id&&(e.find(h,{ID:a.id})||(h.push({Text:"Item group: "+a.groupId,ID:a.id}),gigya.accounts.setAccountInfo({data:{campaign:[{id:a.questionId,
questionAnswers:[{questionText:"Favourites "+a.questionId,answer:h,questionID:a.questionId}]}]}})),sessionStorage.removeItem("beforeLoginFavItem"));Cog.fireEvent("favourite","FAVOURITES_UPDATED");break}break}}}}})}function d(a){this.$el=a;this.$data=this.$el.find("meta");this.ops=this.$data.data("options")||{};this.loginPageUrl=this.$data.data("login-page-url");this.$listParent=this.$el.closest(".listing-item, .recipeListing-item, .searchResults-item");this.$detailsParent=this.$el.closest(".box-meta-details");
this.ops.ctaType=this.$listParent.length&&0===this.$detailsParent.length?"icon":"button";this.addButton();this.bindUIEvents();Cog.addListener("favourite","ADD_ICON_FOR_DYNAMIC_LOADED_ITEMS",function(a){this.addFavIconToDynamicLoadedItems(a)}.bind(this))}var a={},m=[],l,h=[];if(!f()){var c=window.localStorage.getItem("FAVOURITES")||"[]";try{h=JSON.parse(c)}catch(p){h=[]}}d.prototype.addButton=function(){"icon"===this.ops.ctaType&&this.$listParent.length&&this.$listParent.find(".image .analytics-image-tracking").length?
this.$button=b("\x3cbutton /\x3e").insertBefore(this.$listParent.find(".image .analytics-image-tracking")):this.$button=b("\x3cbutton /\x3e").insertBefore(this.$data);this.$button.addClass(this.ops.ctaType).addClass("favourite-icon").attr("data-label-add",this.ops.labelAdd).attr("data-label-remove",this.ops.labelRemove);this.setButtonState();Cog.addListener("favourite","FAVOURITES_UPDATED",function(){this.setButtonState()}.bind(this))};d.prototype.bindUIEvents=function(){this.$button.on("click",function(a){if(f()){var b=
this.loginPageUrl,c={groupId:this.ops.itemGroup,id:this.ops.itemId,questionId:l};gigya.accounts.verifyLogin({callback:function(a){"FAIL"===a.status&&b&&(sessionStorage.setItem("beforeLoginFavItem",JSON.stringify(c)),window.location.replace(b))}})}a.stopPropagation();a.preventDefault();Cog.fireEvent("favourite","TOGGLE_FAVOURITE",{ID:this.ops.itemId,itemPath:this.ops.itemPath,action:this.isFavourite()?"Remove":"Add"});this.toggleState()}.bind(this))};d.prototype.toggleState=function(){this.isFavourite()?
e.remove(h,{ID:this.ops.itemId}):this.addFavourite();this.save()};d.prototype.setButtonState=function(){this.$button.attr("data-favourite",this.isFavourite()).attr("title",this.isFavourite()?this.ops.labelRemove:this.ops.labelAdd)};d.prototype.isFavourite=function(){return!!e.find(h,{ID:this.ops.itemId})};d.prototype.addFavourite=function(){this.ops.itemId?f()?h.push({Text:"Item group: "+this.ops.itemGroup,ID:this.ops.itemId}):h.push({ID:this.ops.itemId,itemGroup:this.ops.itemGroup,timeStamp:Date.now()}):
console.error("Configuration error, item ID missing")};d.prototype.save=function(){if(f())gigya.accounts.setAccountInfo({data:{campaign:[{id:l,questionAnswers:[{questionText:"Favourites "+l,answer:h,questionID:l}]}]}});else{try{var a=JSON.stringify(h)}catch(u){a="[]"}window.localStorage.setItem("FAVOURITES",a)}Cog.fireEvent("favourite","FAVOURITES_UPDATED")};d.prototype.addFavIconToDynamicLoadedItems=function(a){Cog.init({$element:a.eventData.$element})};a.onRegister=function(a){f()&&(l=(l=a.$scope.find("meta").data("question-id"))?
l.toString():l)&&!m.includes(l)&&(k(),m.push(l));new d(a.$scope)};(function(){if(f())return!0;try{window.localStorage.setItem("FAVOURITES_TEST","[]");var a=window.localStorage.getItem("FAVOURITES_TEST");window.localStorage.removeItem("FAVOURITES_TEST");return"[]"===a&&!window.CQ}catch(u){return!1}})()&&Cog.registerComponent({name:"favourite",api:a,selector:".favourite",requires:[]})})(Cog.jQuery(),window._);
(function(){Cog.registerComponent({name:"form-validation",api:{onRegister:function(b){this.external.validator(b.$scope.find("form"),[".form-element .component-content",".reference-recaptcha .component-content",".reference-datepicker .component-content"])}},selector:".form",requires:[{name:"utils.validator",apiId:"validator"}]})})();
(function(b){function e(b){this.$el=b;this.$items=this.$el.find(".listing-item");this.componentPosition=a.getComponentPosition(b);this.listingType=this.$el.data("itemtype")||"";this.$linkContainers=this.$el.find(".component").find("a");this.$controls=this.$el.find(".carousel-controls");this.carouselImpressionInProgress=!1;this.isRelatedArticles=this.$el.is(".analytics-related-articles-listing");h.isPublish()&&this.$el.is(".favourite-listing")&&(u=!0,Cog.addListener("favourite","FAVOURITES_FETCHED",
function(){"undefined"!==typeof gigya?this.processGigyaFavourites():this.processLSFavourites()}.bind(this)),Cog.addListener("favourite","TOGGLE_FAVOURITE",function(a){this.removeFavourite(a.eventData.ID)}.bind(this)));this.$el.is(".listing--product-variants, .listing--snippet")||this.trackLinks(this.listingType);this.trackImpression();this.$el.is(".listing-product-default-view")&&this.setTileClicks()}function f(a){0!==a.length&&-1!==a[0].dataset.itemPrimarykey.indexOf("article")&&(a.each(function(){var a=
b(this).find(".content").first();a.attr("tabindex",0);a.on("keyup",function(b){13===b.keyCode&&a.trigger("click")})}),a.on("click","a",function(a){Cog.fireEvent("listingAnalytics",m.CLICK.ARTICLE_LINK,{query:a.currentTarget.href})}))}function k(){gigya.accounts.getAccountInfo({callback:function(a){if(0===a.errorCode){a=a.data.campaign;for(var b=0;b<a.length;b++){var d=a[b];if(c&&d.id===c){a=d.questionAnswers;for(b=0;b<a.length;b++)if(d=a[b],d.questionID===c){p=d.answer;Cog.fireEvent("favourite","FAVOURITES_FETCHED");
break}break}}}}})}var d={},a,m,l,h,c,p=[],u=!1;e.prototype={trackImpression:function(){this.$el.find(".show-more").length?this.trackImpressionOnLoad(this.$items.filter(":visible")):this.$el.hasClass("listing--as-carousel")?(this.trackImpressionOnLoad(this.$items.filter(this.isProductVisible)),this.trackCarouselImpression()):this.$el.hasClass("listing-store-locator-product-list")?this.trackImpressionOnLoad(this.$items.filter(":visible")):this.$el.hasClass("listing--product-variants")||this.trackImpressionOnLoad(this.$items)},
trackImpressionOnLoad:function(b){a.isAnalyticsConfigured()&&Cog.fireEvent("listing","READY",{$listingProducts:b})},trackCarouselImpression:function(){this.$controls.on("click",function(){this.carouselImpressionInProgress&&clearTimeout(this.carouselImpressionInProgress);this.carouselImpressionInProgress=setTimeout(function(){this.listingType===m.ctConstants.product&&Cog.fireEvent("listing",m.ctConstants.productImpression,{products:this.$items.filter(this.isProductVisible),componentPosition:this.componentPosition,
componentName:m.ctConstants.listing});this.carouselImpressionInProgress=!1}.bind(this),1E3)}.bind(this))},trackLinks:function(b){switch(b){case "product":a.trackLinks(this.$linkContainers,{componentName:l.listing,componentPosition:this.componentPosition,type:l.product});break;case "article":a.trackLinks(this.$linkContainers,{componentName:l.listing,componentPosition:this.componentPosition,type:this.isRelatedArticles?l.relatedArticle:l.article,category:this.isRelatedArticles?l.custom:void 0});break;
case "cta":a.trackLinks(this.$linkContainers,{componentName:l.listing,componentPosition:this.componentPosition,type:l.cta})}},isProductVisible:function(){return!b(this).hasClass("is-hidden")},setTileClicks:function(){this.$el.on("click",".listing-item .box.last",function(a){var c=b(a.target),d=b(a.currentTarget);if(0===c.closest("a, button",d).length){c=d.find(".richText-content a[href]:first");var e=c.attr("href");c.length&&e&&(a.preventDefault(),d.css({cursor:"wait"}),location.href=e)}})},processGigyaFavourites:function(){this.favourites=
p.map(function(a){return{id:a.ID}});this.processFavourites()},processLSFavourites:function(){this.favourites=p.filter(function(a){switch(this.listingType){case "product":return 1===a.itemGroup;case "article":return 0===a.itemGroup;default:return!1}}.bind(this)).map(function(a){return{id:a.ID}});this.processFavourites()},processFavourites:function(){this.$items.each(function(a,c){a=b(c);(c=this.getItemId(a))?(c=this.getFavouriteById(c))?(c.$item=a,a.show()):a.remove():a.remove()}.bind(this));this.favourites=
this.favourites.filter(function(a){return void 0!==a.$item});0===this.favourites.length&&this.showFavouriteEmptyMessage()},removeFavourite:function(a){var b=_.findIndex(this.favourites,function(b){return b.id===a}.bind(this));0<=b&&(this.favourites[b].$item.remove(),this.favourites.splice(b,1),0===this.favourites.length&&this.showFavouriteEmptyMessage())},getFavouriteById:function(a){return _.find(this.favourites,function(b){return b.id===a})},getItemId:function(a){a=(a=a.find(".favourite meta"))?
a.data("options"):{};if(void 0!==a&&void 0!==a.itemId)return a.itemId;console.error("Configuration error, item ID missing.");return null},showFavouriteEmptyMessage:function(){this.$el.closest(".plp-wrapper, .listing-article-list").removeClass("plp-wrapper").removeClass("listing-article-list");this.$el.find(".listing-items").remove();this.$el.find(".favourite-list-empty").show()}};d.onRegister=function(b){var d=b.$scope.find(".listing-item");c=(c=d.first().find(".favourite").find("meta").data("question-id"))?
c.toString():c;m=this.external.eventsDefinition;l=this.external.eventsDefinition.ctConstants;a=this.external.utils;h=this.external.status;f(d);new e(b.$scope)};d.init=function(){if(u){if("undefined"!==typeof gigya)k();else{var a=window.localStorage.getItem("FAVOURITES")||"[]";p=JSON.parse(a);Cog.fireEvent("favourite","FAVOURITES_FETCHED")}u=!1}};Cog.registerComponent({name:"listing",api:d,selector:".listing",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"utils.status",
apiId:"status"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());(function(b){window.runOnWindowLoad(function(){var e=b("#olapic_specific_widget").siblings("script"),f=e.attr("data-src");f&&(e.attr("src",f),e.removeAttr("data-src"))});Cog.register({name:"olapic",api:{},selector:".olapic"})})(Cog.jQuery());
(function(b){function e(b){this.$el=b;f(this);this.init()}e.prototype={init:function(){var b=this.$el.find("li.navigation-level1");_.forEach(b,this.bindEvents.bind(this))},bindEvents:function(e){var d=b(e);d.find("\x3e a").on("keydown",function(a){13===a.keyCode&&(d.hasClass("is-active")||a.preventDefault(),a.target=d,this.onClickTitle(a))}.bind(this));d.on("click",this.onClickTitle.bind(this))},onClickTitle:function(e){e=b(e.target);var d=e.hasClass("is-active");this.$el.find("li.navigation-level1.is-active").removeClass("is-active");
d||e.addClass("is-active")}};var f;Cog.registerComponent({name:"product.accordion",api:{onRegister:function(b){f=f||this.external.bindAll;new e(b.$scope)}},selector:".navigation.side-bar",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b){function e(b){this.$variantLinks=b.find(".productVariantList-link");this.addOnClickListener();this.markCurrentVariantAsActive()}var f={},k;e.prototype={addOnClickListener:function(){this.$variantLinks.on("click",function(d){this.ean=b(d.target).attr("href").substr(1);Cog.fireEvent("variantList","variantChanged",{ean:this.ean});Cog.fireEvent("productVariant",k.CLICK.PRODUCT_VARIANT_CLICK,{ean:this.ean})}.bind(this))},markCurrentVariantAsActive:function(){var d=b(".quickview-content").data(),
a=this.$variantLinks.filter("[href\x3d'#"+d.mainEan+"']");d=this.$variantLinks.filter("[href\x3d'#"+d.currentEan+"']");this.$variantLinks.removeClass("is-active");d.length?d.addClass("is-active"):a.addClass("is-active")}};f.onRegister=function(b){k=this.external.eventsDefinition;new e(b.$scope)};Cog.registerComponent({name:"productVariantList",api:f,selector:".quickview-container .productVariantList",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"}]})})(Cog.jQuery());
(function(b){function e(a){this.$el=a;m(this);this.init()}e.prototype={init:function(){this.$el.find(".cta-cancel").click(this.removeClasses);b(".cta-filter-mobile").click(this.addClassFilter);b(".cta-select-category").click(this.addClassCategory);b(".button-clear-filters").click(this.clearFilters);b(d+"-input,"+a+"-input").change(this.checkFilterActive);b(d+"-title, "+a+"-title").click(this.openItem);this.checkFilterActive()},addClassFilter:function(){this.$el.addClass("show-filter")},addClassCategory:function(){this.$el.addClass("show-category")},
removeClasses:function(){this.$el.removeClass("show-category show-filter")},checkFilterActive:function(){b(d+"-input:checked,"+a+"-input:checked").length?this.$el.addClass(k):this.$el.removeClass(k)},clearFilters:function(){b(d+"-input,"+a+"-input").prop("checked",!1);this.$el.removeClass(k);Cog.fireEvent("checkboxFilters","clearFilters")},openItem:function(a){a=b(a.target).parents(d);var e=a.hasClass(f);b(d).removeClass(f);e||a.addClass(f)}};var f="is-active",k="has-filters",d=".listingCheckBoxesFilter",
a=".listingRadioFilter",m;Cog.registerComponent({name:"product.toggleCategoryAndFilter",api:{onRegister:function(a){m=m||this.external.bindAll;new e(a.$scope)}},selector:".product-filters-and-category-navigation",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b){function e(b){this.$scope=b;this.answers={}}e.prototype={addAnswer:function(b,e){var d=this.getCurrentQuestionId();"multiple"===e?("undefined"===typeof this.answers[d]?(this.answers[d]=[],this.answers[d].push(b)):-1===this.answers[d].indexOf(b)&&this.answers[d].push(b),0<this.answers[d].length?this.showMultipleNextButton():this.hideMultipleNextButton()):"single"===e&&(this.answers[d]=b)},removeAnswer:function(b){var e=this.getCurrentQuestionId();b=this.answers[e].indexOf(b);-1!==b&&(this.answers[e].splice(b,
1),0===this.answers[e].length&&this.hideMultipleNextButton())},hideMultipleNextButton:function(){b(".quiz-step.current .quiz-buttons .quiz-buttons-next").hide()},showMultipleNextButton:function(){b(".quiz-step.current .quiz-buttons .quiz-buttons-next").show()},removeMultipleNextButton:function(){b(".quiz-step.current .quiz-buttons .quiz-buttons-next").remove()},getCurrentQuestionId:function(){return this.$scope.find("div.quizPRMQuestion \x3e [data-prm-question-id]").attr("data-prm-question-id")},
setScope:function(b,e){e&&(this.answers={});this.$scope=b},getAnswers:function(){return this.answers}};Cog.register({name:"product.selector.quiz.prmAnswersRegistry",api:{},sharedApi:{getPrmHandler:function(b){return new e(b)}},selector:".quiz.component"})})(Cog.jQuery());
(function(b){function e(b){this.$scope=b;this.init()}e.prototype={init:function(){this.$form=this.$scope.find("form")},insertPrmAnswers:function(e){this.$form.length&&(this.$form.find("input [data-prm-dynamic]").remove(),b.each(e,function(b,a){if("string"===typeof e[b])b=f.createFormInput(b,a),this.$form.prepend(b);else for(var d=0;d<e[b].length;d++){var k=f.createFormInput(b,a[d]);this.$form.prepend(k)}}.bind(this)))}};var f={createFormInput:function(e,d){return b("\x3cinput\x3e",{"data-prm-dynamic":"true",
type:"hidden",name:"question_"+e+"_answer_"+d,value:!0})}};Cog.register({name:"product.selector.quiz.prmForm",api:f,sharedApi:{getPrmForm:function(b){return new e(b)}},selector:".quiz.component"})})(Cog.jQuery());
(function(b){function e(a){this.$el=a;this.$image=this.$el.find("img");this.$links=this.$el.find("a");this.position=d.getComponentPosition(this.$el);this.bindUIEvents()}var f={},k,d;e.prototype.bindUIEvents=function(){this.$image.on("click",function(a){a=b(a.target).attr("alt");Cog.fireEvent("image",k.CLICK.IMAGE_CLICK,{altText:a,componentPosition:this.position})}.bind(this));d.trackLinks(this.$links,{componentName:"Rich Text",componentPosition:this.position})};f.onRegister=function(a){k=this.external.eventsDefinition;
d=this.external.utils;new e(a.$scope)};Cog.registerComponent({name:"richText",api:f,selector:".richText",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(){Scrambled.init()}var f={},k={},d={};window.runOnWindowLoad(function(){var a=document.getElementById("scrambled-lazyLoad");a&&(a.src=a.getAttribute("data-src"),a.removeAttribute("data-src"),a.addEventListener("load",function(){Cog.fireEvent("scrambled","SCRAMBLED_LAZY_LOAD")}))});f.onRegister=function(a){var f=a.$scope,l=b("body");k=this.external.utils;d=this.external.eventsDefinition;"Scrambled"in window?e():Cog.addListener("scrambled","SCRAMBLED_LAZY_LOAD",e);f.on("click",
function(){l.css("overflow","auto");Cog.fireEvent("buyitnow",d.CLICK.BIN_CLICK,{componentPosition:k.getComponentPosition(f),product:f.attr("data-product-id"),component:"Scrambled"})}.bind(this))};Cog.registerComponent({name:"scrambled",api:f,selector:".scrambled",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){var e={},f=0;e.init=function(){window.runOnWindowLoad(function(){var f=b("#shoppable-js-lazyLoad"),d=b("#shoppable-css-lazyLoad"),a;f&&0===b("#shoppable_bundle").length&&((a=f.attr("data-options"))&&f.attr("options",a),f.attr("id","shoppable_bundle"),f.attr("src",f.attr("data-src")),e.waitForShoppableScript());d&&(d.attr("href",d.attr("data-href")),d.removeAttr("id"))})};e.waitForShoppableScript=function(){"undefined"!==typeof jQuery.Topic?Cog.fireEvent("shoppable","SHOPPABLE_LAZY_LOAD"):
10>f&&(f++,setTimeout(e.waitForShoppableScript,100))};Cog.registerStatic({name:"shoppable.lazyLoading",api:e,requires:[]})})(Cog.jQuery());(function(){window.runOnWindowLoad(function(){var b=document.getElementById("stackla-lazyLoad");b&&(b.src=b.getAttribute("data-src"),b.removeAttribute("data-src"))})})(Cog.jQuery());
(function(b){function e(a,d,e){this.$holder=a;this.setConfig(e);this.deferred=b.Deferred();this.promise=this.deferred.promise();this.template=doT.template(d.text());this.map=null;this.markers=[];f(this)}window.googleMapsCallback=function(){Cog.fireEvent("storelocator.map","ready")};e.prototype={setConfig:function(a){var b=k(["map","ratio"],a);this.config=a;b&&"function"!==typeof b&&(this.config.map.ratio=function(){return b||1})},init:function(){this.bindEvents();this.loadScript();return this.promise},
app:function(a){return this.promise.then(this.fn(function(){this.fn(a)()}))},bindEvents:function(){Cog.addListener("storelocator.map","ready",this.onLoadScript);Cog.addListener("storelocator.map","reset",this.clearMarkers);Cog.addListener("storelocator.map","userlocation.change",this.panTo);Cog.addListener("storelocator.map","userlocation.change",this.sessionPos);b(window).resize(b.debounce(400,this.onResize))},loadScript:function(){if(!b("#googleMapsJsApi").length){var a=document.createElement("script");
a.id="googleMapsJsApi";a.src=this.config.mapsUrl.replace("{apiKey}",this.config.apiKey).replace("{callback}","googleMapsCallback");document.body.appendChild(a)}},onLoadScript:function(){this.deferred.resolve()},getDefaultPos:function(){var a={latitude:40.7590403,longitude:-74.0392705},d=parseFloat(b(".gmap-coords-default [name\x3d'latitude']").val()),e=parseFloat(b(".gmap-coords-default [name\x3d'longitude']").val());isNaN(d)||isNaN(e)||(a.latitude=d,a.longitude=e);return a},panTo:function(a){a&&
a.eventData&&a.eventData.coords&&this.map&&(a=this.validateCoords(a.eventData.coords,!0),this.map.panTo(a))},sessionPos:function(a){var b;a&&a.eventData&&a.eventData.coords&&(b=this.validateCoords({latitude:a.eventData.coords.latitude,longitude:a.eventData.coords.longitude},!1));b&&sessionStorage.setItem("sessionPos",JSON.stringify(b))},validateCoords:function(a,b){try{var d=new google.maps.LatLng({lat:a.latitude,lng:a.longitude});var e={latitude:d.lat(),longitude:d.lng()};b&&(e=d)}catch(c){sessionStorage.removeItem("sessionPos")}return e},
buildMap:function(a){!a&&sessionStorage.getItem("sessionPos")&&(a=JSON.parse(sessionStorage.getItem("sessionPos")),a=this.validateCoords({latitude:a.latitude,longitude:a.longitude},!1));a=a||this.getDefaultPos();this.map||(this.map=new google.maps.Map(this.$holder[0],{zoom:12,clickableIcons:!1,center:{lat:+a.latitude,lng:+a.longitude},scrollwheel:!1!==k(["zoomOnScroll"],this.config),disableDefaultUI:!0,styles:k(["map","style"],this.config)||[]}))},clearMarkers:function(){this.markers.forEach(function(a){a.m.setMap(null);
a.i.close()});this.markers.length=0},closeAllInfoWindows:function(){this.markers.forEach(this.fn(function(a){a.i.close();a.m.getIcon()===this.config.pinIconActiveUrl&&a.m.setIcon(this.config.pinIconUrl)}))},addMarkerEvent:function(a,b){google.maps.event.addListener(a.m,"click",this.fn(function(){this.select(a);Cog.fireEvent("storelocator","results:select",{index:b,scroll:!0})}));google.maps.event.addListener(a.i,"closeclick",this.fn(function(){a.m.setIcon(this.config.pinIconUrl)}))},select:function(a,
b){var d=a;"number"===typeof a&&(d=this.markers[a]);this.closeAllInfoWindows();d.m.setIcon(this.config.pinIconActiveUrl);d.i.open(this.map,d.m);!1!==b&&this.center(d.m.getPosition())},fixBoundsRatio:function(a){var b=a.getNorthEast(),d=a.getSouthWest(),e=Math.abs(b.lng()-d.lng()),c=Math.abs(b.lat()-d.lat());e=.5*(e*this.config.map.ratio()-c);b=new google.maps.LatLng(b.lat()+e,b.lng());d=new google.maps.LatLng(d.lat()-e,d.lng());a.extend(b);a.extend(d);return a},addMarkers:function(a){var b;a.forEach(this.fn(function(a,
d){var c={m:new google.maps.Marker,i:new google.maps.InfoWindow({maxWidth:300})};this.markers.push(c);c.i.setContent(this.template(a));c.m.setOptions({position:{lat:+a.latitude,lng:+a.longitude},map:this.map,icon:this.config.pinIconUrl});b=b||new google.maps.LatLngBounds(c.m.getPosition(),c.m.getPosition());b.extend(c.m.getPosition());this.addMarkerEvent(c,d)}));b&&(this.map.fitBounds(this.fixBoundsRatio(b)),this.center(this.map.getCenter()))},refresh:function(a){this.clearMarkers();this.buildMap(a[0]);
this.map?this.addMarkers(a):google.maps.event.addListenerOnce(this.map,"tilesloaded",function(){this.addMarkers(a)})},center:function(a){this.lastPosition=a;var b=this.map.getBounds().getSouthWest().lng(),e=this.map.getBounds().getNorthEast().lng();this.map.setCenter(new google.maps.LatLng(a.lat(),a.lng()-.5*(e-b)*(this.config.map.centerDisplacement[d.current]||0)))},onResize:function(){google.maps.event.trigger(this.map,"resize");this.center(this.lastPosition||this.map.getCenter())}};var f,k,d;Cog.registerStatic({name:"storelocator.map",
api:{init:function(){f=this.external.bindAll;k=this.external.idx;d=this.external.breakpoints}},sharedApi:e,requires:[{name:"utils.breakpoints",apiId:"breakpoints"},{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.idx",apiId:"idx"}]})})(Cog.jQuery());
(function(){function b(b){this.$holder=b;e(this)}b.prototype={deserialize:function(b){return(b||"").split("\x26").map(function(b){b=b.split("\x3d");return{name:b[0],value:decodeURIComponent((b[1]||"").replace(/\+/g," "))}}).filter(function(b){return""!==b.name})},run:function(b){this.deserialize(b||document.location.search.substring(1)).forEach(this.fn(function(b){this.$holder.find("[name\x3d'"+b.name+"']").val(b.value)}));(b=0<this.$holder.find("[required]").toArray().filter(function(b){return""===
b.value}).length)||Cog.fireEvent("formFill","dataFromURL",{instance:this});return b}};var e;Cog.registerStatic({name:"storelocator.formFill",api:{init:function(){e=this.external.bindAll}},sharedApi:b,requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})();
(function(b){function e(a,b,c){this.$holder=a;this.template=doT.template(b.text());this.config=c;this.$intro=this.$holder.find(".storeresults-intro");this.$list=this.$holder.find(".storeresults-list");this.index=0;k(this);this.bindEvents()}function f(b,c,d,f){this.config=f;this.$holder=b;this.$form=d;this.$more=this.$holder.find(".storeresults-more");this.list=new e(b,c,f);this.cache=new a;k(this);this.bindEvents()}e.prototype={bindEvents:function(){Cog.addListener("storelocator","results:select",
this.onSelect);Cog.addListener("storelocator","appendEditButton",this.appendEditButton);this.$holder.on("click",".storeresults-list-wrapper li",this.onClick);var a=m.getComponentPosition(this.$holder.closest(".box-store-locator-results"));m.trackLinks(this.$list,{componentName:h.storeLocator,componentPosition:a,category:h.engagement,subcategory:h.read})},onClick:function(a){Cog.fireEvent("storelocator","results:select",{index:b(a.currentTarget).index(),scroll:!1})},onSelect:function(a){this.$list.find("li").removeClass("active").eq(d(["eventData",
"index"],a)).addClass("active")},getMassage:function(a){var b=this.config.resultsTemplateMsg;0===parseInt(a.numStoresFound,10)?b=this.config.resultsErrorMsg:!0===a.isNearest&&(b=this.config.resultsNearestStoreTemplateMsg);return b},updateData:function(a){var c=this.getMassage(a),d=this.config.distanceUnits;return b.extend({},a,{message:c.replace("{nearestStoreDistanceAmount}",a.storeList&&0<a.storeList.length?a.storeList[0].distance:"unknown").replace(/\{s\}/g,"\x3cstrong\x3e").replace(/\{\/s\}/g,
"\x3c/strong\x3e").replace(/\{i\}/g,"\x3cstrong\x3e").replace(/\{\/i\}/g,"\x3c/strong\x3e").replace(/\{em\}/g,"\x3cstrong\x3e").replace(/\{\/em\}/g,"\x3c/strong\x3e").replace(/\{br\}/g,'\x3cbr class\x3d"storelocator-br"\x3e').replace("{hr}",'\x3chr class\x3d"storelocator-hr"\x3e').replace("{storeAmount}",a.numStoresFound).replace("{distanceAmount}",a.distanceAmount).replace("{distanceUnits}",d).replace("{productName}",a.productName).replace("{zipCode}",a.zipCode),storeList:a.storeList.map(this.fn(function(a){return b.extend(a,
{directionsUrl:this.config.directionsUrl.replace("{lat}",a.latitude).replace("{lng}",a.longitude),formattedPhone:a.phone.replace(/\D/g,"")})})).slice(0,++this.index*this.config.itemsPerPage)})},appendEditButton:function(a){a=a.ean||a.eventData&&a.eventData.ean||0;if(a){var c=b(".where-to-buy-edit").first().clone();c.data("product",{ean:a});c.click(this.gotoStep3);c.addClass("last-step");this.$intro.append(c)}},printStores:function(a){this.$intro.html(a.message);this.appendEditButton(a);this.$list.html(this.template(a))},
gotoStep3:function(a){a=b(a.target).data("product");Cog.fireEvent("storeLocator",l.CLICK.STORE_LOCATOR_EDIT,{position:m.getComponentPosition(this.$holder.closest(".box-store-locator-results"))});Cog.fireEvent("whereToBuy","goto:step3",a);Cog.fireEvent("storelocator","notReady")},reset:function(){this.index=0}};f.prototype={bindEvents:function(){this.$form.on("submit",this.onSubmit);this.$more.on("click",this.loadMore)},onSubmit:function(a){a.preventDefault();this.$form.hasClass("loading")||this.refresh()},
fwd:function(a){return function(b){var c=a(b);return void 0===c?b:c}},fetch:function(){var a=this.$form.serialize();if(this.cache.has(a))return b.Deferred().resolve(this.cache.value(a));this.list.reset();this.$form.addClass("loading");return b.ajax({url:this.config.serviceUrl,method:this.$form.attr("method"),data:a,dataType:"text",beforeSend:c.addWcmModeIfNeeded}).always(this.fn(function(){this.$form.removeClass("loading")})).then(this.fn(function(b){return this.cache.value(a,JSON.parse(b))})).fail(this.fn(function(){var a=
b(".box-store-locator-selected-product input[name\x3dean]").val();this.list.$intro.text(this.config.resultsErrorMsg);this.$holder.addClass("ready");a&&Cog.fireEvent("storelocator","appendEditButton",{ean:a})}))},refresh:function(){Cog.fireEvent("storelocator","notReady");return this.fetch().then(this.fwd(this.fn(function(a){a=b.extend({},a,{distanceAmount:this.$form.find(".storelocator-select-radius select").val(),productName:this.$form.find(".storelocator-product .storelocator-prefix").text(),ean:this.$form.find("input[name\x3dean]").val(),
zipCode:this.$form.find(".storelocator-input input").val()});return this.list.updateData(a)}))).then(this.fwd(this.list.printStores)).then(this.fwd(this.updateState)).then(this.fwd(this.checkMore)).then(function(a){Cog.fireEvent("storelocator","results:refresh",a);0===parseInt(a.numStoresFound,10)&&Cog.fireEvent("storelocator","results:noResults");Cog.fireEvent("storeLocator",l.OTHER.STORE_LOCATOR_RESULTS,{resultsNumber:a.numStoresFound})}).fail(this.fn(function(){this.$holder.addClass("error");Cog.fireEvent("storelocator",
"results:noResults")}))},updateState:function(a){this.$holder.removeClass("error loading");a.success?this.$holder.addClass("ready"):this.$holder.removeClass("ready")},checkMore:function(a){a.isNearest||a.storeList.length===parseInt(a.numStoresFound,10)?this.$more.parent().hide():this.$more.parent().show()},loadMore:function(){Cog.fireEvent("storeLocator",l.OTHER.STORE_LOCATOR_OPTIONS,{label:"Load More",position:m.getComponentPosition(this.$holder.closest(".box-store-locator-results"))});this.refresh()}};
var k,d,a,m,l,h,c;Cog.registerStatic({name:"storelocator.results",api:{init:function(){k=this.external.bindAll;d=this.external.idx;a=this.external.Cache;m=this.external.analyticsUtils;l=this.external.eventsDefinition;h=this.external.eventsDefinition.ctConstants;c=this.external.urlUtils}},sharedApi:f,requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.cache",apiId:"Cache"},{name:"utils.idx",apiId:"idx"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",
apiId:"analyticsUtils"},{name:"utils.url",apiId:"urlUtils"}]})})(Cog.jQuery());
(function(b){function e(a,b,d){this.$button=a;this.$target=b;this.apiURL=d.geoCodeUrl;this.apiKey=d.apiKey;k(this);this.bindEvents();this.prefillZip()}e.prototype={bindEvents:function(){this.$button.on("click",this.loadZipCode);this.$target.on("blur",this.storeAndProagateZipCode)},storeAndProagateZipCode:function(){this.storeZipCode();this.propagateZipCode()},storeZipCode:function(){var a=this.$target.val();this.zipIsValid(a)&&sessionStorage.setItem("zipCode",a)},propagateZipCode:function(a){a=a||
this.$target.val();this.zipIsValid(a)&&b("[name\x3dpostalCode]").val(a)},prefillZip:function(){var a=sessionStorage.getItem("zipCode");a&&this.propagateZipCode(a)},zipIsValid:function(a){var b=a?!0:!1;if(!d){var e=this.$target.attr("pattern");e&&(d=new RegExp(e))}d&&!d.test(a)&&(b=!1);return b},getGeolocation:function(){var a=b.Deferred();"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a.resolve,a.reject):a.reject({message:"Browser doesn't support geolocation"});return a.promise()},
getByType:function(a){var b=Array.prototype.slice.call(arguments,1);if(a&&b[0]){var d=a.filter(function(a){return-1<a.types.indexOf(b[0])})[0];!d&&b.length&&(d=this.getByType.apply(null,[a].concat(b.slice(1))));return d}return null},parseJSON:function(a){a=f(["address_components"],this.getByType(a.results,"street_address","postal_code","premise"));return f(["long_name"],this.getByType(a,"postal_code"))},loadZipCode:function(){this.$button.hasClass("loading")||(this.$button.addClass("loading"),this.getGeolocation().then(this.onGetGeolocationSuccess).fail(this.onGetGeolocationFail))},
onGetGeolocationFail:function(){this.$button.removeClass("loading")},onGetGeolocationSuccess:function(a){var d=this.apiURL.replace("{lat}",a.coords.latitude).replace("{long}",a.coords.longitude).replace("{key}",this.apiKey);Cog.fireEvent("storelocator.map","userlocation.change",a);b.getJSON(d).then(this.fn(function(a){if(a=this.parseJSON(a))this.$target.val(a),this.storeAndProagateZipCode()})).always(this.fn(function(){this.$button.removeClass("loading")}))}};var f,k,d;Cog.registerStatic({name:"storelocator.zipCodeAutoFill",
api:{init:function(){f=this.external.idx;k=this.external.bindAll}},sharedApi:e,requires:[{name:"utils.idx",apiId:"idx"},{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(){Cog.registerStatic({name:"storelocator.config",api:{},sharedApi:{map:{ratio:1,centerDisplacement:{small:0,mobile:0,tablet:.6,notebook:.5,desktop:.5},style:[{elementType:"geometry",stylers:[{color:"#f2f4f6"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},
{featureType:"poi",elementType:"geometry",stylers:[{color:"#b1bfca"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dfe8ea"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6e7f8d"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#6e7f8d"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",
stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#b1bfca"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#b1bfca"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry",
stylers:[{color:"#b1bfca"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#b1bfca"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#89e0e3"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}]}}})})();
(function(b){function e(a,b){this.$holder=a;this.config=b;this.$form=this.$holder.find(".storelocator-form");this.$resultsWrapper=this.$holder.find(".storelocatorResults-wrapper");this.formFill=new m(this.$form);c(this);this.initValidator();this.buildToggleBehaviour();this.buildZipCodeAutoFill();this.buildProductSizeSelect();this.resultsOnly(this.buildMap);this.resultsOnly(this.buildResults);this.resultsOnly(this.bindResultsEvents)}e.prototype={bindResultsEvents:function(){Cog.addListener("storelocator",
"results:refresh",this.fn(function(a){this.noResultsCleanUp();this.gmaps.refresh(k(["eventData","storeList"],a))}));Cog.addListener("storelocator","results:select",this.fn(function(a){this.gmaps.select(k(["eventData","index"],a),!1!==k(["eventData","center"],a))}));Cog.addListener("storelocator","results:noResults",this.onNoResults);Cog.addListener("storelocator","fillForm",this.onFillForm);Cog.addListener("storelocator","submitCurrentIfValid",this.submitCurrentIfValid);Cog.addListener("storelocator",
"notReady",this.notReady)},resultsOnly:function(a){0<this.$resultsWrapper.length&&a()},submitCurrentIfValid:function(){var a=b(".storelocator-form-wrapper.is-active .storelocator-form");if(a.length){var c=2>a.find("[type\x3dradio]").length;var d=a.find("input[required]").toArray().filter(function(a){return""===a.value});0===d.length&&c&&a.find(".storelocator-button").trigger("click")}},onNoResults:function(){if(this.config.importBuyNowTabContentsForZeroResults&&1===this.$resultsWrapper.length){b(".storelocator-no-results-auxillary").remove();
var a=b("\x3cdiv class\x3d'storelocator-no-results-auxillary'\x3e\x3c/div\x3e").appendTo(this.$resultsWrapper),c=this.$resultsWrapper.closest(".tabs-content").parent().find(".tabs-content:last").find(".tabContent \x3e .content");a.append(c.clone());a.find(".addtobag-btn").on("click",function(a){a.preventDefault();a=b(a.target);a=a.prop("nodeName")+"."+a.prop("class").split(" ").join(".");c.find(a).trigger("click")});a.addClass("is-visible");this.$resultsWrapper.addClass("ready").removeClass("loading")}},
noResultsCleanUp:function(){b(".storelocator-no-results-auxillary").remove()},notReady:function(){this.$resultsWrapper.removeClass("ready error").addClass("loading")},buildMap:function(){"complete"===document.readyState?this.buildMapImmediate():this.mapBuildRequested||(this.mapBuildRequested=!0,this.buildMapLazy())},buildMapLazy:function(){var a=function(){this.buildMapImmediate()}.bind(this);window.runOnWindowLoad(a)},buildMapImmediate:function(){var a=b(".box-store-locator-map").eq(0),c=this.$holder.find(".info-template");
a.length||(a=this.$holder.find(".gmaps-holder"));this.gmaps=new f(a,c,this.config);return b.when(this.gmaps.init()).then(this.fn(function(){this.gmaps.refresh([])}))},$wrap:function(a,b){0<a.length&&a.append(b)},buildResults:function(){this.$wrap(b(".box-store-locator-results .content").eq(0),this.$resultsWrapper);this.formFill.run();var c=this.$holder.find(".list-template");return new a(this.$resultsWrapper,c,this.$form,this.config)},onFillForm:function(a){this.formFill.run(k(["eventData","urlData"],
a));this.$form.submit()},buildToggleBehaviour:function(){var a=this.$holder.find(".storelocator-toggle \x3e button");0<a.length&&new l(a,this.$holder.find(".storelocator-form-wrapper"))},buildZipCodeAutoFill:function(){return new d(this.$holder.find(".storelocator-input \x3e .icon-gps"),this.$holder.find(".storelocator-input \x3e input"),this.config)},buildProductSizeSelect:function(){var a=this.$form.find(".storelocator-product-size"),c=this.$form.find("[name\x3d'productId']"),d=this.$form.find("[name\x3d'productSizeOptions']"),
e=this.$form.find("[name\x3d'postalCode']"),f=this.$form.find("[name\x3d'radius']"),h=[];(d.val()||"").split("|").forEach(function(c){if(c){var d=c.split("\x3d");c=b("\x3clabel/\x3e");var e=b("\x3cspan/\x3e").text(d[0]);d=b("\x3cinput type\x3d'radio' name\x3d'size'/\x3e").val(d[1]||d[0]);var f=b("\x3cspan class\x3d'custom-radio'/\x3e");h.push(d);c.append(d).append(f).append(e);a.append(c)}});a.on("change",function(a){c.val(a.target.value);this.fireChangeEvent(e.val(),f.val())}.bind(this));e.on("change",
function(){this.fireChangeEvent(e.val(),f.val())}.bind(this));f.on("change",function(){Cog.fireEvent("storeLocator",u.OTHER.STORE_LOCATOR_OPTIONS,{label:"Radius change "+f.val(),position:q});this.fireChangeEvent(e.val(),f.val())}.bind(this));d=a.find("[value\x3d'"+c.val()+"']");d.length&&d.prop("checked",!0);1===h.length&&h[0].prop("checked",!0)},fireChangeEvent:function(a,b){var c=this.$form.find(".storelocator-product-size :checked").val();p.isAnalyticsConfigured()&&(c=allProducts[c],Cog.fireEvent("storeLocator",
u.OTHER.STORE_LOCATOR_OPTIONS,{label:c.shortTitle+" "+c.productSize+"|"+a+"|"+b,position:q}))},initValidator:function(){h(this.$form,[".storelocator-zipcode-wrapper",".storelocator-radius-wrapper",".storelocator-product-wrapper"])}};var f,k,d,a,m,l,h,c,p,u,q;Cog.registerComponent({name:"storelocator",api:{ext:function(){f=f||this.external.GMaps;k=k||this.external.idx;d=d||this.external.ZipCodeAutoFill;a=a||this.external.Results;m=m||this.external.FormFill;l=l||this.external.Toggle;h=h||this.external.validator;
c=c||this.external.bindAll},onRegister:function(a){this.ext();this.analyticsSetup();a=a.$scope;var c=a.find("[data-storelocator]").data("storelocator")||{};c=b.extend({importBuyNowTabContentsForZeroResults:!0},c,this.external.config);q=p.getComponentPosition(a);new e(a,c)},analyticsSetup:function(){p=p||this.external.analyticsUtils;u=u||this.external.eventsDefinition}},selector:".storelocator",requires:[{name:"utils.validator",apiId:"validator"},{name:"utils.idx",apiId:"idx"},{name:"utils.bindAll",
apiId:"bindAll"},{name:"storelocator.map",apiId:"GMaps"},{name:"utils.toggle",apiId:"Toggle"},{name:"storelocator.zipCodeAutoFill",apiId:"ZipCodeAutoFill"},{name:"storelocator.formFill",apiId:"FormFill"},{name:"storelocator.results",apiId:"Results"},{name:"storelocator.config",apiId:"config"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"analyticsUtils"}]})})(Cog.jQuery());
(function(b){function e(b){this.$el=b;a(this);this.init()}e.prototype={init:function(){this.$el.find(d).click(this.onClickTitle)},onClickTitle:function(a){a=b(a.currentTarget);var d=a.next(k),e=d.hasClass(f);this.$el.find("."+f).removeClass(f);e||(a.addClass(f),d.addClass(f))}};var f="is-active",k=".js-accordion-content",d=".js-accordion-title",a;Cog.registerComponent({name:"search.filter.accordion",api:{onRegister:function(b){a=a||this.external.bindAll;new e(b.$scope)}},selector:".search-filters",
requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(){function b(b){this.$el=b;e(this);this.init()}b.prototype={init:function(){var b=decodeURIComponent(window.location.href),e=this.$el.parents(".search-filters");-1===b.indexOf("filters\x3d")?e.removeClass("has-filters"):(e.addClass("has-filters"),this.$el.click(this.clearFilter))},clearFilter:function(){var b=decodeURIComponent(window.location.href).split(/[?|&]+/),e=1<b.length?b.shift()+"?":b.shift();b.forEach(function(b){0!==b.indexOf("filters\x3d")&&""!==b&&(e+=b+"\x26")});e=e.substr(0,
e.length-1);window.location.replace(e)}};var e;Cog.registerComponent({name:"search.filter.ClearFilter",api:{onRegister:function(f){e=e||this.external.bindAll;new b(f.$scope)}},selector:".button-clear-filters",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})();
(function(b){function e(b){this.$el=b;f(this);this.init()}e.prototype={init:function(){enquire.register("only screen and (max-width: "+k.maxMobile+"px)",{match:this.matchMobile})},matchMobile:function(){var d=b(".searchResults-options-container .filterCloud");d.length&&""===d.text().trim()&&d.remove()}};var f,k;Cog.registerComponent({name:"search.mobileBehaviour",api:{onRegister:function(b){f=f||this.external.bindAll;k=k||this.external.breakpoints;new e(b.$scope)}},selector:".searchTabNavigation",
requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.breakpoints",apiId:"breakpoints"}]})})(Cog.jQuery());
(function(b){function e(e){this.$el=e;this.$filter=b(".search-filters");f(this);this.init()}e.prototype={init:function(){var e=b(".cta-filter-mobile"),d=b(".title-component-filter");b(".searchResults-options-container").append(e);e.appendTo(".searchResults-options-container");e.click(this.openFilter);d.click(this.closeFilter)},openFilter:function(){this.$filter.show()},closeFilter:function(){this.$filter.removeAttr("style")}};var f;Cog.registerComponent({name:"search.filterMobile",api:{onRegister:function(b){f=
f||this.external.bindAll;new e(b.$scope)}},selector:".search-filters",requires:[{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b,e){function f(b){this.$el=b;this.bindDOM();this.getOptionsObject();this.replaceSelect();this.bindEvents()}var k={};f.prototype={bindDOM:function(){this.$options=this.$el.find("option");this.$wrapper=b("\x3cspan class\x3d'select-replacement'\x3e\x3c/span\x3e");this.$trigger=b("\x3ca href\x3d'#' class\x3d'select-trigger' tabindex\x3d'-1'\x3e\x3c/a\x3e")},replaceSelect:function(){this.$el.wrap(this.$wrapper);this.setText();this.$el.after(this.$trigger)},getOptionsObject:function(){this.options=
{};e.forEach(this.$options,function(d){d=b(d);d.attr("value")&&(this.options[d.attr("value")]=d.text())}.bind(this))},setText:function(){var b=this.$el.val();b=this.options[b]||this.$options.eq(0).text();this.$trigger.text(b)},bindEvents:function(){this.$trigger.on("click focus",function(b){b.preventDefault();return!1}.bind(this));this.$el.on("change",this.setText.bind(this))}};k.onRegister=function(b){new f(b.$scope)};Cog.registerComponent({name:"customCustomSelect",api:k,selector:".listingFilters-articles .filter-category select, .listingFilters-articles .filter-subcategory select"})})(Cog.jQuery(),
_);
(function(){var b={},e={},f={};window.runOnWindowLoad(function(){var b=document.getElementById("shopalyst-lazyLoad");if(b){var d=b.getAttribute("data-src");b.setAttribute("src",d);b.removeAttribute("data-src");b.addEventListener("load",function(){_shopalyst.init(shopalyst.publisherId,shopalyst.placementId,shopalyst.campaignId)})}});b.onRegister=function(b){e=this.external.utils;f=this.external.eventsDefinition;var d=b.$scope,a=d.closest(".buy-it-now-shopalyst-provider"),k=d.closest("div[data-ean]");d.on("click",
function(){a.addClass("shopalyst-active");Cog.fireEvent("buyitnow",f.CLICK.BIN_CLICK,{componentPosition:e.getComponentPosition(d),product:k.attr("data-ean"),component:"Shopalyst"})})};Cog.registerComponent({name:"buy-it-now-shopalyst",api:b,selector:".shopalyst-btn",requires:[{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"utils"}]})})(Cog.jQuery());
(function(b){function e(){b("body").on("click","#TT3settingsLink",function(){var e=0,k=setInterval(function(){var d=b("#TTtraWindow").find("select").closest(".valueL");d.length&&(d.addClass("select-container"),clearInterval(k));e++;5===e&&clearInterval(k)},300)})}Cog.registerComponent({name:"turnto-select",api:{onRegister:function(){new e}},selector:".turnto"})})(Cog.jQuery());
(function(){function b(b,f){this.$holder=b;this.max=f;this.prefix="step-";this.generateClassNames()}b.prototype={generateClassNames:function(){var b=[];b.length=(this.max||3)+1;this.classNames=b.join(".").split(".").map(function(b,e){return this.prefix+e}.bind(this)).slice(1).join(" ")},go:function(b){b=Math.max(Math.min(b,this.max),0);this.$holder.removeClass(this.classNames).addClass(this.prefix+b)}};Cog.registerComponent({name:"whereToBuy.stepsController",api:{onRegister:function(e){var f=this.external.idx,
k=new b(e.$scope,3);Cog.addListener("whereToBuy","state:subscribe",function(b){"NAV"===f(["eventData","type"],b)&&k.go(f(["eventData","step"],b)||1)})}},selector:".box-store-locator-holder",requires:[{name:"utils.idx",apiId:"idx"}]})})(Cog.jQuery());
(function(b,e){function f(a,b){this.$holder=a;this.$form=b;this.$step1=this.$holder.find(".storelocator-product-size-wrapper");this.$step2=this.$holder.find(".storelocator-zipcode-wrapper,.storelocator-radius-wrapper,.storelocator-button-wrapper");d(this);this.createArrow();this.bindEvents()}function k(a,e){this.$holder=a;this.selectors=b.extend({item:".listing-item",storeLocatorForm:".storelocator-form-wrapper"},e);d(this);this.bindEvents()}f.prototype={bindEvents:function(){this.$form.on("change",
this.onChange);enquire.register("only screen and (max-width: "+m.maxTablet+"px)",{match:this.refresh,unmatch:this.refresh})},onChange:function(){this.checkSteps();this.refresh()},checkSteps:function(){this.$step1.find("input:checked").length&&this.$step2.addClass("active")},refresh:function(){this.$holder.hasClass("is-selected")&&(this.holderHeight=this.$holder.outerHeight(),this.checkSteps(),this.$holder.css({"margin-bottom":this.$form.outerHeight()}),this.$form.css("top",a(["top"],this.$holder.position())+
this.holderHeight),this.$arrow.css("left",a(["left"],this.$holder.position())+.5*this.$holder.outerWidth()))},reset:function(){this.$holder.css("margin-bottom","")},createArrow:function(){this.$arrow=b("\x3cdiv class\x3d'arrow'\x3e");this.$form.find("form").append(this.$arrow)}};b.extend(f,{instances:[],noop:function(){return this._noop||(this._noop=new f(b(""),b("")))},get:function(a){return this.instances.filter(function(b){return b.$holder[0]===a||b.$form[0]===a})[0]||this.noop()},add:function(a,
b){var c=this.get(a);c===this.noop()&&(c=new f(a,b),this.instances.push(c));return c},reset:function(){this.instances.forEach(function(a){a.reset()})},cleanup:function(){this.instances.length=0}});k.prototype={bindEvents:function(){Cog.addListener("toggle","open",this.onToggle(function(a){b(a).addClass("is-selected");f.reset();f.get(a).refresh();e.defer(this.scroll.bind(this));h&&(h=!1,e.defer(function(){Cog.fireEvent("storelocator","submitCurrentIfValid")}))}.bind(this)));Cog.addListener("toggle",
"close",this.onToggle(function(a){b(a).removeClass("is-selected");f.get(a).reset()}))},scroll:function(){l.goToElement(this.$holder.find(".box-store-locator-steps"),this.$holder.find(".storelocator-form-wrapper.is-active"))},moveElements:function(){f.cleanup();this.$holder.find(this.selectors.item).each(this.fn(function(a,d){a=b(d);d=a.find(this.selectors.storeLocatorForm);f.add(a,d);a.after(d)}))},onToggle:function(c){return this.fn(function(d){var e=a(["eventData","$holder"],d);this.$holder.find(this.selectors.item).each(function(a,
d){b.contains(d,e[0])&&c(d)})})},get:function(a){return f.get(a)}};var d,a,m,l,h=!0;Cog.registerStatic({name:"whereToBuy.storelocatorToggle",api:{init:function(){d=this.external.bindAll;a=this.external.idx;l=this.external.Scroller;m=this.external.breakpoints}},sharedApi:k,requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.idx",apiId:"idx"},{name:"utils.breakpoints",apiId:"breakpoints"},{name:"whereToBuy.scroller",apiId:"Scroller"}]})})(Cog.jQuery(),_);
(function(){Cog.registerStatic({name:"whereToBuy.scroller",api:{init:function(){}},sharedApi:{go:function(b,e,f){b=b.find(e).eq(f);this.goToElement(b)},goToElement:function(b,e){var f=b.scrollTop();f=e.offset().top-b.offset().top+f;e=.5*(b.height()-e.outerHeight());b.stop().animate({scrollTop:f-e},300,"swing")},goToElementMobile:function(b,e){b.stop().animate({scrollTop:e.offset().top},300,"swing")}},requires:[{name:"utils.idx",apiId:"idx"},{name:"utils.bindAll",apiId:"bindAll"}]})})(Cog.jQuery());
(function(b){function e(a){this.$holder=a;d(this);this.$filterForm=this.$holder.find(".filter-form");this.$selectCategory=this.$holder.find(".filter-category select");this.$filterSubcategory=this.$holder.find(".filter-subcategory");this.$subcategorySelect=this.$filterSubcategory.find("select");this.$editButton=this.$holder.find(".where-to-buy-edit");a=this.$holder.find(".store-locator-step-1-label");this.$step1Label=a.data("o-text",a.text());this.toggle=new l(this.$holder);this.$scrollHolder=this.$holder.find(".box-store-locator-steps");
this.preventScroll=new c(this.$scrollHolder);this.resultProduct=new q(this.$holder.find(".box-store-locator-step-3 .storelocator-form"),this.$holder.find(".box-store-locator-step-3 .buyitnow"));this.pathParams=m.getQueryParams(location.search.substring(1));this.$editButton.attr("tabindex","0").attr("role","button");this.$resultIntro=this.$holder.find(".storeresults-intro");this.bindEvents();this.initState();this.handlePathParams();this.replaceFormSubmit();this.tabFocusEvents()}var f;e.prototype={tabFocusEvents:function(){b(document).on("keydown",
".box-store-locator-step-indicator .where-to-buy-edit,.tabs-where-to-buy .where-to-buy-edit,.storelocator-product-wrapper .where-to-buy-edit",function(a){13===a.keyCode&&b(this).trigger("click")})},handlePathParams:function(){this.pathParams.ean?(Cog.addListener("listingFilters","selectChanged",this.findProductByEan,{disposable:!0}),this.pathParams.cat&&this.pathParams.sub&&a.setFilterTags([this.pathParams.cat,this.pathParams.sub]),this.$filterForm.trigger("submit"),this.goToStep(2)):this.goToStep(1)},
openToggle:function(a){a=a.closest(".storelocator-form-wrapper");var b=a.prev().find(".storelocator-toggle button");a.addClass("is-active");Cog.fireEvent("toggle","open",{$holder:b,$target:a});window.innerWidth>u.maxMobile?p.goToElement(this.$scrollHolder,a):p.goToElementMobile(f,a.prev())},findProductByEan:function(){var a=this.$holder.find(".storelocator-product-size input[value\x3d"+this.pathParams.ean+"]"),b=this.$holder.find(".storelocator-form \x3e input[value\x3d"+this.pathParams.ean+"]");
0<a.length?(this.openToggle(a),a.prop("checked",!0).change()):0<b.length&&this.openToggle(b)},bindEvents:function(){Cog.addListener("formFill","dataFromURL",this.goToStepEventWrapper(3));this.$editButton.on("click",this.onEditButtonClick);Cog.addListener("tab","change",this.onTabChange);Cog.addListener("whereToBuy","state:subscribe",this.onStateChange);Cog.addListener("storelocator","results:refresh",this.onRefreshResults);Cog.addListener("storelocator","results:noResults",this.onNoResults);Cog.addListener("storelocator",
"results:select",this.onResultItemSelect);Cog.addListener("listingFilters","selectChanged",this.onFilterChange);Cog.addListener("listingFilters","selectChanged",this.toggle.moveElements);b(document).ready(this.onPageLoad);enquire.register("screen and (max-width: "+u.mobileMax+"px)",{match:this.onResponsive,unmatch:this.onResponsive});Cog.addListener("whereToBuy","goto:step3",this.gotoStep3)},onResponsive:function(){this.onStateChange({eventData:this.state.getState()})},initState:function(){this.state=
h.create("whereToBuy",{type:"IDLE",step:1,results:{tabIndex:0,selectedIndex:null}})},goToStepEventWrapper:function(a){return this.fn(function(){this.goToStep(a)})},goToStep:function(a,b){Cog.fireEvent("whereToBuy","state:dispatch",{type:"NAV",step:a,subCategoryText:b})},replaceFormSubmit:function(){this.$holder.on("submit",".box-store-locator-step-2 .storelocator-form",this.onStep2FormSubmit)},onEditButtonClick:function(a){a=b(a.target).parent();history.pushState("",document.title,m.removeParameters(document.location.href));
a.hasClass("storelocator-product")?this.goToStepEventWrapper(2)():this.goToStepEventWrapper(1)();Cog.fireEvent("storeLocator",A.CLICK.STORE_LOCATOR_CTA,{label:"Edit",position:C})},gotoStep3:function(a){a=a.eventData;if(a.ean){var b=this.$holder.find(".storelocator-product-size input[value\x3d"+a.ean+"]");b=0===b.length?this.$holder.find(".storelocator-form \x3e input[value\x3d"+a.ean+"]"):b;0<b.length&&(this.goToStepEventWrapper(2)(),setTimeout(function(){this.openToggle(b)}.bind(this),500))}},onRefreshResults:function(){null===
k(["results","selectedIndex"],this.state.getState())&&Cog.fireEvent("whereToBuy","state:dispatch",{type:"SELECT_RESULTS",results:{selectedIndex:0}});this.scrollToBottomOfResults()},onNoResults:function(){this.scrollToTopOfResults()},onStep2FormSubmit:function(a){if(!a.isDefaultPrevented()){var c=b(a.currentTarget),d=k(["$holder"],this.toggle.get(c.parent()[0]))||c;this.resultProduct.update({$image:d.find("img").eq(0).clone(),$rating:d.find(".ratingsandreviews"),$edit:this.$editButton.clone(!0),title:d.find(".richText").eq(0).text(),
selectedSize:c.find("input:checked").parent().text(),$smartbutton:d.find(".buyitnow")});Cog.fireEvent("storelocator","fillForm",{urlData:c.serialize()});Cog.fireEvent("storeLocator",A.SUBMIT.STORE_LOCATOR,{zipCode:c.find("[name\x3d'postalCode']").val(),position:C});a.preventDefault()}},onTabChange:function(a){0<this.$holder.find(k(["eventData","container"],a)).length&&Cog.fireEvent("whereToBuy","state:dispatch",{type:"TAB_NAV",results:{tabIndex:k(["eventData","index"],a)||0}})},onStateChange:function(a){"NAV"===
k(["eventData","type"],a)&&(1===k(["eventData","step"],a)?(this.$editButton.hide(),this.$step1Label.text(this.$step1Label.data("o-text")),this.$selectCategory[0].selectedIndex=0,this.$filterSubcategory.hide(),this.preventScroll.disable(),Cog.fireEvent("storelocator.map","reset"),Cog.fireEvent("whereToBuy","state:dispatch",{type:"SELECT_RESULTS",results:{selectedIndex:null}})):(this.$editButton.show(),a.eventData&&a.eventData.subCategoryText&&this.$step1Label.text(a.eventData.subCategoryText),u.overMobile?
this.preventScroll.enable():this.preventScroll.disable()))},onFilterChange:function(){var a=this.$selectCategory.val(),b=this.$subcategorySelect.val(),c=this.$subcategorySelect.find("option:selected").text();""===a?this.$filterSubcategory.hide():""===b&&1<this.$subcategorySelect.find("option").length?this.$filterSubcategory.show():this.goToStep(2,c)},onResultItemSelect:function(a){var b=this.$holder.find(".storeresults-info-wrapper");k(["eventData","scroll"],a)&&p.go(this.$scrollHolder,".storeresults-list \x3e li",
k(["eventData","index"],a));b&&g.trackLinks(b,{componentName:F.storeLocator,componentPosition:C,category:F.engagement,subcategory:F.read})},onPageLoad:function(){Cog.fireEvent(Cog.fireEvent("storeLocator",A.LOAD.STORE_LOCATOR,{position:C}))},scrollToTopOfResults:function(){window.innerWidth>u.maxMobile?p.goToElement(this.$scrollHolder,this.$resultIntro):p.goToElementMobile(f,this.$resultIntro)},scrollToBottomOfResults:function(){window.innerWidth>u.maxMobile&&p.goToElement(this.$scrollHolder,this.$holder.find(".storeresults-list li:last-child"))}};
var k,d,a,m,l,h,c,p,u,q,g,A,F,C;Cog.registerComponent({name:"whereToBuy",api:{onRegister:function(H){h=this.external.SimpleState;d=this.external.bindAll;k=this.external.idx;a=this.external.filters;m=this.external.url;g=this.external.analyticsUtils;A=this.external.eventsDefinition;F=this.external.eventsDefinition.ctConstants;C=g.getComponentPosition(H.$scope);l=this.external.StorelocatorToggle;c=this.external.PreventParentScroll;p=this.external.Scroller;u=this.external.breakpoints;q=this.external.ResultProduct;
f=b("html, body");this.external.storelocatorConfig.map.ratio=function(){var a=H.$scope.find(".box-store-locator-map"),b=H.$scope.find(".box-store-locator-controls \x3e .component-content");return a.outerHeight()/(b.offset().left+b.outerWidth())||1};new e(H.$scope)}},selector:".box-store-locator-holder",requires:[{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.breakpoints",apiId:"breakpoints"},{name:"whereToBuy.storelocatorToggle",apiId:"StorelocatorToggle"},{name:"whereToBuy.resultProduct",apiId:"ResultProduct"},
{name:"whereToBuy.scroller",apiId:"Scroller"},{name:"utils.simpleState",apiId:"SimpleState"},{name:"utils.preventParentScroll",apiId:"PreventParentScroll"},{name:"utils.idx",apiId:"idx"},{name:"storelocator.config",apiId:"storelocatorConfig"},{name:"utils.filters",apiId:"filters"},{name:"utils.url",apiId:"url"},{name:"analytics.eventsDefinition",apiId:"eventsDefinition"},{name:"analytics.utils",apiId:"analyticsUtils"}]})})(Cog.jQuery());
(function(){function b(a){this.$el=a;a=this.$el.find(".tab-item--map");var b=a.parents(".tabs-nav-item").index()||1;this.$map=this.$el.find(".box-store-locator-map");this.$mapTab=this.$el.find(".tabs-content").eq(b);this.$mapHolder=this.$map.parent();this.lastPageState={};a.parent("a").addClass("tab-item--map-link");d(this);this.bindEnquire();this.bindListeners()}b.prototype={sendMapToBackground:function(){this.$map.parent()[0]!==this.$mapHolder[0]&&this.$mapHolder.append(this.$map)},sendMapToTab:function(){this.$map.parent()[0]!==
this.$mapTab[0]&&this.$mapTab.append(this.$map)},refreshLocation:function(){[this.mobileView,3===this.activeStep].every(function(a){return!!a})?this.sendMapToTab():this.sendMapToBackground()},bindEnquire:function(){enquire.register("only screen and (max-width: "+f.maxMobile+"px)",{match:function(){this.lastPageState=k.getState("whereToBuy");this.mobileView=!0;this.refreshLocation()}.bind(this),unmatch:function(){this.mobileView=!1;this.refreshLocation();Cog.fireEvent("tab","select",{index:e(["results",
"tabIndex"],this.lastPageState)})}.bind(this)})},bindListeners:function(){Cog.addListener("whereToBuy","state:subscribe",function(a){this.activeStep=e(["eventData","step"],a);this.refreshLocation()}.bind(this))}};var e,f,k,d;Cog.registerComponent({name:"whereToBuy.responsive",api:{onRegister:function(a){f=f||this.external.breakpoints;k=k||this.external.SimpleState;e=e||this.external.idx;d=d||this.external.bindAll;new b(a.$scope)}},selector:".box-store-locator-holder",requires:[{name:"utils.breakpoints",
apiId:"breakpoints"},{name:"utils.idx",apiId:"idx"},{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.simpleState",apiId:"SimpleState"}]})})();
(function(b){function e(b,d){this.$holder=b;this.$smartbuttonHolder=d.parent();this.$image=b.find(".storelocator-product-image");this.$content=b.find(".storelocator-product");this.$title=this.$content.find(".storelocator-prefix");this.config=this.$content.closest(".storelocator-form").data("storelocator");d.remove();b.find(".where-to-buy-edit").attr("tabindex","0").attr("role","button");f(this)}e.prototype={reset:function(){this.$image.html("");this.$content.html("");this.$smartbuttonHolder.find(".buyitnow").remove();
this.$content.append(this.$title)},update:function(e){this.reset();this.$image.append(e.$image);this.$title.text(e.title);this.$content.append(b("\x3cdiv class\x3d'storelocator-result-size'\x3e\x3c/div\x3e").text(this.config.resultsSizeLabel+e.selectedSize));this.$content.append(this.processRatingStars(e.$rating.clone(!0)));this.$content.append(e.$edit);this.$smartbuttonHolder.append(e.$smartbutton.clone(!0))},processRatingStars:function(e){e.find("svg").each(function(d,a){a=b(a);d=a.find("linearGradient[id]");
var e=d.attr("id"),f=e+"-"+ +new Date;a=a.children("[style*\x3d'#"+e+"']");d.attr("id",f);a.each(function(a,c){b(c).attr("style","fill: url(#"+f+") !important")})});return e}};var f;Cog.registerStatic({name:"whereToBuy.resultProduct",api:{init:function(){f=f||this.external.bindAll}},sharedApi:e,requires:[{name:"utils.idx",apiId:"idx"},{name:"utils.bindAll",apiId:"bindAll"},{name:"utils.simpleState",apiId:"SimpleState"}]})})(Cog.jQuery());